###########################
# Ветка Испании
###########################

add_namespace = NWspain
add_namespace = lar_spain

#Выборы в испанский парламент
country_event = {
	id = NWspain.1
	title = NWspain.1.t
	desc = NWspain.1.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.1" }
	immediate = {
		set_variable = { SPRdemo = party_popularity@democratic }
		set_variable = { SPRking = party_popularity@monarchy }
		if = {
			limit = { has_country_flag = democrats_plus_autoritarian_flag }
			set_variable = { SPRneut = party_popularity@neutrality }
			add_to_variable = { SPRdemo = SPRneut }
		}
	}
	
	#Народный фронт одержал победу
	option = {
		name = NWspain.1.a
		trigger = {
			has_country_flag = democrats_available_elections_flag
			check_variable = { var = SPRdemo value = SPRking compare = greater_than_or_equals }
			NOT = { has_country_flag = libarals_win_flag }
		}
		complete_national_focus = SPR_victory_popular_front
		hidden_effect = {
			clr_country_flag = democrats_plus_autoritarian_flag
			country_event = { id = TRlegitimacy.8 }
			news_event = { id = trworldnews.62 hours = 6 }
		}
	}
	
	#Национальный блок одержал победу
	option = {
		name = NWspain.1.b
		trigger = {
			OR = {
				AND = {
					has_country_flag = democrats_available_elections_flag
					NOT = { has_country_flag = libarals_win_flag }
					check_variable = { var = SPRking value = SPRdemo compare = greater_than_or_equals }
				}
				AND = {
					NOT = { has_country_flag = democrats_available_elections_flag }
					NOT = { has_country_flag = libarals_win_flag }
				}
			}
		}
		complete_national_focus = SPR_victory_national_block
		hidden_effect = {
			clr_country_flag = democrats_plus_autoritarian_flag
			country_event = { id = TRlegitimacy.8 }
			news_event = { id = trworldnews.63 hours = 6 }
			every_unit_leader = {
				limit = {
					has_trait = trait_SPA_nationalist_sympathies
				}
				remove_unit_leader_trait = trait_SPA_nationalist_sympathies
			}
			every_unit_leader = {
				limit = {
					has_trait = trait_SPR_republican_loyalties
				}
				remove_unit_leader_trait = trait_SPR_republican_loyalties
			}
			every_unit_leader = {
				limit = {
					OR = {
						has_id = 4721
						has_id = 4722
						has_id = 4723
						has_id = 4724
						has_id = 4731
						has_id = 4741
						has_id = 4745
					}
				}
			    add_unit_leader_trait = trait_SPR_stalinist_loyalties
			}
			every_unit_leader = {
				limit = {
					OR = {
						has_id = 4725
						has_id = 4726
						has_id = 4727
					}
				}
				add_unit_leader_trait = trait_SPR_anarchist_loyalties
			}
		}
	}
	
	#Либеральная партия одержал победу
	option = {
		name = NWspain.1.c
		trigger = {
			has_country_flag = libarals_win_flag
		}
		complete_national_focus = SPR_victory_liberal_party
		hidden_effect = {
			clr_country_flag = democrats_plus_autoritarian_flag
			set_country_flag = libarals_loyality_flag
			news_event = { id = trworldnews.64 hours = 6 }
			
			set_variable = { f_agressive_level_var = 1 }
			set_variable = { f_influence_level_var = 1 }
			
			set_variable = { karl_agressive_level_var = 1 }
			set_variable = { karl_influence_level_var = 1 }
			
			set_variable = { nk_agressive_level_var = 2 }
			set_variable = { nk_influence_level_var = 3 }
			
			set_variable = { comm_agressive_level_var = 1 }
			set_variable = { comm_influence_level_var = 1 }
			
			set_variable = { sd_agressive_level_var = 2 }
			set_variable = { sd_influence_level_var = 2 }
			
			set_variable = { a_agressive_level_var = 2 }
			set_variable = { a_influence_level_var = 2 }
			
			every_unit_leader = {
				limit = {
					has_trait = trait_SPR_republican_loyalties
				}
				remove_unit_leader_trait = trait_SPR_republican_loyalties
			}
			every_unit_leader = {
				limit = {
					OR = {
						has_id = 4721
						has_id = 4722
						has_id = 4723
						has_id = 4724
						has_id = 4731
						has_id = 4741
						has_id = 4745
					}
				}
			    add_unit_leader_trait = trait_SPR_stalinist_loyalties
			}
			every_unit_leader = {
				limit = {
					OR = {
						has_id = 4725
						has_id = 4726
						has_id = 4727
					}
				}
				add_unit_leader_trait = trait_SPR_anarchist_loyalties
			}
			every_unit_leader = {
				limit = {
					OR = {
						has_id = 4709
						has_id = 4710
					    has_id = 4704
						has_id = 4706
						has_id = 4728
						has_id = 4730
						has_id = 4734
						has_id = 4735
					}
				}
				remove_unit_leader_trait = trait_SPA_nationalist_sympathies
			}
			every_unit_leader = {
				limit = {
					OR = {
						has_id = 4709
						has_id = 4710
					}
				}
				add_unit_leader_trait = trait_SPA_falangist_loyalties
			}
			every_unit_leader = {
				limit = {
					OR = {
					    has_id = 4704
						has_id = 4706
						has_id = 4728
						has_id = 4730
						has_id = 4734
						has_id = 4735
					}
				}
				add_unit_leader_trait = trait_SPA_carlist_loyalties
			}
		}
	}
}



##################
####  ВЫБОРЫ  ####
##################

#Национальный блок отказывает правительству в доверии
country_event = {
	id = NWspain.2
	title = NWspain.2.t
	desc = NWspain.2.desc
	picture = GFX_report_event_spr_event_2
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.2" }
	
	option = {
		name = NWspain.2.a
		ai_chance = {
			factor = 60
			modifier = {
				factor = 0
				OR = {
					has_country_flag = NW_SPR_AI_MONARCHY
					has_country_flag = NW_SPR_AI_MONARCHY_ALTERNATE
				}
			}
		}
		add_stability = -0.05
	}
	
	option = {
		name = NWspain.2.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				OR = {
					is_historical_focus_on = yes
					has_country_flag = NW_SPR_AI_DEMOCRATIC
					has_country_flag = NW_SPR_AI_COMMUNIST
				}
			}
			modifier = {
				add = 500
				OR = {
					has_country_flag = NW_SPR_AI_MONARCHY
					has_country_flag = NW_SPR_AI_MONARCHY_ALTERNATE
				}
			}
		}
		add_popularity = { ideology = monarchy popularity = 0.04 }
	}
}

#Снятие чрезвычайного положения
country_event = {
	id = NWspain.3
	title = NWspain.3.t
	desc = NWspain.3.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.3" }
	
	option = {
		name = NWspain.3.a
		ai_chance = {
			factor = 75
			modifier = {
				factor = 0
				OR = {
					has_country_flag = NW_SPR_AI_NEUTRAL
					has_country_flag = NW_SPR_AI_MONARCHY
					has_country_flag = NW_SPR_AI_MONARCHY_ALTERNATE
				}
			}
		}
		add_stability = -0.04
		custom_effect_tooltip = democrats_available_elections_flag_tt
		set_country_flag = democrats_available_elections_flag
	}
	
	option = {
		name = NWspain.3.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				OR = {
					is_historical_focus_on = yes
					has_country_flag = NW_SPR_AI_DEMOCRATIC
					has_country_flag = NW_SPR_AI_COMMUNIST
				}
			}
			modifier = {
				add = 500
				OR = {
					has_country_flag = NW_SPR_AI_NEUTRAL
					has_country_flag = NW_SPR_AI_MONARCHY
					has_country_flag = NW_SPR_AI_MONARCHY_ALTERNATE
				}
			}
		}
		add_stability = -0.02
		custom_effect_tooltip = democrats_not_available_elections_flag_tt
	}
}

#Пульсар // Левые партии образуют Народный Фронт
country_event = {
	id = NWspain.990
	is_triggered_only = yes
	hidden = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.990" }
	
	option = {
		name = NWspain.990.a
		if = {
			limit = { has_country_flag = democrats_available_elections_flag }
			country_event = { id = NWspain.4 }
		}
	}
	
}

#Левые партии образуют Народный Фронт
country_event = {
	id = NWspain.4
	title = NWspain.4.t
	desc = NWspain.4.desc
	picture = GFX_report_event_communist_leader
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.4" }
	
	option = {
		name = NWspain.4.a
		ai_chance = {
			factor = 75
		}
		if = {
			limit = { communism < 0.05 }
			set_temp_variable = { temp_communism = 0 }
			subtract_from_temp_variable = { temp_communism = party_popularity@communism }
			add_to_temp_variable = { temp_nf = party_popularity@communism }
			add_popularity = { ideology = communism popularity = temp_communism }
		}
		else = {
			add_popularity = { ideology = communism popularity = -0.05 }
			add_to_temp_variable = { temp_nf = 0.05 }
		}
		if = {
			limit = { trozkism < 0.05 }
			set_temp_variable = { temp_trozkism = 0 }
			subtract_from_temp_variable = { temp_trozkism = party_popularity@trozkism }
			add_to_temp_variable = { temp_nf = party_popularity@trozkism }
			add_popularity = { ideology = trozkism popularity = temp_trozkism }
		}
		else = {
			add_popularity = { ideology = trozkism popularity = -0.05 }
			add_to_temp_variable = { temp_nf = 0.05 }
		}
		if = {
			limit = { anarchism < 0.05 }
			set_temp_variable = { temp_anarchism = 0 }
			subtract_from_temp_variable = { temp_anarchism = party_popularity@anarchism }
			add_to_temp_variable = { temp_nf = party_popularity@anarchism }
			add_popularity = { ideology = anarchism popularity = temp_anarchism }
		}
		else = {
			add_popularity = { ideology = anarchism popularity = -0.05 }
			add_to_temp_variable = { temp_nf = 0.05 }
		}
		add_to_temp_variable = { temp_nf = 0.03 }
		add_popularity = { ideology = democratic popularity = temp_nf }
		set_party_name = { ideology = democratic name = SPR_popular_front_party long_name = SPR_popular_front_party }
	}
	
	#option = {
	#	name = NWspain.4.b
	#	ai_chance = {
	#		factor = 25
	#		modifier = {
	#			factor = 0
	#			is_historical_focus_on = yes
	#		}
	#	}
	#	custom_effect_tooltip = democrats_plus_autoritarian_tt
	#	set_country_flag = democrats_plus_autoritarian_flag
	#}
}

#Анархисты призывают голосовать за левых
country_event = {
	id = NWspain.5
	title = NWspain.5.t
	desc = NWspain.5.desc
	picture = GFX_report_event_communists_cheer
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.5" }
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					ROOT = {
						is_ai = yes
						NOT = { has_country_flag = democrats_available_elections_flag }
					}
				}
				ROOT = { country_event = { id = NWspain.8 hours = 1 } }
			}
			if = {
				limit = {
					ROOT = {
						is_ai = no
						NOT = { has_country_flag = democrats_available_elections_flag }
						neutrality > 0.150
					}
				}
				ROOT = { country_event = { id = NWspain.9 days = 1 } }
			}
		}
	}
	
	option = {
		name = NWspain.5.a
		ai_chance = {
			factor = 75
			modifier = {
				factor = 0
				OR = {
					has_country_flag = NW_SPR_AI_NEUTRAL
					has_country_flag = NW_SPR_AI_MONARCHY
					has_country_flag = NW_SPR_AI_MONARCHY_ALTERNATE
				}
			}
		}
		add_popularity = { ideology = democratic popularity = 0.04 }
		add_popularity = { ideology = monarchy popularity = -0.02 }
	}
	
	option = {
		name = NWspain.5.b
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0
				OR = {
					is_historical_focus_on = yes
					has_country_flag = NW_SPR_AI_DEMOCRATIC
					has_country_flag = NW_SPR_AI_COMMUNIST
				}
			}
			modifier = {
				add = 500
				OR = {
					has_country_flag = NW_SPR_AI_NEUTRAL
					has_country_flag = NW_SPR_AI_MONARCHY
					has_country_flag = NW_SPR_AI_MONARCHY_ALTERNATE
				}
			}
		}
		add_popularity = { ideology = anarchism popularity = -0.01 }
		add_political_power = -50
		add_stability = -0.02
	}
}

#Каталонцы поддерживают либералов
country_event = {
	id = NWspain.6
	title = NWspain.6.t
	desc = NWspain.6.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.6" }
	
	option = {
		name = NWspain.6.a
		ai_chance = {
			factor = 50
		}
		add_popularity = { ideology = democratic popularity = -0.1 }
		add_popularity = { ideology = neutrality popularity = 0.1 }
		remove_ideas = SPR_catalon_nationalism
		hidden_effect = {
			CAT = {
				inherit_technology = SPR
				set_country_flag = catalonia_focus_democrat_flag
				load_focus_tree = catalonia_focus_democrat
				set_popularities = {
					democratic = 40
					monarchy = 10
					neutrality = 17
					trozkism = 3
					anarchism = 30
				}
				set_politics = {
					ruling_party = democratic
					last_election = "1933.2.16"
					election_frequency = 36
					elections_allowed = yes
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 10000
				}
				division_template = {
					name = "Catalon Brigada"
					priority = 1
					is_locked = no
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
					}
				}
				random_owned_state = {
					create_unit = {
						division = "name = \"Catalon Brigada\" division_template = \"Catalon Brigada\" start_experience_factor = 0.4" 
						owner = CAT
						count = 6
						allow_spawning_on_enemy_provs = yes
					}
				}
			}
		}
	}
}

#Баски поддерживают либералов
country_event = {
	id = NWspain.7
	title = NWspain.7.t
	desc = NWspain.7.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.7" }
	
	option = {
		name = NWspain.7.a
		ai_chance = {
			factor = 50
		}
		add_popularity = { ideology = democratic popularity = -0.05 }
		add_popularity = { ideology = neutrality popularity = 0.05 }
		remove_ideas = SPR_basks_nationalism
		hidden_effect = {
			BAS = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 5000
				}
				set_popularities = {
					democratic = 33
					monarchy = 32
					neutrality = 35
				}
				set_politics = {	
					ruling_party = neutrality
					last_election = "1935.1.1"
					election_frequency = 36
					elections_allowed = yes
				}
				division_template = {
					name = "Euzko Gudarosteko Eskuadroia"
					priority = 1
					is_locked = no
					division_names_group = SPD_INF_05
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
					}
				}
				random_owned_state = {
					create_unit = {
						division = "name = \"Euzko Gudarosteko Eskuadroia\" division_template = \"Euzko Gudarosteko Eskuadroia\" start_experience_factor = 0.4" 
						owner = BAS
						count = 6
						allow_spawning_on_enemy_provs = yes
					}
				}
			}
		}
	}
}

#Предоставление независимости Каталонии для ИИ
country_event = {
	id = NWspain.8
	title = NWspain.8.t
	desc = NWspain.8.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.8" }
	
	option = {
		name = NWspain.8.a
		ai_chance = {
			factor = 85
			modifier = {
				factor = 0
				has_country_flag = NW_SPR_AI_NEUTRAL
			}
		}
	}
	
	option = {
		name = NWspain.8.b
		ai_chance = {
			factor = 15
			modifier = {
				factor = 0
				OR = {
					is_historical_focus_on = yes
					has_country_flag = NW_SPR_AI_DEMOCRATIC
					has_country_flag = NW_SPR_AI_COMMUNIST
				}
			}
			modifier = {
				add = 500
				has_country_flag = NW_SPR_AI_NEUTRAL
			}
		}
		add_popularity = { ideology = democratic popularity = -0.1 }
		add_popularity = { ideology = neutrality popularity = 0.1 }
		release_puppet = CAT
		remove_ideas = SPR_catalon_nationalism
		hidden_effect = {
			CAT = {
				add_ideas = SPR_spain_subject_idea
				inherit_technology = SPR
				set_country_flag = catalonia_focus_democrat_flag
				load_focus_tree = catalonia_focus_democrat
				set_popularities = {
					democratic = 40
					monarchy = 10
					neutrality = 17
					trozkism = 3
					anarchism = 30
				}
				set_politics = {
					ruling_party = democratic
					last_election = "1933.2.16"
					election_frequency = 36
					elections_allowed = yes
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 10000
				}
				division_template = {
					name = "Catalon Brigada"
					is_locked = no
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
					}
				}
				random_owned_state = {
					create_unit = {
						division = "name = \"Catalon Brigada\" division_template = \"Catalon Brigada\" start_experience_factor = 0.4" 
						owner = CAT
						count = 5
						allow_spawning_on_enemy_provs = yes
					}
				}
			}
			if = {
				limit = {
					ROOT = {
						NOT = { has_country_flag = democrats_available_elections_flag }
						neutrality > 0.150
					}
				}
				ROOT = { country_event = { id = NWspain.9 days = 1 } }
			}
		}
	}
}

#Фальсификация на выборах
country_event = {
	id = NWspain.9
	title = NWspain.9.t
	desc = NWspain.9.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.9" }
	
	option = {
		name = NWspain.9.a
		ai_chance = {
			factor = 50
		}
		set_country_flag = libarals_win_flag
		add_political_power = -50
		set_party_name = { ideology = neutrality name = SPR_liberal_party long_name = SPR_liberal_party_long }
	}
	
	option = {
		name = NWspain.9.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				CAT = { is_puppet_of = ROOT }
			}
			modifier = {
				factor = 0
				has_country_flag = NW_SPR_AI_NEUTRAL
			}
		}
	}
}

#Каталония просит предоставить автономию // После победы НФ
country_event = {
	id = NWspain.10
	title = NWspain.10.t
	desc = NWspain.10.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.10" }
	
	option = {
		name = NWspain.10.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				NOT = { is_historical_focus_on = yes }
				OR = {
					has_country_flag = NW_SPR_AI_DEMOCRATIC
					has_country_flag = NW_SPR_AI_COMMUNIST
				}
			}
		}
		release_puppet = CAT
		hidden_effect = {
			CAT = {
				add_ideas = SPR_spain_subject_idea
				inherit_technology = SPR
				set_country_flag = catalonia_focus_democrat_flag
				load_focus_tree = catalonia_focus_democrat
				set_popularities = {
					democratic = 40
					monarchy = 10
					neutrality = 17
					trozkism = 3
					anarchism = 30
				}
				set_politics = {
					ruling_party = democratic
					last_election = "1933.2.16"
					election_frequency = 36
					elections_allowed = yes
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 5000
				}
				division_template = {
					name = "Catalon Brigada"
					priority = 1
					is_locked = no
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
					}
				}
				random_owned_state = {
					create_unit = {
						division = "name = \"Catalon Brigada\" division_template = \"Catalon Brigada\" start_experience_factor = 0.4" 
						owner = CAT
						count = 6
						allow_spawning_on_enemy_provs = yes
					}
				}
			}
		}
		remove_ideas = SPR_catalon_nationalism
	}
	
	option = {
		name = NWspain.10.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		add_stability = -0.05
		add_popularity = { ideology = democratic popularity = -0.1 }
	}
	
	option = {
		name = NWspain.10.c
		trigger = { is_ai = no }
		release_puppet = CAT
		hidden_effect = {
			CAT = {
				add_ideas = SPR_spain_subject_idea
				inherit_technology = SPR
				set_country_flag = catalonia_focus_democrat_flag
				load_focus_tree = catalonia_focus_democrat
				set_popularities = {
					democratic = 40
					monarchy = 10
					neutrality = 17
					trozkism = 3
					anarchism = 30
				}
				set_politics = {
					ruling_party = democratic
					last_election = "1933.2.16"
					election_frequency = 36
					elections_allowed = yes
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 5000
				}
				division_template = {
					name = "Catalon Brigada"
					priority = 1
					is_locked = no
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
					}
				}
				random_owned_state = {
					create_unit = {
						division = "name = \"Catalon Brigada\" division_template = \"Catalon Brigada\" start_experience_factor = 0.4" 
						owner = CAT
						count = 6
						allow_spawning_on_enemy_provs = yes
					}
				}
			}
		}
		remove_ideas = SPR_catalon_nationalism
		CAT = { change_tag_from = ROOT }
	}
}

#Страна Басков просит предоставить автономию // После победы НФ
country_event = {
	id = NWspain.11
	title = NWspain.11.t
	desc = NWspain.11.desc
	picture = GFX_report_event_generic_rally_3
	#is_triggered_only = yes
	fire_only_once = yes
	
	trigger = {
		tag = SPR
		date > 1936.08.1
		NOT = { SPR = { has_war_with = SPA } }
		SPR = { has_completed_focus = SPR_victory_popular_front }
		has_idea = SPR_desire_for_decentralization
		has_full_control_of_state = 792
		NOT = { country_exists = BAS }
		NOT = {
			has_global_flag = THE_MOTHER_OF_ORDER_FLAG
			has_global_flag = WORLD_OF_SPLIT_FLAG
		}
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.11" }
	
	option = {
		name = NWspain.11.a
		ai_chance = {
			factor = 50
		}
		release_puppet = BAS
		remove_ideas = SPR_basks_nationalism
		BAS = { inherit_technology = SPR }
		if = {
			limit = { SPR = { has_full_control_of_state = 172 } }
			BAS = { transfer_state = 792 }
		}
		hidden_effect = {
			BAS = {
				add_ideas = SPR_spain_subject_idea
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 5000
				}
				set_popularities = {
					democratic = 33
					fascism = 0
					communism = 0
					monarchy = 32
					neutrality = 35
				}
				set_politics = {	
					ruling_party = neutrality
					last_election = "1935.1.1"
					election_frequency = 36
					elections_allowed = yes
				}
				division_template = {
					name = "Euzko Gudarosteko Eskuadroia"
					priority = 1
					is_locked = no
					division_names_group = SPD_INF_05
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
					}
				}
				random_owned_state = {
					create_unit = {
						division = "name = \"Euzko Gudarosteko Eskuadroia\" division_template = \"Euzko Gudarosteko Eskuadroia\" start_experience_factor = 0.4" 
						owner = BAS
						count = 4
						allow_spawning_on_enemy_provs = yes
					}
				}
				transfer_ship = {
			        prefer_name = "ARE José Luis Díez"
			        type = destroyer
			        target = BAS
			    }
			}
		}
	}
	
	option = {
		name = NWspain.11.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		add_stability = -0.03
		add_popularity = { ideology = democratic popularity = -0.05 }
	}
}

#Арагон просит предоставить автономию
country_event = {
	id = NWspain.12
	title = NWspain.12.t
	desc = NWspain.12.desc
	picture = GFX_report_event_generic_rally_3
	fire_only_once = yes
	
	trigger = {
		tag = SPR
		date > 1936.07.20
		OR = {
			NOT = { has_global_flag = spanish_civil_war }
			has_global_flag = scw_over
		}
		NOT = { has_global_flag = expand_spanish_civil_war }
		NOT = { has_global_flag = anarcho_spanish_civil_war }
		SPR = { has_completed_focus = SPR_victory_popular_front }
		has_idea = SPR_desire_for_decentralization
		OR = {
			has_full_control_of_state = 166
			has_full_control_of_state = 794
		}
		NOT = { country_exists = ARA }
		NOT = {
			has_global_flag = THE_MOTHER_OF_ORDER_FLAG
			has_global_flag = WORLD_OF_SPLIT_FLAG
		}
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.12" }
	
	option = {
		name = NWspain.12.a
		ai_chance = {
			factor = 75
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		release_puppet = ARA
		hidden_effect = {
			ARA = {
				add_ideas = SPR_spain_subject_idea
				inherit_technology = SPR
				set_country_flag = aragon_focus_democrat_flag
				load_focus_tree = aragon_focus_democrat
				set_popularities = {
					democratic = 20
					fascism = 20
					monarchy = 30
					anarchism = 30
				}
				set_politics = {
					ruling_party = democratic
					last_election = "1933.2.16"
					election_frequency = 36
					elections_allowed = yes
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 5000
				}
				division_template = {
					name = "Aragons Brigada"
					priority = 1
					is_locked = no
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
					}
				}
				random_owned_state = {
					create_unit = {
						division = "name = \"Aragons Brigada\" division_template = \"Aragons Brigada\" start_experience_factor = 0.4" 
						owner = ARA
						count = 8
						allow_spawning_on_enemy_provs = yes
					}
				}
			}
		}
		custom_effect_tooltip = SPR_desire_for_decentralization_tt
		set_country_flag = SPR_decentralization_1_flag
	}
	
	option = {
		name = NWspain.12.b
		ai_chance = {
			factor = 50
		}
		add_stability = -0.03
		if = {
			limit = { has_government = fascism }
			add_popularity = {
				ideology = fascism
				popularity = -0.05
			}
		}
		if = {
			limit = { has_government = communism }
			add_popularity = {
				ideology = communism
				popularity = -0.05
			}
		}
		if = {
			limit = { has_government = democratic }
			add_popularity = {
				ideology = democratic
				popularity = -0.05
			}
		}
		if = {
			limit = { has_government = neutrality }
			add_popularity = {
				ideology = neutrality
				popularity = -0.05
			}
		}
		if = {
			limit = { has_government = monarchy }
			add_popularity = {
				ideology = monarchy
				popularity = -0.05
			}
		}
		if = {
			limit = { has_government = trozkism }
			add_popularity = {
				ideology = trozkism
				popularity = -0.05
			}
		}
		if = {
			limit = { has_government = anarchism }
			add_popularity = {
				ideology = anarchism
				popularity = -0.05
			}
		}
	}
	
	option = {
		name = NWspain.12.c
		trigger = { is_ai = no }
		release_puppet = ARA
		hidden_effect = {
			ARA = {
				add_ideas = SPR_spain_subject_idea
				inherit_technology = SPR
				set_country_flag = aragon_focus_democrat_flag
				load_focus_tree = aragon_focus_democrat
				set_popularities = {
					democratic = 20
					fascism = 20
					monarchy = 30
					anarchism = 30
				}
				set_politics = {
					ruling_party = democratic
					last_election = "1933.2.16"
					election_frequency = 36
					elections_allowed = yes
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 5000
				}
				division_template = {
					name = "Aragons Brigada"
					priority = 1
					is_locked = no
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
					}
				}
				random_owned_state = {
					create_unit = {
						division = "name = \"Aragons Brigada\" division_template = \"Aragons Brigada\" start_experience_factor = 0.4" 
						owner = ARA
						count = 8
						allow_spawning_on_enemy_provs = yes
					}
				}
			}
		}
		set_country_flag = SPR_decentralization_1_flag
		ARA = { change_tag_from = ROOT }
	}
}

#Галисия просит предоставить автономию // После победы НФ
country_event = {
	id = NWspain.13
	title = NWspain.13.t
	desc = NWspain.13.desc
	picture = GFX_report_event_generic_rally_3
	fire_only_once = yes
	
	trigger = {
		tag = SPR
		date > 1936.07.21
		OR = {
			NOT = { has_global_flag = spanish_civil_war }
			has_global_flag = scw_over
		}
		SPR = { has_completed_focus = SPR_victory_popular_front }
		has_idea = SPR_desire_for_decentralization
		has_full_control_of_state = 171
		NOT = { country_exists = GLC }
		NOT = {
			has_global_flag = THE_MOTHER_OF_ORDER_FLAG
			has_global_flag = WORLD_OF_SPLIT_FLAG
		}
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.13" }
	
	option = {
		name = NWspain.13.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 3
				CAT = { is_puppet_of = ROOT }
			}
		}
		release_puppet = GLC
		hidden_effect = {
			GLC = {
				add_ideas = SPR_spain_subject_idea
				inherit_technology = SPR
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 5000
				}
				division_template = {
					name = "Galician Brigada"
					priority = 1
					is_locked = no
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
					}
				}
				random_owned_state = {
					create_unit = {
						division = "name = \"Galician Brigada\" division_template = \"Galician Brigada\" start_experience_factor = 0.4" 
						owner = GLC
						count = 4
						allow_spawning_on_enemy_provs = yes
					}
				}
			}
		}
		if = {
			limit = { has_country_flag = SPR_decentralization_1_flag }
			remove_ideas = SPR_desire_for_decentralization
			clr_country_flag = SPR_decentralization_1_flag
		}
		else = { set_country_flag = SPR_decentralization_1_flag }
	}
	
	option = {
		name = NWspain.13.b
		ai_chance = {
			factor = 50
		}
		add_stability = -0.03
		if = {
			limit = { has_government = fascism }
			add_popularity = {
				ideology = fascism
				popularity = -0.05
			}
		}
		if = {
			limit = { has_government = communism }
			add_popularity = {
				ideology = communism
				popularity = -0.05
			}
		}
		if = {
			limit = { has_government = democratic }
			add_popularity = {
				ideology = democratic
				popularity = -0.05
			}
		}
		if = {
			limit = { has_government = neutrality }
			add_popularity = {
				ideology = neutrality
				popularity = -0.05
			}
		}
		if = {
			limit = { has_government = monarchy }
			add_popularity = {
				ideology = monarchy
				popularity = -0.05
			}
		}
		if = {
			limit = { has_government = trozkism }
			add_popularity = {
				ideology = trozkism
				popularity = -0.05
			}
		}
		if = {
			limit = { has_government = anarchism }
			add_popularity = {
				ideology = anarchism
				popularity = -0.05
			}
		}
	}
}

#Астурия просит предоставить автономию // После победы НФ
country_event = {
	id = NWspain.1013
	title = NWspain.1013.t
	desc = NWspain.1013.desc
	picture = GFX_report_event_generic_rally_3
	fire_only_once = yes
	
	trigger = {
		tag = SPR
		date > 1936.07.22
		OR = {
			NOT = { has_global_flag = spanish_civil_war }
			has_global_flag = scw_over
		}
		SPR = { has_completed_focus = SPR_victory_popular_front }
		has_idea = SPR_desire_for_decentralization
		has_full_control_of_state = 790
		NOT = { country_exists = ASU }
		NOT = {
			has_global_flag = THE_MOTHER_OF_ORDER_FLAG
			has_global_flag = WORLD_OF_SPLIT_FLAG
		}
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.1013" }
	
	option = {
		name = NWspain.1013.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 3
				ASU = { is_puppet_of = ROOT }
			}
		}
		release_puppet = ASU
		hidden_effect = {
			ASU = {
				add_ideas = SPR_spain_subject_idea
				inherit_technology = SPR
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 5000
				}
				division_template = {
					name = "Asturian Brigada"
					priority = 1
					is_locked = no
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
					}
				}
				random_owned_state = {
					create_unit = {
						division = "name = \"Asturian Brigada\" division_template = \"Asturian Brigada\" start_experience_factor = 0.4" 
						owner = ASU
						count = 4
						allow_spawning_on_enemy_provs = yes
					}
				}
			}
		}
		if = {
			limit = { has_country_flag = SPR_decentralization_1_flag }
			remove_ideas = SPR_desire_for_decentralization
			clr_country_flag = SPR_decentralization_1_flag
		}
		else = { set_country_flag = SPR_decentralization_1_flag }
	}
	
	option = {
		name = NWspain.1013.b
		ai_chance = {
			factor = 50
		}
		add_stability = -0.03
		if = {
			limit = { has_government = fascism }
			add_popularity = {
				ideology = fascism
				popularity = -0.05
			}
		}
		if = {
			limit = { has_government = communism }
			add_popularity = {
				ideology = communism
				popularity = -0.05
			}
		}
		if = {
			limit = { has_government = democratic }
			add_popularity = {
				ideology = democratic
				popularity = -0.05
			}
		}
		if = {
			limit = { has_government = neutrality }
			add_popularity = {
				ideology = neutrality
				popularity = -0.05
			}
		}
		if = {
			limit = { has_government = monarchy }
			add_popularity = {
				ideology = monarchy
				popularity = -0.05
			}
		}
		if = {
			limit = { has_government = trozkism }
			add_popularity = {
				ideology = trozkism
				popularity = -0.05
			}
		}
		if = {
			limit = { has_government = anarchism }
			add_popularity = {
				ideology = anarchism
				popularity = -0.05
			}
		}
	}
}

#Сантадер просит предоставить автономию // После победы НФ
country_event = {
	id = NWspain.1014
	title = NWspain.1014.t
	desc = NWspain.1014.desc
	picture = GFX_report_event_generic_rally_3
	fire_only_once = yes
	
	trigger = {
		tag = SPR
		date > 1936.07.23
		OR = {
			NOT = { has_global_flag = spanish_civil_war }
			has_global_flag = scw_over
		}
		SPR = { has_completed_focus = SPR_victory_popular_front }
		has_idea = SPR_desire_for_decentralization
		has_full_control_of_state = 982
		NOT = { country_exists = SNT }
		NOT = {
			has_global_flag = THE_MOTHER_OF_ORDER_FLAG
			has_global_flag = WORLD_OF_SPLIT_FLAG
		}
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.1014" }
	
	option = {
		name = NWspain.1014.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 3
				SNT = { is_puppet_of = ROOT }
			}
		}
		release_puppet = SNT
		hidden_effect = {
			SNT = {
				add_ideas = SPR_spain_subject_idea
				inherit_technology = SPR
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 5000
				}
				division_template = {
					name = "Santador Brigada"
					priority = 1
					is_locked = no
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
					}
				}
				random_owned_state = {
					create_unit = {
						division = "name = \"Santador Brigada\" division_template = \"Santador Brigada\" start_experience_factor = 0.4" 
						owner = SNT
						count = 4
						allow_spawning_on_enemy_provs = yes
					}
				}
			}
		}
		if = {
			limit = { has_country_flag = SPR_decentralization_1_flag }
			remove_ideas = SPR_desire_for_decentralization
			clr_country_flag = SPR_decentralization_1_flag
		}
		else = { set_country_flag = SPR_decentralization_1_flag }
	}
	
	option = {
		name = NWspain.1014.b
		ai_chance = {
			factor = 50
		}
		add_stability = -0.03
		if = {
			limit = { has_government = fascism }
			add_popularity = {
				ideology = fascism
				popularity = -0.05
			}
		}
		if = {
			limit = { has_government = communism }
			add_popularity = {
				ideology = communism
				popularity = -0.05
			}
		}
		if = {
			limit = { has_government = democratic }
			add_popularity = {
				ideology = democratic
				popularity = -0.05
			}
		}
		if = {
			limit = { has_government = neutrality }
			add_popularity = {
				ideology = neutrality
				popularity = -0.05
			}
		}
		if = {
			limit = { has_government = monarchy }
			add_popularity = {
				ideology = monarchy
				popularity = -0.05
			}
		}
		if = {
			limit = { has_government = trozkism }
			add_popularity = {
				ideology = trozkism
				popularity = -0.05
			}
		}
		if = {
			limit = { has_government = anarchism }
			add_popularity = {
				ideology = anarchism
				popularity = -0.05
			}
		}
	}
}

#Валенсия просит предоставить автономию // После победы НФ
country_event = {
	id = NWspain.1015
	title = NWspain.1015.t
	desc = NWspain.1015.desc
	picture = GFX_report_event_generic_rally_3
	fire_only_once = yes
	
	trigger = {
		tag = SPR
		date > 1936.07.24
		OR = {
			NOT = { has_global_flag = spanish_civil_war }
			has_global_flag = scw_over
		}
		SPR = { has_completed_focus = SPR_victory_popular_front }
		has_idea = SPR_desire_for_decentralization
		has_full_control_of_state = 167
		NOT = { country_exists = VLA }
		NOT = {
			has_global_flag = THE_MOTHER_OF_ORDER_FLAG
			has_global_flag = WORLD_OF_SPLIT_FLAG
		}
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.1015" }
	
	option = {
		name = NWspain.1015.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		release_puppet = VLA
		hidden_effect = {
			VLA = {
				add_ideas = SPR_spain_subject_idea
				set_popularities = {
					democratic = 50
					communism = 15
					neutrality = 20
					anarchism = 15
				}
				set_politics = {
					ruling_party = democratic
					last_election = "1935.1.1"
					election_frequency = 36
					elections_allowed = yes
				}
				inherit_technology = SPR
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 5000
				}
				division_template = {
					name = "Valencian Brigada"
					priority = 1
					is_locked = no
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
					}
				}
				every_owned_state = {
					create_unit = {
						division = "name = \"Valencian Brigada\" division_template = \"Valencian Brigada\" start_experience_factor = 0.4" 
						owner = VLA
						count = 2
						allow_spawning_on_enemy_provs = yes
					}
				}
			}
		}
		if = {
			limit = { has_country_flag = SPR_decentralization_1_flag }
			remove_ideas = SPR_desire_for_decentralization
		}
		clr_country_flag = SPR_decentralization_1_flag
		
	}
	
	option = {
		name = NWspain.1015.b
		ai_chance = {
			factor = 50
		}
		add_stability = -0.03
		if = {
			limit = { has_government = fascism }
			add_popularity = {
				ideology = fascism
				popularity = -0.05
			}
		}
		if = {
			limit = { has_government = communism }
			add_popularity = {
				ideology = communism
				popularity = -0.05
			}
		}
		if = {
			limit = { has_government = democratic }
			add_popularity = {
				ideology = democratic
				popularity = -0.05
			}
		}
		if = {
			limit = { has_government = neutrality }
			add_popularity = {
				ideology = neutrality
				popularity = -0.05
			}
		}
		if = {
			limit = { has_government = monarchy }
			add_popularity = {
				ideology = monarchy
				popularity = -0.05
			}
		}
		if = {
			limit = { has_government = trozkism }
			add_popularity = {
				ideology = trozkism
				popularity = -0.05
			}
		}
		if = {
			limit = { has_government = anarchism }
			add_popularity = {
				ideology = anarchism
				popularity = -0.05
			}
		}
		clr_country_flag = SPR_decentralization_1_flag
	}
}



#Распад Народного фронта // Выборы в III Кортесы Республики
country_event = {
	id = NWspain.14
	title = NWspain.14.t
	desc = NWspain.14.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.14" }
	
	option = {
		name = NWspain.14.a
		add_popularity = {
			ideology = democratic
			popularity = -0.2
		}
		add_popularity = {
			ideology = anarchism
			popularity = 0.1
		}
		add_popularity = {
			ideology = communism
			popularity = 0.1
		}
		set_party_name = { ideology = democratic name = SPR_republic_left long_name = SPR_republic_left }
	}
}

#Марксисты и анархисты пытаются отстранить социалистов от власти // Выборы в III Кортесы Республики
country_event = {
	id = NWspain.15
	title = NWspain.15.t
	desc = NWspain.15.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.15" }
	
	option = {
		name = NWspain.15.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 10
				is_historical_focus_on = yes
			}
		}
		add_stability = 0.05
		add_political_power = -50
		add_popularity = {
			ideology = communism
			popularity = -0.05
		}
		add_popularity = {
			ideology = anarchism
			popularity = -0.05
		}
		if = {
			limit = { trozkism > 0.05 }
			add_popularity = {
				ideology = trozkism
				popularity = -0.05
			}
			add_popularity = {
				ideology = democratic
				popularity = 0.15
			}
		}
		else = {
			add_popularity = {
				ideology = democratic
				popularity = 0.1
			}
		}
		set_country_flag = democrats_available_second_elections_flag
	}
	
	option = {
		name = NWspain.15.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				ARA = { has_completed_focus = ARA_propaganda_in_spain }
				is_historical_focus_on = no
			}
			modifier = {
				factor = 2
				ARA = { has_completed_focus = ARA_call_to_anarchists_spain }
				is_historical_focus_on = no
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		add_stability = -0.07
		set_temp_variable = {
			var = temp1
			value = party_popularity@democratic
		}
		multiply_temp_variable = { temp1 = -1 }
		add_popularity = {
			ideology = democratic
			popularity = temp1
		}
		multiply_temp_variable = { temp1 = -0.5 }
		add_popularity = {
			ideology = communism
			popularity = temp1
		}
		add_popularity = {
			ideology = anarchism
			popularity = temp1
		}
		custom_effect_tooltip = democrats_not_available_elections_flag_tt
	}
}

#2 выборы в испанский парламент
country_event = {
	id = NWspain.16
	title = NWspain.16.t
	desc = NWspain.16.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.16" }
	
	immediate = {
		set_variable = { SPRdemo = party_popularity@democratic }
		set_variable = { SPRtroz = party_popularity@trozkism }
		add_to_variable = { SPRtroz = party_popularity@communism }
		#set_variable = { SPRanarch = party_popularity@anarchism }
	}
	
	#Победа социалистов
	option = {
		name = NWspain.16.a
		trigger = {
			has_country_flag = democrats_available_second_elections_flag
			check_variable = { var = SPRdemo value = SPRtroz compare = greater_than_or_equals }
			#check_variable = { var = SPRdemo value = SPRanarch compare = greater_than_or_equals }
		}
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
		complete_national_focus = SPR_victory_socialists
	}
	
	#Победа ПОУМ
	option = {
		name = NWspain.16.b
		trigger = {
			OR = {
				AND = {
					has_country_flag = democrats_available_second_elections_flag
					check_variable = { var = SPRtroz value = SPRdemo compare = greater_than_or_equals }
					#check_variable = { var = SPRtroz value = SPRanarch compare = greater_than_or_equals }
				}
				AND = {
					NOT = { has_country_flag = democrats_available_second_elections_flag }
					#check_variable = { var = SPRtroz value = SPRanarch compare = greater_than_or_equals }
				}
			}
		}
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
		complete_national_focus = SPR_independent_communists
	}
	
	#Победа анархистов
	option = {
		name = NWspain.16.c
		trigger = {
			always = no
			OR = {
				AND = {
					has_country_flag = democrats_available_second_elections_flag
					check_variable = { var = SPRanarch value = SPRdemo compare = greater_than_or_equals }
					check_variable = { var = SPRanarch value = SPRtroz compare = greater_than_or_equals }
				}
				AND = {
					NOT = { has_country_flag = democrats_available_second_elections_flag }
					check_variable = { var = SPRanarch value = SPRtroz compare = greater_than_or_equals }
				}
			}
		}
		add_popularity = {
			ideology = anarchism
			popularity = 0.05
		}
		complete_national_focus = SPR_anarchists_victory
	}
}

#Арагонские анархисты
country_event = {
	id = NWspain.17
	title = NWspain.17.t
	desc = NWspain.17.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.17" }
	
	option = {
		name = NWspain.17.a
		ai_chance = {
			factor = 90
			modifier = {
				factor = 0.05
				is_historical_focus_on = no
				OR = {
					has_civil_war = yes
					any_of_scopes = {
						array = global.majors
						has_war_with = ROOT
					}
				}
			}
		}
		add_political_power = -25
		if = {
			limit = { ARA = { is_subject_of = ROOT } }
			set_autonomy = {
				target = ARA
				autonomy_state = autonomy_free
			}
			if = {
				limit = { ARA = { is_in_faction = yes } }
				ARA = { leave_faction = yes }
			}
		}
		create_wargoal = {
			type = annex_everything
			target = ARA
			expire = 0
		}
		add_ai_strategy = {
			type = antagonize
			id = "ARA"
			value = 500
		}
		add_ai_strategy = {
			type = conquer
			id = "ARA" 
			value = 500
		}
		add_ai_strategy = {
			type = declare_war
			id = "ARA" 
			value = 500
		}
	}
	
	option = {
		name = NWspain.17.b
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		add_political_power = 15
		set_country_flag = not_war_with_aragon_now_flag
	}
}

#Арагонские анархисты // повтор при мире
country_event = {
	id = NWspain.18
	title = NWspain.18.t
	desc = NWspain.18.desc
	picture = GFX_report_event_generic_rally_3
	fire_only_once = yes
	
	trigger = {
		tag = SPR
		country_exists = ARA
		has_country_flag = not_war_with_aragon_now_flag
		SPR = {
			has_war = no
			has_civil_war = no
		}
		NOT = {
			has_global_flag = THE_MOTHER_OF_ORDER_FLAG
			has_global_flag = WORLD_OF_SPLIT_FLAG
		}
	}
	
	immediate = {
		log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.18"
		clr_country_flag = not_war_with_aragon_now_flag
	}
	
	option = {
		name = NWspain.18.a
		if = {
			limit = { ARA = { is_subject_of = ROOT } }
			set_autonomy = {
				target = ARA
				autonomy_state = autonomy_free
			}
			if = {
				limit = { ARA = { is_in_faction = yes } }
				ARA = { leave_faction = yes }
			}
		}
		create_wargoal = {
			type = annex_everything
			target = ARA
			expire = 0
		}
		add_ai_strategy = {
			type = antagonize
			id = "ARA"
			value = 500
		}
		add_ai_strategy = {
			type = conquer
			id = "ARA" 
			value = 500
		}
		add_ai_strategy = {
			type = declare_war
			id = "ARA" 
			value = 500
		}
	}
}

#Испания предлагает заключить союз // Португалии
country_event = {
	id = NWspain.19
	title = NWspain.19.t
	desc = NWspain.19.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.19" }
	
	option = {
		name = NWspain.19.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				OR = {
					has_civil_war = yes
					has_war = yes
				}
			}
		}
		diplomatic_relation = {
			country = FROM
			relation = guarantee
			active = yes
		}
		FROM = {
			diplomatic_relation = {
				country = ROOT
				relation = guarantee
				active = yes
			}
		}
	}
	
	option = {
		name = NWspain.19.b
		ai_chance = {
			factor = 50
		}
		add_opinion_modifier = { target = FROM modifier = diplomatic_affront }
		FROM = { add_opinion_modifier = { target = ROOT modifier = diplomatic_affront } }
	}
}

#Каталония просит предоставить автономию
country_event = {
	id = NWspain.20
	title = NWspain.20.t
	desc = NWspain.20.desc
	picture = GFX_report_event_generic_rally_3
	fire_only_once = yes
	
	trigger = {
		tag = SPR
		date > 1936.07.20
		NOT = { has_global_flag = spanish_civil_war }
		has_full_control_of_state = 165
		has_country_flag = SPR_guarantee_autonomy_minorities_flag
		NOT = { has_country_flag = SPR_guarantee_autonomy_minorities_cat_flag }
		NOT = { country_exists = CAT }
		NOT = {
			has_global_flag = THE_MOTHER_OF_ORDER_FLAG
			has_global_flag = WORLD_OF_SPLIT_FLAG
		}
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.20" }
	
	option = {
		name = NWspain.20.a
		CAT = { transfer_state = 165 }
		hidden_effect = {
			set_country_flag = SPR_guarantee_autonomy_minorities_cat_flag
			CAT = {
				inherit_technology = SPR
				set_country_flag = catalonia_focus_democrat_flag
				load_focus_tree = catalonia_focus_democrat
				set_popularities = {
					democratic = 40
					monarchy = 10
					neutrality = 17
					trozkism = 3
					anarchism = 30
				}
				set_politics = {
					ruling_party = democratic
					last_election = "1933.2.16"
					election_frequency = 36
					elections_allowed = yes
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 5000
				}
				division_template = {
					name = "Catalon Brigada"
					priority = 1
					is_locked = no
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
					}
				}
				capital_scope = {
					create_unit = {
						division = "name = \"Catalon Brigada\" division_template = \"Catalon Brigada\" start_experience_factor = 0.4" 
						owner = CAT
						count = 6
						allow_spawning_on_enemy_provs = yes
					}
				}
			}
		}
		clr_country_flag = SPR_guarantee_autonomy_minorities_flag
	}
}

#Кальво Сотело выступает против ИКНП // Марш в Мадриде
country_event = {
	id = NWspain.21
	title = NWspain.21.t
	desc = NWspain.21.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.21" }
	
	option = {
		name = NWspain.21.a
		trigger = {
			NOT = { has_completed_focus = SPR_dictatorship_icnp }
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				has_country_flag = NW_SPR_AI_MONARCHY_ALTERNATE
			}
		}
		complete_national_focus = SPR_give_way_renewal_spain
	}
	
	option = {
		name = NWspain.21.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				has_country_flag = NW_SPR_AI_MONARCHY
			}
		}
		add_political_power = -10
		add_popularity = {
			ideology = fascism
			popularity = -0.04
		}
	}
}


##################
###  ГВ c SPA  ###
##################

#Убийство Кальво Сотело
country_event = {
	id = NWspain.22
	title = NWspain.22.t
	desc = NWspain.22.desc
	picture = GFX_report_event_spr_calvo_cotelo_died
	fire_only_once = yes
	
	trigger = {
		tag = SPR
		date > 1936.07.07		#задержка 5 дня. Ивент случится 12 июля
		SPR = { has_completed_focus = SPR_victory_popular_front }
		NOT = {
			has_global_flag = THE_MOTHER_OF_ORDER_FLAG
			has_global_flag = WORLD_OF_SPLIT_FLAG
		}
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.22" }
	
	option = {
		name = NWspain.22.a
		ai_chance = {
			factor = 15
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				NOT = { SPA = { has_country_flag = NW_SPA_AI_NEUTRAL } }
			}
		}
		add_stability = -0.05
		log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): выбран вариант NWspain.22.a"
	}
	
	option = {
		name = NWspain.22.b
		ai_chance = {
			factor = 85
			modifier = {
				factor = 0
				SPA = { has_country_flag = NW_SPA_AI_NEUTRAL }
			}
		}
		add_political_power = -40
		add_popularity = {
			ideology = monarchy
			popularity = -0.06
		}
		hidden_effect = {
			if = {
				limit = { SPR = { has_completed_focus = SPR_victory_popular_front } }
				ROOT = {
					country_event = { id = NWspain.23 days = 4 }
					set_country_flag = kill_calvo_cotelo
				}
			}
			if = {
				limit = { is_guaranteed_by = POR }
				diplomatic_relation = {
					country = POR
					relation = guarantee
					active = no
				}
				POR = {
					diplomatic_relation = {
						country = SPR
						relation = guarantee
						active = no
					}
				}
			}
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): выбран вариант NWspain.22.b"
		}
	}
}

#Пульсар путча в Марокко
country_event = {
	id = NWspain.230
	title = NWspain.230.t
	desc = NWspain.230.desc
	picture = GFX_report_event_british_inspect_troops
	fire_only_once = yes
	hidden = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.230" }
	
	trigger = {
		tag = SPR
		date > 1936.10.15
		SPR = { has_completed_focus = SPR_victory_popular_front }
		NOT = { has_country_flag = block_event_flag }
		NOT = {
			has_global_flag = THE_MOTHER_OF_ORDER_FLAG
			has_global_flag = WORLD_OF_SPLIT_FLAG
		}
	}
	mean_time_to_happen = { days = 14 }
	
	option = {
		name = NWspain.230.a
		country_event = { id = NWspain.23 }
	}
}

#Путч в Марокко
country_event = {
	id = NWspain.23
	title = NWspain.23.t
	desc = NWspain.23.desc
	picture = GFX_report_event_spr_event_23
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.23" }
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					OR = {
						NOT = { country_exists = ARA }
						ARA = { NOT = { has_focus_tree = aragon_focus_anarchist } }
					}
				}
				SPR = { country_event = { id = NWspain.66 days = 5 } }
			}
			set_global_flag = { flag = SPR_civil_war_startup value = 1 days = 3 } # Make AI avoid attacking for a few days
		}
	}
	
	# Support Republicans
	option = {
		name = NWspain.23.a
		hidden_effect = {
			set_country_flag = block_event_flag
			SPA = {
				transfer_state = 290
				290 = { set_state_flag = SPR_sided_with_nationalists_flag }
				transfer_state = 1066
				1066 = { set_state_flag = SPR_sided_with_nationalists_flag }
			}
			transfer_units_fraction = {
				target = SPA
				size = 0.5
				stockpile_ratio = 0.5
				army_ratio = 0.5
				navy_ratio = 0.5
				air_ratio = 0.5
			}
			SPA = {
				inherit_technology = SPR
				set_stability = 0.6
				set_war_support = 0.5
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 10000
				}
				add_ideas = SPR_spain_civil_war
				add_timed_idea = { idea = SPA_death_before_surrender days = 900 }
				
				every_unit_leader = {
					limit = {
						has_trait = trait_SPR_republican_loyalties
					}
					set_nationality = SPR
				}
			}
			every_state = {
				limit = {
					OR = {
						is_core_of = SPR
						is_core_of = CAT
						is_core_of = BAS
						is_core_of = GLC
						is_core_of = ASU
						is_core_of = SNT
						is_core_of = VLA
					}
				}
				add_core_of = SPA
			}
			news_event = { hours = 6 id = news.63 }
			set_global_flag = spanish_civil_war
			SPR = {
				set_stability = 0.6
				set_war_support = 0.5
				add_popularity = {
					ideology = monarchy
					popularity = -0.2
				}
				add_popularity = {
					ideology = fascism
					popularity = -1
				}
				declare_war_on = {
					target = SPA
					type = civil_war
				}
				add_civil_war_target = SPA
				add_timed_idea = { idea = SPR_patriotic_mood days = 180 }
				add_ideas = SPR_spain_civil_war
				add_ideas = SPR_disbanded_army_1
				add_timed_idea = { idea = SPR_death_before_surrender days = 900 }
				SPA_jose_sanjurjo = {
					set_nationality = SPA
				}
				SPA_diego_hidalgo_y_duran = {
					set_nationality = SPA
				}
				SPA_ramon_serrano_suner = {
					set_nationality = SPA
				}
				SPA_rafael_garcia_valino = {
					set_nationality = SPA
				}
				SPA_heli_rolando_de_tella = {
					set_nationality = SPA
				}
				SPA_miguel_ponte = {
					set_nationality = SPA
				}
				SPA_joaquin_garcia_morato = {
					set_nationality = SPA
				}
				SPA_wilhelm_ritter_von_thoma = {
					set_nationality = SPA
				}
				SPA_enrique_canovas_lacruz = {
					set_nationality = SPA
				}
				every_unit_leader = {
					limit = {
						has_trait = trait_SPA_nationalist_sympathies
					}
					set_nationality = SPA
				}
				every_unit_leader = {
					limit = {
						OR = {
							has_id = 4721
							has_id = 4722
							has_id = 4723
							has_id = 4724
							has_id = 4731
							has_id = 4741
							has_id = 4725
							has_id = 4726
							has_id = 4727
							has_id = 4745
						}
					}
					remove_unit_leader_trait = trait_SPR_republican_loyalties
				}
				every_unit_leader = {
					limit = {
						OR = {
							has_id = 4721
							has_id = 4722
							has_id = 4723
							has_id = 4724
							has_id = 4731
							has_id = 4741
							has_id = 4745
						}
					}
				    add_unit_leader_trait = trait_SPR_stalinist_loyalties
				}
				every_unit_leader = {
					limit = {
						OR = {
							has_id = 4725
							has_id = 4726
							has_id = 4727
						}
					}
					add_unit_leader_trait = trait_SPR_anarchist_loyalties
				}
				country_event = { id = NWspain.240 days = 1 }
			}
			SPA = {
				add_country_leader_role = {
					character = SPA_jose_sanjurjo
					country_leader = {
						desc = "POLITICS_JOSE_SANJURJO_DESC"
						ideology = authoritarian_democracy
						traits = {
							the_lion_of_the_rif
						}
						expire = "1965.1.1"
					}
					promote_leader = yes
				}
				country_event = { id = TRlegitimacy.8 }
				country_event = { id = tmo.migration.9 }
				country_event = { id = NWspain.24 days = 1 }
				every_unit_leader = {
					limit = {
						has_trait = trait_SPA_nationalist_sympathies
					}
					remove_unit_leader_trait = trait_SPA_nationalist_sympathies
				}
				every_unit_leader = {
					limit = {
						OR = {
							has_id = 4701
							has_id = 4702
							has_id = 4703
							has_id = 4704
							has_id = 4707
							has_id = 4708
							has_id = 4709
							has_id = 4710
							has_id = 4711
							has_id = 4736
							has_id = 4746
						}
					}
					add_unit_leader_trait = trait_SPA_falangist_loyalties
				}
				every_unit_leader = {
					limit = {
						OR = {
						    has_id = 4704
							has_id = 4706
							has_id = 4728
							has_id = 4730
							has_id = 4734
							has_id = 4735
						}
					}
					add_unit_leader_trait = trait_SPA_carlist_loyalties
				}
			}
			if = {
				limit = { has_country_flag = kill_calvo_cotelo }
				SPA = { country_event = { id = NWspain.101 days = 4 } }
				clr_country_flag = kill_calvo_cotelo
			}
			every_other_country = {
				limit = { is_subject_of = ROOT }
				add_to_war = { targeted_alliance = ROOT enemy = SPA hostility_reason = asked_to_join }
			}
		}
	}
	
	# Support Nationalists
	option = {
		name = NWspain.23.b
		trigger = { is_ai = no }
		hidden_effect = {
			set_country_flag = block_event_flag
			SPA = {
				transfer_state = 290
				290 = { set_state_flag = SPR_sided_with_nationalists_flag }
				transfer_state = 1066
				1066 = { set_state_flag = SPR_sided_with_nationalists_flag }
			}
			transfer_units_fraction = {
				target = SPA
				size = 0.5
				stockpile_ratio = 0.5
				army_ratio = 0.5
				navy_ratio = 0.5
				air_ratio = 0.5
			}
			SPA = {
				inherit_technology = SPR
				set_stability = 0.6
				set_war_support = 0.5
				change_tag_from = ROOT
				add_ideas = SPR_spain_civil_war
				add_timed_idea = { idea = SPA_death_before_surrender days = 900 }
				
				every_unit_leader = {
					limit = {
						has_trait = trait_SPR_republican_loyalties
					}
					set_nationality = SPR
				}
			}
			every_state = {
				limit = {
					OR = {
						is_core_of = SPR
						is_core_of = CAT
						is_core_of = BAS
						is_core_of = GLC
						is_core_of = ASU
						is_core_of = SNT
						is_core_of = VLA
					}
				}
				add_core_of = SPA
			}
			news_event = { hours = 6 id = news.63 }
			set_global_flag = spanish_civil_war
			SPR = {
				set_stability = 0.6
				set_war_support = 0.5
				add_popularity = {
					ideology = monarchy
					popularity = -0.2
				}
				add_popularity = {
					ideology = fascism
					popularity = -1
				}
				declare_war_on = {
					target = SPA
					type = civil_war
				}
				add_civil_war_target = SPA
				add_timed_idea = { idea = SPR_patriotic_mood days = 180 }
				add_ideas = SPR_spain_civil_war
				add_ideas = SPR_disbanded_army_1
				add_timed_idea = { idea = SPR_death_before_surrender days = 900 }
				SPA_jose_sanjurjo = {
					set_nationality = SPA
				}
				every_unit_leader = {
					limit = {
						has_trait = trait_SPA_nationalist_sympathies
					}
					set_nationality = SPA
				}
				every_unit_leader = {
					limit = {
						OR = {
							has_id = 4721
							has_id = 4722
							has_id = 4723
							has_id = 4724
							has_id = 4731
							has_id = 4741
							has_id = 4745
							has_id = 4725
							has_id = 4726
							has_id = 4727
						}
					}
					remove_unit_leader_trait = trait_SPR_republican_loyalties
				}
				every_unit_leader = {
					limit = {
						OR = {
							has_id = 4721
							has_id = 4722
							has_id = 4723
							has_id = 4724
							has_id = 4727
							has_id = 4731
							has_id = 4741
							has_id = 4745
						}
					}
				    add_unit_leader_trait = trait_SPR_stalinist_loyalties
				}
				every_unit_leader = {
					limit = {
						OR = {
							has_id = 4725
							has_id = 4726
						}
					}
					add_unit_leader_trait = trait_SPR_anarchist_loyalties
				}
				country_event = { id = NWspain.240 days = 1 }
			}
			SPA = {
				add_country_leader_role = {
					character = SPA_jose_sanjurjo
					country_leader = {
						desc = "POLITICS_JOSE_SANJURJO_DESC"
						ideology = authoritarian_democracy
						traits = {
							the_lion_of_the_rif
						}
						expire = "1965.1.1"
					}
					promote_leader = yes
				}
				country_event = { id = TRlegitimacy.8 }
				country_event = { id = tmo.migration.9 }
				country_event = { id = NWspain.24 days = 1 }
				every_unit_leader = {
					limit = {
						has_trait = trait_SPA_nationalist_sympathies
					}
					remove_unit_leader_trait = trait_SPA_nationalist_sympathies
				}
				every_unit_leader = {
					limit = {
						OR = {
							has_id = 4701
							has_id = 4702
							has_id = 4703
							has_id = 4704
							has_id = 4707
							has_id = 4708
							has_id = 4709
							has_id = 4710
							has_id = 4711
							has_id = 4736
							has_id = 4746
						}
					}
					add_unit_leader_trait = trait_SPA_falangist_loyalties
				}
				every_unit_leader = {
					limit = {
						OR = {
						    has_id = 4704
							has_id = 4706
							has_id = 4728
							has_id = 4730
							has_id = 4734
							has_id = 4735
						}
					}
					add_unit_leader_trait = trait_SPA_carlist_loyalties
				}
			}
			if = {
				limit = { has_country_flag = kill_calvo_cotelo }
				SPA = { country_event = { id = NWspain.101 days = 4 } }
				clr_country_flag = kill_calvo_cotelo
			}
			every_other_country = {
				limit = { is_subject_of = ROOT }
				add_to_war = { targeted_alliance = ROOT enemy = SPA hostility_reason = asked_to_join }
			}
		}
	}
}

#Мятеж республиканских генералов // SPA
country_event = {
	id = NWspain.24
	title = NWspain.24.t
	desc = NWspain.24.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.24" }
	
	option = {
		name = NWspain.24.a
		hidden_effect = {
			every_state = {
				limit = {
					OR = {
						is_owned_by = SPR
						is_owned_by = CAT
						is_owned_by = BAS
						is_owned_by = GLC
						is_owned_by = ASU
						is_owned_by = SNT
						is_owned_by = VLA
						state = 1015
						state = 699
						state = 297
						state = 290
						state = 178
						state = 177
					}
				}
				add_claim_by = SPA
			}
			every_state = {
				limit = {
					OR = {
						is_owned_by = SPA
						state = 1015
						state = 699
						state = 297
						state = 290
						state = 178
						state = 177
					}
				}
				add_claim_by = SPR
			}
			if = {
				limit = { SPR = { has_full_control_of_state = 166 } }
				transfer_state = 166
			}
			if = {
				limit = { SPR = { has_full_control_of_state = 171 } }
				transfer_state = 171
			}
			if = {
				limit = { SPR = { has_full_control_of_state = 172 } }
				transfer_state = 172
			}
			if = {
				limit = { SPR = { has_full_control_of_state = 174 } }
				transfer_state = 174
			}
			if = {
				limit = { SPR = { has_full_control_of_state = 176 } }
				transfer_state = 176
			}
			if = {
				limit = { SPR = { has_full_control_of_state = 177 } }
				transfer_state = 177
				177 = { set_state_flag = SPR_sided_with_nationalists_flag }
			}
			if = {
				limit = { SPR = { has_full_control_of_state = 178 } }
				transfer_state = 178
				178 = { set_state_flag = SPR_sided_with_nationalists_flag }
			}
			if = {
				limit = { SPR = { has_full_control_of_state = 290 } }
				transfer_state = 290
			}
			if = {
				limit = { SPR = { has_full_control_of_state = 297 } }
				transfer_state = 297
			}
			if = {
				limit = { SPR = { has_full_control_of_state = 788 } }
				transfer_state = 788
			}
			if = {
				limit = { SPR = { has_full_control_of_state = 791 } }
				transfer_state = 791
			}
			if = {
				limit = { SPR = { has_full_control_of_state = 1015 } }
				transfer_state = 1015
			}
			if = {
				limit = { SPR = { has_full_control_of_state = 1044 } }
				transfer_state = 1044
			}
			if = {
				limit = { SPR = { has_full_control_of_state = 1045 } }
				transfer_state = 1045
			}
			if = {
				limit = { SPR = { has_full_control_of_state = 1066 } }
				transfer_state = 1066
			}
			set_capital = { state =  174 }
			#prov
			if = {
				limit = {
					790 = {
						owner = {
							OR = {
								original_tag = SPR
								is_subject_of = SPR
							}
						}
					}
				}
				SPA = { set_province_controller = 11707 }
			}
			if = {
				limit = {
					170 = {
						owner = {
							OR = {
								original_tag = SPR
								is_subject_of = SPR
							}
						}
					}
				}
				SPA = {
					set_province_controller = 9877
					set_province_controller = 13230
					set_province_controller = 11756
					set_province_controller = 9839
					set_province_controller = 9917
				}
			}
			if = {
				limit = {
					169 = {
						owner = {
							OR = {
								original_tag = SPR
								is_subject_of = SPR
							}
						}
					}
				}
				SPA = {
					set_province_controller = 1048
					set_province_controller = 7183
				}
			}
			if = {
				limit = {
					173 = {
						owner = {
							OR = {
								original_tag = SPR
								is_subject_of = SPR
							}
						}
					}
				}
				SPA = {
					set_province_controller = 1176
				}
			}
			if = {
				limit = {
					789 = {
						owner = {
							OR = {
								original_tag = SPR
								is_subject_of = SPR
							}
						}
					}
				}
				SPA = {
					set_province_controller = 875
				}
			}
			if = {
				limit = {
					41 = {
						owner = {
							OR = {
								original_tag = SPR
								is_subject_of = SPR
							}
						}
					}
				}
				SPA = {
					set_province_controller = 9800
					set_province_controller = 939
					set_province_controller = 3845
				}
			}
			load_oob = "SPA_Civil_War"
			SPR = { load_oob = "SPR_Civil_War" }
			if = {
				limit = {
					date > 1936.09.1
					SPR = { has_idea = SPR_basks_nationalism }
				}
				transfer_state = 792
				SPR = { remove_ideas = SPR_basks_nationalism }
			}
			if = {
				limit = {
					is_historical_focus_on = yes
					SPR = { is_ai = yes }
				}
				SPA = {
					random_owned_state = {
						create_unit = {
							division = "name = \"Brigada Legionario\" division_template = \"Brigada Legionario\" start_experience_factor = 0.5" 
							owner = PREV
						}
					}
					random_owned_state = {
						create_unit = {
							division = "name = \"Brigada Legionario\" division_template = \"Brigada Legionario\" start_experience_factor = 0.5" 
							owner = PREV
						}
					}
					random_owned_state = {
						create_unit = {
							division = "name = \"Brigada Legionario\" division_template = \"Brigada Legionario\" start_experience_factor = 0.5" 
							owner = PREV
						}
					}
					random_owned_state = {
						create_unit = {
							division = "name = \"Brigada Legionario\" division_template = \"Brigada Legionario\" start_experience_factor = 0.5" 
							owner = PREV
						}
					}
					random_owned_state = {
						create_unit = {
							division = "name = \"Brigada Legionario\" division_template = \"Brigada Legionario\" start_experience_factor = 0.5" 
							owner = PREV
						}
					}
				}
			}
			every_controlled_state = {
				set_state_flag = SPR_sided_with_republicans_flag
			}
			every_subject_country = {
				every_controlled_state = {
					set_state_flag = SPR_sided_with_republicans_flag
				}
			}
			add_threat = -0.5
		}
	}
}

#Мятеж республиканских генералов // SPR
country_event = {
	id = NWspain.240
	title = NWspain.24.t
	desc = NWspain.240.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.240" }
	
	option = {
		name = NWspain.240.a
		add_country_leader_role = {
			character = SPR_jose_giral_pereyra
			country_leader = {
				desc = "POLITICS_JOSE_GIRAL_PEREYRA_DESC"
				ideology = social_liberalism
				traits = {
					chemistry
					reformator
					supporter_of_arming_masses
				}
				expire = "1965.1.1"
			}
			promote_leader = yes
		}
		hidden_effect = {
			if = {
				limit = { NOT = { country_exists = ARA } }
				country_event = { id = NWspain.26 days = 12 random_days = 4 }
			}
			every_controlled_state = {
				set_state_flag = SPR_sided_with_republicans_flag
			}
			every_subject_country = {
				every_controlled_state = {
					set_state_flag = SPR_sided_with_republicans_flag
				}
			}
		}
	}
}

#######################
###  ГВ c Анархами  ###
#######################

#Левые восстали против власти
country_event = {
	id = NWspain.25
	title = NWspain.25.t
	desc = NWspain.25.desc
	picture = GFX_report_event_spr_aragon
	fire_only_once = yes
	
	trigger = {
		tag = SPR
		date > 1936.09.15
		SPR = { has_completed_focus = SPR_victory_national_block }
		SPR = { NOT = { has_completed_focus = SPR_repression_against_leftists } }
		NOT = {
			has_global_flag = THE_MOTHER_OF_ORDER_FLAG
			has_global_flag = WORLD_OF_SPLIT_FLAG
		}
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.25" }
	
	mean_time_to_happen = {
		days = 14
	}
	
	option = {
		name = NWspain.25.a
		if = {
			limit = { has_idea = SPR_desire_for_decentralization }
			remove_ideas = SPR_desire_for_decentralization
		}
		effect_tooltip = {
			release = ARA
		}
		if = {
			limit = { SPR = { has_idea = SPR_catalon_nationalism } }
			effect_tooltip = {
				release = CAT
			}
		}
		hidden_effect = {
			ARA = {
				transfer_state = 169
				169 = { add_core_of = ARA }
				transfer_state = 173
				173 = { add_core_of = ARA }
				transfer_state = 789
				789 = { add_core_of = ARA }
				transfer_state = 166
				166 = { add_core_of = ARA }
				transfer_state = 794
				794 = { add_core_of = ARA }
				inherit_technology = SPR
				set_country_flag = aragon_focus_anarchist_flag
				load_focus_tree = aragon_focus_anarchist
				add_ideas = SPR_disbanded_army_1
				set_popularities = {
					democratic = 20
					fascism = 20
					monarchy = 30
					anarchism = 30
				}
				set_politics = {
					ruling_party = anarchism
					elections_allowed = no
				}
				set_cosmetic_tag = ARA_and
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 10000
				}
				division_template = {
					name = "Anarchist Column"
					priority = 1
					is_locked = no
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 0 y = 3 }
					}
				}
				capital_scope = {
					create_unit = {
						division = "name = \"Anarchist Column\" division_template = \"Anarchist Column\" start_experience_factor = 0.4" 
						owner = ARA
						count = 2
						allow_spawning_on_enemy_provs = yes
					}
				}
				random_owned_state = {
					create_unit = {
						division = "name = \"Anarchist Column\" division_template = \"Anarchist Column\" start_experience_factor = 0.4" 
						owner = ARA
						count = 5
						allow_spawning_on_enemy_provs = yes
					}
				}
				random_list = {
					0 = {
						ARA = {
							capital_scope = {
								create_unit = {
									division = "name = \"Anarchist Column\" division_template = \"Anarchist Column\" start_experience_factor = 0.4" 
									owner = ARA
									count = 2
									allow_spawning_on_enemy_provs = yes
								}
							}
							every_owned_state = {
								create_unit = {
									division = "name = \"Anarchist Column\" division_template = \"Anarchist Column\" start_experience_factor = 0.4" 
									owner = ARA
								}
							}
						}
					}
					50 = {
					}
				}
				add_ai_strategy = {
					type = antagonize
					id = "SPR"
					value = 500
				}
				add_ai_strategy = {
					type = conquer
					id = "SPR" 
					value = 500
				}
				add_ai_strategy = {
					type = antagonize
					id = "SPA"
					value = 500
				}
				add_ai_strategy = {
					type = conquer
					id = "SPA" 
					value = 500
				}
				every_state = {
					limit = { is_owned_by = SPR }
					add_claim_by = ARA
				}
				every_state = {
					limit = { is_core_of = SPR }
					add_core_of = ARA
				}
			}
			SPR = {
				declare_war_on = {
					target = ARA
					type = civil_war
				}
				add_civil_war_target = ARA
			}
			if = {
				limit = { SPR = { has_idea = SPR_catalon_nationalism } }
				CAT = {
					transfer_state = 165
					165 = { add_core_of = CAT }
					inherit_technology = SPR
					set_country_flag = catalonia_focus_anarchist_flag
					load_focus_tree = catalonia_focus_anarchist
					set_popularities = {
						democratic = 40
						monarchy = 10
						neutrality = 17
						trozkism = 3
						anarchism = 30
					}
					set_politics = {
						ruling_party = anarchism
						elections_allowed = no
					}
					add_equipment_to_stockpile = {
						type = infantry_equipment
						amount = 10000
					}
					division_template = {
						name = "Anarchist Column"
						priority = 1
						is_locked = no
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 0 y = 3 }
						}
					}
					capital_scope = {
						create_unit = {
							division = "name = \"Anarchist Column\" division_template = \"Anarchist Column\" start_experience_factor = 0.4" 
							owner = CAT
							count = 11
							allow_spawning_on_enemy_provs = yes
						}
					}
					random_list = {
						0 = {
							CAT = {
								every_owned_state = {
									create_unit = {
										division = "name = \"10. Anarchist Column\" division_template = \"Anarchist Column\" start_experience_factor = 0.4" 
										owner = CAT
									}
								}
							}
						}
						85 = {
						}
					}
					give_military_access = ARA
					add_ai_strategy = {
						type = antagonize
						id = "SPR"
						value = 500
					}
					add_ai_strategy = {
						type = conquer
						id = "SPR" 
						value = 500
					}
					add_ai_strategy = {
						type = antagonize
						id = "SPA"
						value = 500
					}
					add_ai_strategy = {
						type = conquer
						id = "SPA" 
						value = 500
					}
					
					add_ai_strategy = {
						type = protect
						id = "ARA" 
						value = 500
					}
					ARA = {
						add_ai_strategy = {
							type = protect
							id = "CAT" 
							value = 500
						}
					}
					every_state = {
						limit = { is_owned_by = SPR }
						add_claim_by = CAT
					}
					every_state = {
						limit = { is_core_of = SPR }
						add_core_of = CAT
					}
				}
				ARA = { give_military_access = CAT }
				SPR = {
					declare_war_on = {
						target = CAT
						type = civil_war
					}
					add_civil_war_target = CAT
					remove_ideas = SPR_catalon_nationalism
				}
			}
			news_event = { id = trworldnews.65 hours = 6 }
		}
	}
	
	option = {
		name = NWspain.25.b
		trigger = { is_ai = no }
		if = {
			limit = { has_idea = SPR_desire_for_decentralization }
			remove_ideas = SPR_desire_for_decentralization
		}
		if = {
			limit = { SPR = { has_idea = SPR_catalon_nationalism } }
			effect_tooltip = {
				release = CAT
			}
		}
		effect_tooltip = {
			release = ARA
			ARA = { change_tag_from = ROOT }
		}
		hidden_effect = {
			ARA = {
				transfer_state = 169
				169 = { add_core_of = ARA }
				transfer_state = 173
				173 = { add_core_of = ARA }
				transfer_state = 166
				166 = { add_core_of = ARA }
				transfer_state = 794
				794 = { add_core_of = ARA }
				inherit_technology = SPR
				set_country_flag = aragon_focus_anarchist_flag
				load_focus_tree = aragon_focus_anarchist
				add_ideas = SPR_disbanded_army_1
				set_popularities = {
					democratic = 20
					fascism = 20
					monarchy = 30
					anarchism = 30
				}
				set_politics = {
					ruling_party = anarchism
					elections_allowed = no
				}
				set_cosmetic_tag = ARA_and
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 10000
				}
				division_template = {
					name = "Anarchist Column"
					priority = 1
					is_locked = no
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 0 y = 3 }
					}
				}
				capital_scope = {
					create_unit = {
						division = "name = \"Anarchist Column\" division_template = \"Anarchist Column\" start_experience_factor = 0.4" 
						owner = ARA
						count = 3
						allow_spawning_on_enemy_provs = yes
					}
				}
				random_owned_state = {
					create_unit = {
						division = "name = \"Anarchist Column\" division_template = \"Anarchist Column\" start_experience_factor = 0.4" 
						owner = ARA
						count = 5
						allow_spawning_on_enemy_provs = yes
					}
				}
				random_list = {
					50 = {
						ARA = {
							capital_scope = {
								create_unit = {
									division = "name = \"Anarchist Column\" division_template = \"Anarchist Column\" start_experience_factor = 0.4" 
									owner = ARA
								}
							}
							every_owned_state = {
								create_unit = {
									division = "name = \"Anarchist Column\" division_template = \"Anarchist Column\" start_experience_factor = 0.4" 
									owner = ARA
								}
							}
						}
					}
					50 = {
					}
				}
				change_tag_from = ROOT
			}
			SPR = {
				declare_war_on = {
					target = ARA
					type = civil_war
				}
				add_civil_war_target = ARA
			}
			if = {
				limit = { SPR = { has_idea = SPR_catalon_nationalism } }
				CAT = {
					transfer_state = 165
					165 = { add_core_of = CAT }
					inherit_technology = SPR
					set_country_flag = catalonia_focus_anarchist_flag
					load_focus_tree = catalonia_focus_anarchist
					set_popularities = {
						democratic = 40
						monarchy = 10
						neutrality = 17
						trozkism = 3
						anarchism = 30
					}
					set_politics = {
						ruling_party = anarchism
						elections_allowed = no
					}
					add_equipment_to_stockpile = {
						type = infantry_equipment
						amount = 10000
					}
					division_template = {
						name = "Anarchist Column"
						priority = 1
						is_locked = no
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 0 y = 3 }
						}
					}
					random_owned_state = {
						create_unit = {
							division = "name = \"Anarchist Column\" division_template = \"Anarchist Column\" start_experience_factor = 0.4" 
							owner = CAT
							count = 9
							allow_spawning_on_enemy_provs = yes
						}
					}
					random_list = {
						15 = {
							CAT = {
								every_owned_state = {
									create_unit = {
										division = "name = \"Anarchist Column\" division_template = \"Anarchist Column\" start_experience_factor = 0.4" 
										owner = CAT
									}
								}
							}
						}
						85 = {
						}
					}
					give_military_access = ARA
					add_ai_strategy = {
						type = antagonize
						id = "SPR"
						value = 500
					}
					add_ai_strategy = {
						type = conquer
						id = "SPR" 
						value = 500
					}
					add_ai_strategy = {
						type = antagonize
						id = "SPA"
						value = 500
					}
					add_ai_strategy = {
						type = conquer
						id = "SPA" 
						value = 500
					}
					
					add_ai_strategy = {
						type = protect
						id = "ARA" 
						value = 500
					}
					ARA = {
						add_ai_strategy = {
							type = protect
							id = "CAT" 
							value = 500
						}
					}
				}
				ARA = { give_military_access = CAT }
				SPR = {
					declare_war_on = {
						target = CAT
						type = civil_war
					}
					add_civil_war_target = CAT
					remove_ideas = SPR_catalon_nationalism
				}
			}
			news_event = { id = trworldnews.65 hours = 6 }
		}
	}
}


#Анархисты захватывают влияние в Арагоне // После начала ГВ
country_event = {
	id = NWspain.26
	title = NWspain.26.t
	desc = NWspain.26.desc
	picture = GFX_report_event_spr_aragon
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.26" }

	option = {
		name = NWspain.26.a
		release_puppet = ARA
		every_unit_leader = {
		    limit = {
				has_trait = trait_SPR_anarchist_loyalties
			}
		    set_nationality = ARA
	    }
		hidden_effect = {
			if = {
				limit = { 166 = { controller = { OR = { tag = ROOT is_subject_of = ROOT } } } }
				ARA = { transfer_state = 166 }
			}
			if = {
				limit = { 794 = { controller = { OR = { tag = ROOT is_subject_of = ROOT } } } }
				ARA = { transfer_state = 794 }
			}
			ARA = {
				166 = { add_core_of = ARA }
				794 = { add_core_of = ARA }
				inherit_technology = SPR
				set_country_flag = aragon_focus_anarchist_flag
				load_focus_tree = aragon_focus_anarchist
				add_ideas = SPR_disbanded_army_1
				add_ideas = SPR_spain_subject_idea
				set_popularities = {
					democratic = 20
					fascism = 20
					monarchy = 30
					anarchism = 30
				}
				set_politics = {
					ruling_party = anarchism
					elections_allowed = no
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 10000
				}
				division_template = {
					name = "Anarchist Column"
					priority = 1
					is_locked = no
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 0 y = 3 }
					}
				}
				random_owned_state = {
					create_unit = {
						division = "name = \"Anarchist Column\" division_template = \"Anarchist Column\" start_experience_factor = 0.4" 
						owner = ARA
						count = 14
						allow_spawning_on_enemy_provs = yes
					}
				}
				random_list = {
					15 = {
						ARA = {
							random_owned_state = {
								create_unit = {
									division = "name = \"Anarchist Column\" division_template = \"Anarchist Column\" start_experience_factor = 0.4" 
									owner = ARA
									count = 3
									allow_spawning_on_enemy_provs = yes
								}
							}
						}
					}
					85 = {
					}
				}
				add_ai_strategy = {
					type = antagonize
					id = "SPR"
					value = 500
				}
				add_ai_strategy = {
					type = antagonize
					id = "SPA"
					value = 500
				}
				add_to_war = { targeted_alliance = SPR enemy = SPA hostility_reason = asked_to_join }
			}
		}
	}
	
	option = {
		name = NWspain.26.b
		trigger = { is_ai = no }
		effect_tooltip = {
			release_puppet = ARA
			ARA = { change_tag_from = ROOT }
		}
		hidden_effect = {
			release_puppet = ARA
			every_unit_leader = {
		        limit = {
			        has_trait = trait_SPR_anarchist_loyalties
		    	}
		        set_nationality = ARA
	   		}
			if = {
				limit = { 166 = { controller = { OR = { tag = ROOT is_subject_of = ROOT } } } }
				ARA = { transfer_state = 166 }
			}
			if = {
				limit = { 794 = { controller = { OR = { tag = ROOT is_subject_of = ROOT } } } }
				ARA = { transfer_state = 794 }
			}
			ARA = {
				166 = { add_core_of = ARA }
				794 = { add_core_of = ARA }
				inherit_technology = SPR
				set_country_flag = aragon_focus_anarchist_flag
				load_focus_tree = aragon_focus_anarchist
				add_ideas = SPR_disbanded_army_1
				add_ideas = SPR_spain_subject_idea
				set_popularities = {
					democratic = 20
					fascism = 20
					monarchy = 30
					anarchism = 30
				}
				set_politics = {
					ruling_party = anarchism
					elections_allowed = no
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 10000
				}
				division_template = {
					name = "Anarchist Column"
					priority = 1
					is_locked = no
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 0 y = 3 }
					}
				}
				random_owned_state = {
					create_unit = {
						division = "name = \"Anarchist Column\" division_template = \"Anarchist Column\" start_experience_factor = 0.4" 
						owner = ARA
						count = 14
						allow_spawning_on_enemy_provs = yes
					}
					random_list = {
						15 = {
							ARA = {
								random_owned_state = {
									create_unit = {
										division = "name = \"Anarchist Column\" division_template = \"Anarchist Column\" start_experience_factor = 0.4" 
										owner = ARA
										count = 3
										allow_spawning_on_enemy_provs = yes
									}
								}
							}
						}
						85 = {
						}
					}
				}
				change_tag_from = ROOT
				add_to_war = { targeted_alliance = SPR enemy = SPA hostility_reason = asked_to_join }
			}
		}
	}
}

#Военные устраивают переворот в республике
country_event = {
	id = NWspain.27
	title = NWspain.27.t
	desc = NWspain.27.desc
	picture = GFX_report_event_generic_rally_3
	fire_only_once = yes
	
	trigger = {
		tag = SPR
		SPR = {
			has_war_with = SPA
			OR = {
				surrender_progress > 0.4
				CAT = {
					is_subject_of = SPR
					OR = {
						surrender_progress > 0.5
						has_capitulated = yes
					}
				}
				ARA = {
					is_subject_of = SPR
					OR = {
						surrender_progress > 0.5
						has_capitulated = yes
					}
				}
			}
			OR = {
				has_completed_focus = SPR_support_stalinists
				focus_progress = { focus = SPR_communists_in_the_government progress > 0 }
			}
		}
		41 = {
			controller = {
				OR = {
					tag = SPR
					original_tag = SPA
				}
				NOT = { has_full_control_of_state = 41 }
			}
		}
		SPA = { NOT = { controls_province = 3938 } }
		NOT = {
			has_global_flag = THE_MOTHER_OF_ORDER_FLAG
			has_global_flag = WORLD_OF_SPLIT_FLAG
		}
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.27" }
	immediate = {
		hidden_effect = {
			set_global_flag = { flag = SPR_civil_war_startup value = 1 days = 3 } # Make AI avoid attacking for a few days
			create_dynamic_country = {
				original_tag = ROOT
				copy_tag = ROOT
				
				set_research_slots = 1
		
				set_politics = {
					ruling_party = neutrality
					elections_allowed = no
				}
				set_popularities = {
					neutrality = 24
					democratic = 32
					communism = 15
					anarchism = 22
					fascism = 7
				}
				
				set_cosmetic_tag = SPR_junta
				#load_focus_tree = spain_junta_focus
				add_timed_idea = { idea = SPR_death_before_surrender days = 900 }
				set_party_name = { ideology = neutrality name = SPR_junta_national_defense long_name = SPR_junta_national_defense }
			}
		}
	}
	
	mean_time_to_happen = { days = 10 }
	
	option = {
		name = NWspain.27.a
		if = {
			limit = { focus_progress = { focus = SPR_communists_in_the_government progress > 0 } }
			complete_national_focus = SPR_communists_in_the_government
		}
		SPJ = {
			hidden_effect = {
				every_other_country = {
					limit = {
						OR = {
							has_character = SPR_segismundo_casado_lopez
							has_character = SPR_jose_miaja
							has_character = SPR_cipriano_mera
						}
					}
					if = {
						limit = { has_character = SPR_segismundo_casado_lopez }
						SPR_segismundo_casado_lopez = {
							set_nationality = SPJ
						}
					}
					if = {
						limit = { has_character = SPR_jose_miaja }
						SPR_jose_miaja = {
							set_nationality = SPJ
						}
					}
					if = {
						limit = { has_character = SPR_cipriano_mera }
						SPR_cipriano_mera = {
							set_nationality = SPJ
						}
					}
				}
				
				set_state_owner = 41
				set_province_controller = 3938
				load_oob = "SPJ_Civil_War"
				inherit_technology = ROOT
				set_stability = 0.4
				set_war_support = 0.4
			}
			add_country_leader_role = {
				character = SPR_segismundo_casado_lopez
				country_leader = {
					desc = "POLITICS_SEGISMUNDO_CASADO_DESC"
					ideology = authoritarian_democracy
					traits = {
					}
					expire = "1965.1.1"
				}
				promote_leader = yes
			}
			
			declare_war_on = {
				target = ROOT
				type = civil_war
			}
			add_civil_war_target = ROOT
			declare_war_on = {
				target = SPA
				type = civil_war
			}
			add_civil_war_target = SPA
			if = {
				limit = {
					country_exists = SPB
				}
				declare_war_on = {
					target = SPB
					type = civil_war
				}
				add_civil_war_target = SPB
			}
			if = {
				limit = {
					country_exists = ARA
					NOT = { has_war_with = ARA }
				}
				declare_war_on = {
					target = ARA
					type = civil_war
				}
				add_civil_war_target = ARA
			}
			if = {
				limit = {
					country_exists = CAT
					NOT = { has_war_with = CAT }
				}
				declare_war_on = {
					target = CAT
					type = civil_war
				}
				add_civil_war_target = CAT
			}
		}
		every_other_country = {
			limit = { is_subject_of = SPR }
			add_to_war = { targeted_alliance = SPR enemy = SPJ hostility_reason = asked_to_join }
		}
		every_other_country = {
			limit = { is_subject_of = SPA }
			add_to_war = { targeted_alliance = SPA enemy = SPJ hostility_reason = asked_to_join }
		}
		
		hidden_effect = {
			transfer_units_fraction = {
				target = SPJ
				stockpile_ratio = 0.2
				army_ratio = 0.0
				navy_ratio = 0.0
				air_ratio = 0.0
				keep_unit_leaders = {
				}
				keep_unit_leaders_trigger = {
					skill > 0
				}
			}
		}
		
		#remove_unit_leader = 4722
		#complete_national_focus = SPR_stand_junta
	}
	
	option = {
		name = NWspain.27.b
		trigger = {
			always = no
		}
		remove_unit_leader = 4719
		add_stability = -0.1
		add_war_support = -0.1
	}
}

#Пульсар для решений совка/гермы/итала
country_event = {
	id = NWspain.28
	title = NWspain.28.t
	desc = NWspain.28.desc
	picture = GFX_report_event_generic_rally_3
	fire_only_once = yes
	hidden = yes
	
	mean_time_to_happen = { days = 90 }
	
	trigger = {
		tag = SPR
		has_global_flag = spanish_civil_war
		NOT = { has_global_flag = scw_over }
		NOT = { has_global_flag = spanish_cw_decisions }
		NOT = {
			has_global_flag = THE_MOTHER_OF_ORDER_FLAG
			has_global_flag = WORLD_OF_SPLIT_FLAG
		}
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.28" }
	
	option = {
		name = NWspain.28.a
		set_global_flag = spanish_cw_decisions
	}
}


#####Либеральная партия####
#Смерть Кальво Сотело
country_event = {
	id = NWspain.29
	title = NWspain.29.t
	desc = NWspain.29.desc
	picture = GFX_report_event_spr_calvo_cotelo_died
	fire_only_once = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.29" }
	
	trigger = {
		tag = SPR
		date > 1936.07.12
		has_completed_focus = SPR_victory_liberal_party
		NOT = {
			has_global_flag = THE_MOTHER_OF_ORDER_FLAG
			has_global_flag = WORLD_OF_SPLIT_FLAG
		}
	}
	
	option = {
		name = NWspain.29.a
		ai_chance = {
			factor = 50
		}
		add_political_power = -100
		
		custom_effect_tooltip = comm_agressive_level_up_tt
		subtract_from_variable = { comm_agressive_level_var = 1 }
		clamp_variable = {
			var = comm_agressive_level_var
			min = 1
			max = 3
		}
		
		custom_effect_tooltip = nk_agressive_level_down_tt
		add_to_variable = { nk_agressive_level_var = 1 }
		clamp_variable = {
			var = nk_agressive_level_var
			min = 1
			max = 3
		}
		
		custom_effect_tooltip = nk_influence_level_up_tt
		add_to_variable = { nk_influence_level_var = 1 }
		clamp_variable = {
			var = nk_influence_level_var
			min = 1
			max = 3
		}
	}
	
	option = {
		name = NWspain.29.b
		ai_chance = {
			factor = 50
		}
		add_stability = 0.05
		
		custom_effect_tooltip = comm_agressive_level_down_tt
		add_to_variable = { comm_agressive_level_var = 1 }
		clamp_variable = {
			var = comm_agressive_level_var
			min = 1
			max = 3
		}
		
		custom_effect_tooltip = nk_agressive_level_up_tt
		subtract_from_variable = { nk_agressive_level_var = 1 }
		clamp_variable = {
			var = nk_agressive_level_var
			min = 1
			max = 3
		}
	}
}

#Представители КПИ требуют предоставить коммунистам право участвовать в выборах // Фокус "Снятие чрезвычайного положения"
country_event = {
	id = NWspain.30
	title = NWspain.30.t
	desc = NWspain.30.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.30" }
	
	option = {
		name = NWspain.30.a
		ai_chance = {
			factor = 50
		}

		custom_effect_tooltip = right_agressive_level_down_tt
		add_to_variable = { f_agressive_level_var = 1 }
		add_to_variable = { karl_agressive_level_var = 1 }
		add_to_variable = { nk_agressive_level_var = 1 }
		clamp_variable = {
			var = f_agressive_level_var
			min = 1
			max = 3
		}
		clamp_variable = {
			var = karl_agressive_level_var
			min = 1
			max = 3
		}
		clamp_variable = {
			var = nk_agressive_level_var
			min = 1
			max = 3
		}
		
		custom_effect_tooltip = left_agressive_level_up_tt
		subtract_from_variable = { comm_agressive_level_var = 1 }
		subtract_from_variable = { sd_agressive_level_var = 1 }
		subtract_from_variable = { a_agressive_level_var = 1 }
		clamp_variable = {
			var = comm_agressive_level_var
			min = 1
			max = 3
		}
		clamp_variable = {
			var = sd_agressive_level_var
			min = 1
			max = 3
		}
		clamp_variable = {
			var = a_agressive_level_var
			min = 1
			max = 3
		}
		
		
	}
	
	option = {
		name = NWspain.30.b
		ai_chance = {
			factor = 50
		}
		
		custom_effect_tooltip = right_agressive_level_up_tt
		subtract_from_variable = { f_agressive_level_var = 1 }
		subtract_from_variable = { karl_agressive_level_var = 1 }
		subtract_from_variable = { nk_agressive_level_var = 1 }
		clamp_variable = {
			var = f_agressive_level_var
			min = 1
			max = 3
		}
		clamp_variable = {
			var = karl_agressive_level_var
			min = 1
			max = 3
		}
		clamp_variable = {
			var = nk_agressive_level_var
			min = 1
			max = 3
		}
		
		custom_effect_tooltip = left_agressive_level_down_tt
		add_to_variable = { comm_agressive_level_var = 1 }
		add_to_variable = { sd_agressive_level_var = 1 }
		add_to_variable = { a_agressive_level_var = 1 }
		clamp_variable = {
			var = comm_agressive_level_var
			min = 1
			max = 3
		}
		clamp_variable = {
			var = sd_agressive_level_var
			min = 1
			max = 3
		}
		clamp_variable = {
			var = a_agressive_level_var
			min = 1
			max = 3
		}
		
		custom_effect_tooltip = left_influence_level_up_tt
		add_to_variable = { comm_influence_level_var = 1 }
		add_to_variable = { sd_influence_level_var = 1 }
		add_to_variable = { a_influence_level_var = 1 }
		clamp_variable = {
			var = comm_influence_level_var
			min = 1
			max = 3
		}
		clamp_variable = {
			var = sd_influence_level_var
			min = 1
			max = 3
		}
		clamp_variable = {
			var = a_influence_level_var
			min = 1
			max = 3
		}
	}
}

#Люди митингуют за снятие чрезвычайного положения
country_event = {
	id = NWspain.31
	title = NWspain.31.t
	desc = NWspain.31.desc
	picture = GFX_report_event_generic_rally_3
	fire_only_once = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.31" }
	
	trigger = {
		tag = SPR
		date > 1937.02.12
		has_completed_focus = SPR_victory_liberal_party
		NOT = { has_completed_focus = SPR_cancellation_state_emergency }
		NOT = {
			has_global_flag = THE_MOTHER_OF_ORDER_FLAG
			has_global_flag = WORLD_OF_SPLIT_FLAG
		}
	}
	
	option = {
		name = NWspain.31.a
		custom_effect_tooltip = all_agressive_level_up_tt
		subtract_from_variable = { f_agressive_level_var = 1 }
		subtract_from_variable = { karl_agressive_level_var = 1 }
		subtract_from_variable = { nk_agressive_level_var = 1 }
		subtract_from_variable = { comm_agressive_level_var = 1 }
		subtract_from_variable = { sd_agressive_level_var = 1 }
		subtract_from_variable = { a_agressive_level_var = 1 }
		clamp_variable = {
			var = f_agressive_level_var
			min = 1
			max = 3
		}
		clamp_variable = {
			var = karl_agressive_level_var
			min = 1
			max = 3
		}
		clamp_variable = {
			var = nk_agressive_level_var
			min = 1
			max = 3
		}
		clamp_variable = {
			var = comm_agressive_level_var
			min = 1
			max = 3
		}
		clamp_variable = {
			var = sd_agressive_level_var
			min = 1
			max = 3
		}
		clamp_variable = {
			var = a_agressive_level_var
			min = 1
			max = 3
		}
	}
}

#День единения Испании
country_event = {
	id = NWspain.32
	title = NWspain.32.t
	desc = NWspain.32.desc
	picture = GFX_report_event_generic_rally_3
	fire_only_once = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.32" }
	immediate = { clr_country_flag = libarals_loyality_flag }
	immediate = {
		log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): f_agressive_level_var:[?f_agressive_level_var]"
		log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): f_influence_level_var:[?f_influence_level_var]"
		log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): karl_agressive_level_var:[?karl_agressive_level_var]"
		log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): karl_influence_level_var:[?karl_influence_level_var]"
		log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): nk_agressive_level_var:[?nk_agressive_level_var]"
		log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): nk_influence_level_var:[?nk_influence_level_var]"
		log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): comm_agressive_level_var:[?comm_agressive_level_var]"
		log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): comm_influence_level_var:[?comm_influence_level_var]"
		log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): sd_agressive_level_var:[?sd_agressive_level_var]"
		log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): sd_influence_level_var:[?sd_influence_level_var]"
		log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): a_agressive_level_var:[?a_agressive_level_var]"
		log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): a_influence_level_var:[?a_influence_level_var]"
	}
	
	trigger = {
		tag = SPR
		date > 1937.02.20
		has_completed_focus = SPR_victory_liberal_party
		NOT = {
			has_global_flag = THE_MOTHER_OF_ORDER_FLAG
			has_global_flag = WORLD_OF_SPLIT_FLAG
		}
	}
	
	option = {
		name = NWspain.32.a
		add_war_support = 0.05
		if = {
			limit = { has_idea = SPR_desire_for_decentralization }
			remove_ideas = SPR_desire_for_decentralization
		}
		if = {
			limit = {
				OR = {
					check_variable = { f_agressive_level_var = 1 }
					check_variable = { karl_agressive_level_var = 1 }
					check_variable = { nk_agressive_level_var = 1 }
					check_variable = { comm_agressive_level_var = 1 }
					check_variable = { sd_agressive_level_var = 1 }
					check_variable = { a_agressive_level_var = 1 }
				}
			}
			country_event = { id = NWspain.33 hours = 3 }
			hidden_effect = {
				country_event = { id = NWspain.41 days = 1 hours = 12 } #Определение оппозиционнеров
				if = {
					limit = {
						country_exists = CAT
						CAT = { is_subject_of = ROOT }
					}
					CAT = { country_event = { id = NWspain.48 days = 31 } } #Каталония объявляет о независимости
				}
			}
		}
		if = {
			limit = {
				count_triggers = {
					amount = 4
					country_exists = ASU
					country_exists = SNT
					AND = {
						country_exists = CAT
						CAT = { NOT = { is_subject_of = SPR } }
					}
					country_exists = BAS
					country_exists = GLC
					country_exists = VLA
				}
			}
			hidden_effect = {
				country_event = { id = NWspain.58 days = 3 } #Махач все против всех
				news_event = { id = trworldnews.73 days = 3 hours = 6 }
			}
		}
		else = {
			country_event = { id = NWspain.40 days = 3 } #Правые против левых
			hidden_effect = { news_event = { id = trworldnews.72 days = 3 hours = 6 } }
		}
	}
}

#Военные столкновения в Мадриде
country_event = {
	id = NWspain.33
	title = NWspain.33.t
	desc = NWspain.33.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.33" }
	
	option = {
		name = NWspain.33.a
		add_stability = -0.1
		
		#Агры
		if = {
			limit = { check_variable = { f_agressive_level_var = 1 } }
			country_event = { id = NWspain.34 days = 1 }
		}
		if = {
			limit = { check_variable = { karl_agressive_level_var = 1 } }
			country_event = { id = NWspain.35 days = 1 hours = 1 }
		}
		if = {
			limit = { check_variable = { nk_agressive_level_var = 1 } }
			country_event = { id = NWspain.36 days = 1 hours = 2 }
		}
		if = {
			limit = { check_variable = { comm_agressive_level_var = 1 } }
			country_event = { id = NWspain.37 days = 1 hours = 3 }
		}
		if = {
			limit = { check_variable = { sd_agressive_level_var = 1 } }
			country_event = { id = NWspain.38 days = 1 hours = 4 }
		}
		if = {
			limit = { check_variable = { a_agressive_level_var = 1 } }
			country_event = { id = NWspain.39 days = 1 hours = 5 }
		}
		
		#Лояльные
		if = {
			limit = { check_variable = { f_agressive_level_var = 3 } }
			country_event = { id = NWspain.42 days = 2 }
		}
		if = {
			limit = { check_variable = { karl_agressive_level_var = 3 } }
			country_event = { id = NWspain.43 days = 2 hours = 1 }
		}
		if = {
			limit = { check_variable = { nk_agressive_level_var = 3 } }
			country_event = { id = NWspain.44 days = 2 hours = 2 }
		}
		if = {
			limit = { check_variable = { comm_agressive_level_var = 3 } }
			country_event = { id = NWspain.45 days = 2 hours = 3 }
		}
		if = {
			limit = { check_variable = { sd_agressive_level_var = 3 } }
			country_event = { id = NWspain.46 days = 2 hours = 4 }
		}
		if = {
			limit = { check_variable = { a_agressive_level_var = 3 } }
			country_event = { id = NWspain.47 days = 2 hours = 5 }
		}
	}
}

#Восстание фалангистов в Кастилии
country_event = {
	id = NWspain.34
	title = NWspain.34.t
	desc = NWspain.34.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.34" }
	
	option = {
		name = NWspain.34.a
		add_popularity = { ideology = fascism popularity = -0.05 }
		CAS = { transfer_state = 176 }
		every_unit_leader = {
		    limit = {
			    OR = {
			        has_id = 4709
			        has_id = 4710
		        }
			}
		    set_nationality = CAS
	    }
		hidden_effect = {
			if = {
				limit = { check_variable = { f_influence_level_var = 1 } }
				CAS = {
					give_rifles_and_template = yes
					capital_scope = { spawn_five_divisions = yes }
				}
			}
			if = {
				limit = { check_variable = { f_influence_level_var = 2 } }
				CAS = {
					give_rifles_and_template = yes
					capital_scope = {
						spawn_five_divisions = yes
						spawn_five_divisions = yes
					}
				}
			}
			if = {
				limit = { check_variable = { f_influence_level_var = 3 } }
				CAS = {
					give_rifles_and_template = yes
					capital_scope = {
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
					}
				}
			}
			CAS = {
				every_owned_state = {
					add_core_of = SPR
				}
			}
		}
		CAS = {
			declare_war_on = {
				target = ROOT
				type = civil_war
			}
			add_civil_war_target = ROOT
		}
	}
	
	option = {
		name = NWspain.34.b
		trigger = { is_ai = no }
		add_popularity = { ideology = fascism popularity = -0.05 }
		CAS = { transfer_state = 176 }
		every_unit_leader = {
		    limit = {
			    OR = {
			        has_id = 4709
			        has_id = 4710
		        }
			}
		    set_nationality = CAS
	    }
		hidden_effect = {
			if = {
				limit = { check_variable = { f_influence_level_var = 1 } }
				CAS = {
					give_rifles_and_template = yes
					spawn_five_divisions = yes
				}
			}
			if = {
				limit = { check_variable = { f_influence_level_var = 2 } }
				CAS = {
					give_rifles_and_template = yes
					capital_scope = {
						spawn_five_divisions = yes
						spawn_five_divisions = yes
					}
				}
			}
			if = {
				limit = { check_variable = { f_influence_level_var = 3 } }
				CAS = {
					give_rifles_and_template = yes
					capital_scope = {
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
					}
				}
			}
			CAS = {
				every_owned_state = {
					add_core_of = SPR
				}
			}
		}
		CAS = {
			declare_war_on = {
				target = ROOT
				type = civil_war
			}
			add_civil_war_target = ROOT
			change_tag_from = ROOT
		}
	}
}

#Восстание карлистов в Наварре
country_event = {
	id = NWspain.35
	title = NWspain.35.t
	desc = NWspain.35.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.35" }
	
	option = {
		name = NWspain.35.a
		add_popularity = { ideology = monarchy popularity = -0.05 }
		NAV = {
			transfer_state = 172
		}
		every_unit_leader = {
	        limit = {
		        has_trait = trait_SPA_carlist_loyalties
		  	}
	        set_nationality = NAV
	   	}
		hidden_effect = {
			if = {
				limit = { check_variable = { karl_influence_level_var = 1 } }
				NAV = {
					give_rifles_and_template = yes
					capital_scope = { spawn_five_divisions = yes }
				}
			}
			if = {
				limit = { check_variable = { karl_influence_level_var = 2 } }
				NAV = {
					give_rifles_and_template = yes
					capital_scope = {
						spawn_five_divisions = yes
						spawn_five_divisions = yes
					}
				}
			}
			if = {
				limit = { check_variable = { karl_influence_level_var = 3 } }
				NAV = {
					give_rifles_and_template = yes
					capital_scope = {
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
					}
				}
			}
			NAV = {
				every_owned_state = {
					add_core_of = SPR
				}
			}
		}
		NAV = {
			declare_war_on = {
				target = ROOT
				type = civil_war
			}
			add_civil_war_target = ROOT
		}
	}
	
	option = {
		name = NWspain.35.b
		trigger = { is_ai = no }
		add_popularity = { ideology = monarchy popularity = -0.05 }
		NAV = {
			transfer_state = 172
		}
		every_unit_leader = {
	        limit = {
		        has_trait = trait_SPA_carlist_loyalties
		  	}
	        set_nationality = NAV
	   	}
		hidden_effect = {
			if = {
				limit = { check_variable = { karl_influence_level_var = 1 } }
				NAV = {
					give_rifles_and_template = yes
					capital_scope = { spawn_five_divisions = yes }
				}
			}
			if = {
				limit = { check_variable = { karl_influence_level_var = 2 } }
				NAV = {
					give_rifles_and_template = yes
					capital_scope = {
						spawn_five_divisions = yes
						spawn_five_divisions = yes
					}
				}
			}
			if = {
				limit = { check_variable = { karl_influence_level_var = 3 } }
				NAV = {
					give_rifles_and_template = yes
					capital_scope = {
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
					}
				}
			}
			NAV = {
				every_owned_state = {
					add_core_of = SPR
				}
			}
		}
		NAV = {
			change_tag_from = ROOT
			declare_war_on = {
				target = ROOT
				type = civil_war
			}
			add_civil_war_target = ROOT
		}
	}
}

#Восстание националистов в Мадриде
country_event = {
	id = NWspain.36
	title = NWspain.36.t
	desc = NWspain.36.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.36" }
	
	option = {
		name = NWspain.36.a
		add_popularity = { ideology = neutrality popularity = -0.05 }
		every_unit_leader = {
	        limit = {
		        has_trait = trait_SPA_nationalist_sympathies
		  	}
	        set_nationality = SEU
	   	}
		SEU = {
			transfer_state = 290
			transfer_state = 175
			transfer_state = 41
			set_capital = { state =  41 }
		}
		hidden_effect = {
			if = {
				limit = { check_variable = { nk_influence_level_var = 1 } }
				
				SEU = {
					give_rifles_and_template = yes
					41 = {
						spawn_five_divisions = yes
						spawn_five_divisions = yes
					}
				}
			}
			if = {
				limit = { check_variable = { nk_influence_level_var = 2 } }
				SEU = {
					give_rifles_and_template = yes
					41 = {
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
					}
				}
			}
			if = {
				limit = { check_variable = { nk_influence_level_var = 3 } }
				SEU = {
					give_rifles_and_template = yes
					41 = {
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
					}
				}
			}
			SEU = {
				every_owned_state = {
					add_core_of = SPR
				}
			}
		}
		SEU = {
			declare_war_on = {
				target = ROOT
				type = civil_war
			}
			add_civil_war_target = ROOT
		}
	}
	
	option = {
		name = NWspain.36.b
		trigger = { is_ai = no }
		add_popularity = { ideology = neutrality popularity = -0.05 }
		every_unit_leader = {
	        limit = {
		        has_trait = trait_SPA_nationalist_sympathies
		  	}
	        set_nationality = SEU
	   	}
		SEU = {
			transfer_state = 290
			transfer_state = 175
			transfer_state = 41
			set_capital = { state =  41 }
		}
		hidden_effect = {
			if = {
				limit = { check_variable = { nk_influence_level_var = 1 } }
				SEU = {
					give_rifles_and_template = yes
					41 = {
						spawn_five_divisions = yes
						spawn_five_divisions = yes
					}
				}
			}
			if = {
				limit = { check_variable = { nk_influence_level_var = 2 } }
				SEU = {
					give_rifles_and_template = yes
					41 = {
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
					}
				}
			}
			if = {
				limit = { check_variable = { nk_influence_level_var = 3 } }
				SEU = {
					give_rifles_and_template = yes
					41 = {
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
					}
				}
			}
			SEU = {
				every_owned_state = {
					add_core_of = SPR
				}
			}
		}
		SEU = {
			change_tag_from = ROOT
			declare_war_on = {
				target = ROOT
				type = civil_war
			}
			add_civil_war_target = ROOT
		}
	}
}

#Восстание коммунистов на севере Испании
country_event = {
	id = NWspain.37
	title = NWspain.37.t
	desc = NWspain.37.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.37" }
	
	option = {
		name = NWspain.37.a
		add_popularity = { ideology = communism popularity = -0.05 }
		every_unit_leader = {
	        limit = {
		        has_trait = trait_SPR_stalinist_loyalties
		  	}
	        set_nationality = SPC
	   	}
		SPC = {
			transfer_state = 170
		}
		hidden_effect = {
			if = {
				limit = { check_variable = { comm_influence_level_var = 1 } }
				SPC = {
					give_rifles_and_template = yes
					capital_scope = { spawn_five_divisions = yes }
				}
			}
			if = {
				limit = { check_variable = { comm_influence_level_var = 2 } }
				SPC = {
					give_rifles_and_template = yes
					capital_scope = {
						spawn_five_divisions = yes
						spawn_five_divisions = yes
					}
				}
			}
			if = {
				limit = { check_variable = { comm_influence_level_var = 3 } }
				SPC = {
					give_rifles_and_template = yes
					capital_scope = {
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
					}
				}
			}
			SPC = {
				every_owned_state = {
					add_core_of = SPR
				}
			}
		}
		SPC = {
			declare_war_on = {
				target = ROOT
				type = civil_war
			}
			add_civil_war_target = ROOT
		}
	}
	
	option = {
		name = NWspain.37.b
		trigger = { is_ai = no }
		add_popularity = { ideology = communism popularity = -0.05 }
		every_unit_leader = {
	        limit = {
		        has_trait = trait_SPR_stalinist_loyalties
		  	}
	        set_nationality = SPC
	   	}
		SPC = {
			transfer_state = 170
		}
		hidden_effect = {
			if = {
				limit = { check_variable = { comm_influence_level_var = 1 } }
				SPC = {
					give_rifles_and_template = yes
					capital_scope = { spawn_five_divisions = yes }
				}
			}
			if = {
				limit = { check_variable = { comm_influence_level_var = 2 } }
				SPC = {
					give_rifles_and_template = yes
					capital_scope = {
						spawn_five_divisions = yes
						spawn_five_divisions = yes
					}
				}
			}
			if = {
				limit = { check_variable = { comm_influence_level_var = 3 } }
				SPC = {
					give_rifles_and_template = yes
					capital_scope = {
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
					}
				}
			}
			SPC = {
				every_owned_state = {
					add_core_of = SPR
				}
			}
		}
		SPC = {
			change_tag_from = ROOT
			declare_war_on = {
				target = ROOT
				type = civil_war
			}
			add_civil_war_target = ROOT
		}
	}
}

#Восстание социалистов на юге Испании
country_event = {
	id = NWspain.38
	title = NWspain.38.t
	desc = NWspain.38.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.38" }
	
	option = {
		name = NWspain.38.a
		add_popularity = { ideology = democratic popularity = -0.05 }
		every_unit_leader = {
		    limit = {
			    OR = {
			        has_id = 4717
			        has_id = 4718
		        }
			}
		    set_nationality = ANL
	    }
		ANL = {
			transfer_state = 169
			transfer_state = 173
		}
		hidden_effect = {
			if = {
				limit = { check_variable = { sd_influence_level_var = 1 } }
				ANL = {
					give_rifles_and_template = yes
					capital_scope = {
						spawn_five_divisions = yes
						spawn_five_divisions = yes
					}
				}
			}
			if = {
				limit = { check_variable = { sd_influence_level_var = 2 } }
				ANL = {
					give_rifles_and_template = yes
					capital_scope = {
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
					}
				}
			}
			if = {
				limit = { check_variable = { sd_influence_level_var = 3 } }
				ANL = {
					give_rifles_and_template = yes
					capital_scope = {
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
					}
				}
			}
			ANL = {
				every_owned_state = {
					add_core_of = SPR
				}
			}
		}
		ANL = {
			declare_war_on = {
				target = ROOT
				type = civil_war
			}
			add_civil_war_target = ROOT
		}
	}
	
	option = {
		name = NWspain.38.b
		trigger = { is_ai = no }
		add_popularity = { ideology = democratic popularity = -0.05 }
		every_unit_leader = {
		    limit = {
			    OR = {
			        has_id = 4717
			        has_id = 4718
		        }
			}
		    set_nationality = ANL
	    }
		ANL = {
			transfer_state = 169
			transfer_state = 173
		}
		hidden_effect = {
			if = {
				limit = { check_variable = { sd_influence_level_var = 1 } }
				ANL = {
					give_rifles_and_template = yes
					capital_scope = {
						spawn_five_divisions = yes
						spawn_five_divisions = yes
					}
				}
			}
			if = {
				limit = { check_variable = { sd_influence_level_var = 2 } }
				ANL = {
					give_rifles_and_template = yes
					capital_scope = {
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
					}
				}
			}
			if = {
				limit = { check_variable = { sd_influence_level_var = 3 } }
				ANL = {
					give_rifles_and_template = yes
					capital_scope = {
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
					}
				}
			}
			ANL = {
				every_owned_state = {
					add_core_of = SPR
				}
			}
		}
		ANL = {
			change_tag_from = ROOT
			declare_war_on = {
				target = ROOT
				type = civil_war
			}
			add_civil_war_target = ROOT
		}
	}
}

#Восстание анархистов в Арагоне
country_event = {
	id = NWspain.39
	title = NWspain.39.t
	desc = NWspain.39.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.39" }
	
	option = {
		name = NWspain.39.a
		add_popularity = { ideology = anarchism popularity = -0.05 }
		every_unit_leader = {
	        limit = {
		        has_trait = trait_SPR_anarchist_loyalties
		  	}
	        set_nationality = ARA
	   	}
		ARA = {
			transfer_state = 166
			transfer_state = 794
			set_country_flag = aragon_focus_anarchist_flag
			load_focus_tree = aragon_focus_anarchist
			add_ideas = SPR_disbanded_army_1
		}
		hidden_effect = {
			if = {
				limit = { check_variable = { a_influence_level_var = 1 } }
				ARA = {
					give_rifles_and_template = yes
					capital_scope = { spawn_five_divisions = yes }
				}
			}
			if = {
				limit = { check_variable = { a_influence_level_var = 2 } }
				ARA = {
					give_rifles_and_template = yes
					capital_scope = {
						spawn_five_divisions = yes
						spawn_five_divisions = yes
					}
				}
			}
			if = {
				limit = { check_variable = { a_influence_level_var = 3 } }
				ARA = {
					give_rifles_and_template = yes
					capital_scope = {
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
					}
				}
			}
			ARA = {
				every_owned_state = {
					add_core_of = SPR
				}
				set_popularities = {
				    democratic = 20
				    fascism = 20
				    monarchy = 30
				    anarchism = 30
			    }
			    set_politics = {
				    ruling_party = anarchism
				    elections_allowed = no
			    }
			}
		}
		ARA = {
			declare_war_on = {
				target = ROOT
				type = civil_war
			}
			add_civil_war_target = ROOT
		}
	}
	
	option = {
		name = NWspain.39.b
		trigger = { is_ai = no }
		add_popularity = { ideology = anarchism popularity = -0.05 }
		every_unit_leader = {
	        limit = {
		        has_trait = trait_SPR_anarchist_loyalties
		  	}
	        set_nationality = ARA
	   	}
		ARA = {
			transfer_state = 166
			transfer_state = 794
			set_country_flag = aragon_focus_anarchist_flag
			load_focus_tree = aragon_focus_anarchist
			add_ideas = SPR_disbanded_army_1
		}
		hidden_effect = {
			if = {
				limit = { check_variable = { a_influence_level_var = 1 } }
				ARA = {
					give_rifles_and_template = yes
					capital_scope = { spawn_five_divisions = yes }
				}
			}
			if = {
				limit = { check_variable = { a_influence_level_var = 2 } }
				ARA = {
					give_rifles_and_template = yes
					capital_scope = {
						spawn_five_divisions = yes
						spawn_five_divisions = yes
					}
				}
			}
			if = {
				limit = { check_variable = { a_influence_level_var = 3 } }
				ARA = {
					give_rifles_and_template = yes
					capital_scope = {
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
						spawn_five_divisions = yes
					}
				}
			}
			ARA = {
				every_owned_state = {
					add_core_of = SPR
				}
			}
		}
		ARA = {
			change_tag_from = ROOT
			declare_war_on = {
				target = ROOT
				type = civil_war
			}
			add_civil_war_target = ROOT
		}
	}
}

#Правые против левых
country_event = {
	id = NWspain.40
	title = NWspain.40.t
	desc = NWspain.40.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	hidden = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.40" }
	
	option = {
		name = NWspain.40.a
		if ={
			limit = { country_exists = CAS }
			CAS = {
				add_ideas = SPR_spain_civil_war
				if = {
					limit = { country_exists = SPC }
					declare_war_on = {
						target = SPC
						type = civil_war
					}
					add_civil_war_target = SPC
				}
				if = {
					limit = { country_exists = ANL }
					declare_war_on = {
						target = ANL
						type = civil_war
					}
					add_civil_war_target = ANL
				}
				if = {
					limit = { country_exists = ARA }
					declare_war_on = {
						target = ARA
						type = civil_war
					}
					add_civil_war_target = ARA
				}
			}
		}
		if = {
			limit = { country_exists = NAV }
			NAV = {
				add_ideas = SPR_spain_civil_war
				if = {
					limit = { country_exists = SPC }
					declare_war_on = {
						target = SPC
						type = civil_war
					}
					add_civil_war_target = SPC
				}
				if = {
					limit = { country_exists = ANL }
					declare_war_on = {
						target = ANL
						type = civil_war
					}
					add_civil_war_target = ANL
				}
				if = {
					limit = { country_exists = ARA }
					declare_war_on = {
						target = ARA
						type = civil_war
					}
					add_civil_war_target = ARA
				}
			}
		}
		if = {
			limit = { country_exists = SEU }
			SEU = {
				add_ideas = SPR_spain_civil_war
				if = {
					limit = { country_exists = SPR }
					declare_war_on = {
						target = SPR
						type = civil_war
					}
					add_civil_war_target = SPR
				}
				if = {
					limit = { country_exists = SPC }
					declare_war_on = {
						target = SPC
						type = civil_war
					}
					add_civil_war_target = SPC
				}
				if = {
					limit = { country_exists = ANL }
					declare_war_on = {
						target = ANL
						type = civil_war
					}
					add_civil_war_target = ANL
				}
				if = {
					limit = { country_exists = ARA }
					declare_war_on = {
						target = ARA
						type = civil_war
					}
					add_civil_war_target = ARA
				}
			}
		}
		if = {
			limit = { country_exists = SPR }
			SPR = { add_ideas = SPR_spain_civil_war }
		}
		if = {
			limit = { country_exists = SPC }
			SPC = { add_ideas = SPR_spain_civil_war }
		}
		if = {
			limit = { country_exists = ANL }
			ANL = { add_ideas = SPR_spain_civil_war }
		}
		if = {
			limit = { country_exists = ARA }
			ARA = { add_ideas = SPR_spain_civil_war }
		}
	}
}

#Определение оппозиционнеров
country_event = {
	id = NWspain.41
	title = NWspain.41.t
	desc = NWspain.41.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	hidden = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.41" }
	
	option = {
		name = NWspain.41.a
		
		#Правые
		if = {
			limit = { check_variable = { f_agressive_level_var = 2 } }
			if = {
				limit = {
					country_exists = NAV
					country_exists = SEU
				}
				random_list = {
					50 = {
						NAV = { transfer_state = 176 }
						if = {
							limit = { check_variable = { f_influence_level_var = 1 } }
							NAV = { 176 = { spawn_five_divisions = yes } }
						}
						if = {
							limit = { check_variable = { f_influence_level_var = 2 } }
							NAV = {
								176 = {
									spawn_five_divisions = yes
									spawn_five_divisions = yes
								}
							}
						}
						if = {
							limit = { check_variable = { f_influence_level_var = 3 } }
							NAV = {
								176 = {
									spawn_five_divisions = yes
									spawn_five_divisions = yes
									spawn_five_divisions = yes
									spawn_five_divisions = yes
								}
							}
						}
					}
					50 = {
						SEU = { transfer_state = 176 }
						if = {
							limit = { check_variable = { f_influence_level_var = 1 } }
							SEU = { 176 = { spawn_five_divisions = yes } }
						}
						if = {
							limit = { check_variable = { f_influence_level_var = 2 } }
							SEU = {
								176 = {
									spawn_five_divisions = yes
									spawn_five_divisions = yes
								}
							}
						}
						if = {
							limit = { check_variable = { f_influence_level_var = 3 } }
							SEU = {
								176 = {
									spawn_five_divisions = yes
									spawn_five_divisions = yes
									spawn_five_divisions = yes
									spawn_five_divisions = yes
								}
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					country_exists = NAV
					NOT = { country_exists = SEU }
				}
				NAV = { transfer_state = 176 }
				if = {
					limit = { check_variable = { f_influence_level_var = 1 } }
					NAV = { 176 = { spawn_five_divisions = yes } }
				}
				if = {
					limit = { check_variable = { f_influence_level_var = 2 } }
					NAV = {
						176 = {
							spawn_five_divisions = yes
							spawn_five_divisions = yes
						}
					}
				}
				if = {
					limit = { check_variable = { f_influence_level_var = 3 } }
					NAV = {
						176 = {
							spawn_five_divisions = yes
							spawn_five_divisions = yes
							spawn_five_divisions = yes
							spawn_five_divisions = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					NOT = { country_exists = NAV }
					country_exists = SEU
				}
				SEU = { transfer_state = 176 }
				if = {
					limit = { check_variable = { f_influence_level_var = 1 } }
					SEU = { 176 = { spawn_five_divisions = yes } }
				}
				if = {
					limit = { check_variable = { f_influence_level_var = 2 } }
					SEU = {
						176 = {
							spawn_five_divisions = yes
							spawn_five_divisions = yes
						}
					}
				}
				if = {
					limit = { check_variable = { f_influence_level_var = 3 } }
					SEU = {
						176 = {
							spawn_five_divisions = yes
							spawn_five_divisions = yes
							spawn_five_divisions = yes
							spawn_five_divisions = yes
						}
					}
				}
			}
		}
		if = {
			limit = { check_variable = { karl_agressive_level_var = 2 } }
			if = {
				limit = {
					country_exists = CAS
					country_exists = SEU
				}
				random_list = {
					50 = {
						CAS = {
							transfer_state = 172
						}
						if = {
							limit = { check_variable = { karl_influence_level_var = 1 } }
							CAS = { 172 = { spawn_five_divisions = yes } }
						}
						if = {
							limit = { check_variable = { karl_influence_level_var = 2 } }
							CAS = {
								172 = {
									spawn_five_divisions = yes
									spawn_five_divisions = yes
								}
							}
						}
						if = {
							limit = { check_variable = { karl_influence_level_var = 3 } }
							CAS = {
								172 = {
									spawn_five_divisions = yes
									spawn_five_divisions = yes
									spawn_five_divisions = yes
									spawn_five_divisions = yes
								}
							}
						}
					}
					50 = {
						SEU = {
							transfer_state = 172
						}
						if = {
							limit = { check_variable = { karl_influence_level_var = 1 } }
							SEU = { 172 = { spawn_five_divisions = yes } }
						}
						if = {
							limit = { check_variable = { karl_influence_level_var = 2 } }
							SEU = {
								172 = {
									spawn_five_divisions = yes
									spawn_five_divisions = yes
								}
							}
						}
						if = {
							limit = { check_variable = { karl_influence_level_var = 3 } }
							SEU = {
								172 = {
									spawn_five_divisions = yes
									spawn_five_divisions = yes
									spawn_five_divisions = yes
									spawn_five_divisions = yes
								}
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					country_exists = CAS
					NOT = { country_exists = SEU }
				}
				CAS = {
					transfer_state = 172
				}
				if = {
					limit = { check_variable = { karl_influence_level_var = 1 } }
					CAS = { 172 = { spawn_five_divisions = yes } }
				}
				if = {
					limit = { check_variable = { karl_influence_level_var = 2 } }
					CAS = {
						172 = {
							spawn_five_divisions = yes
							spawn_five_divisions = yes
						}
					}
				}
				if = {
					limit = { check_variable = { karl_influence_level_var = 3 } }
					CAS = {
						172 = {
							spawn_five_divisions = yes
							spawn_five_divisions = yes
							spawn_five_divisions = yes
							spawn_five_divisions = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					NOT = { country_exists = CAS }
					country_exists = SEU
				}
				SEU = {
					transfer_state = 172
				}
				if = {
					limit = { check_variable = { karl_influence_level_var = 1 } }
					SEU = { 172 = { spawn_five_divisions = yes } }
				}
				if = {
					limit = { check_variable = { karl_influence_level_var = 2 } }
					SEU = {
						172 = {
							spawn_five_divisions = yes
							spawn_five_divisions = yes
						}
					}
				}
				if = {
					limit = { check_variable = { karl_influence_level_var = 3 } }
					SEU = {
						172 = {
							spawn_five_divisions = yes
							spawn_five_divisions = yes
							spawn_five_divisions = yes
							spawn_five_divisions = yes
						}
					}
				}
			}
		}
		if = {
			limit = { check_variable = { nk_agressive_level_var = 2 } }
			if = {
				limit = {
					country_exists = CAS
					country_exists = NAV
				}
				random_list = {
					50 = {
						CAS = {
							transfer_state = 290
							transfer_state = 175
							transfer_state = 41
						}
						if = {
							limit = { check_variable = { nk_influence_level_var = 1 } }
							CAS = { 41 = { spawn_five_divisions = yes } }
						}
						if = {
							limit = { check_variable = { nk_influence_level_var = 2 } }
							CAS = {
								41 = {
									spawn_five_divisions = yes
									spawn_five_divisions = yes
								}
							}
						}
						if = {
							limit = { check_variable = { nk_influence_level_var = 3 } }
							CAS = {
								41 = {
									spawn_five_divisions = yes
									spawn_five_divisions = yes
									spawn_five_divisions = yes
									spawn_five_divisions = yes
								}
							}
						}
					}
					50 = {
						NAV = {
							transfer_state = 290
							transfer_state = 175
							transfer_state = 41
						}
						if = {
							limit = { check_variable = { nk_influence_level_var = 1 } }
							NAV = { 41 = { spawn_five_divisions = yes } }
						}
						if = {
							limit = { check_variable = { nk_influence_level_var = 2 } }
							NAV = {
								41 = {
									spawn_five_divisions = yes
									spawn_five_divisions = yes
								}
							}
						}
						if = {
							limit = { check_variable = { nk_influence_level_var = 3 } }
							NAV = {
								41 = {
									spawn_five_divisions = yes
									spawn_five_divisions = yes
									spawn_five_divisions = yes
									spawn_five_divisions = yes
								}
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					country_exists = CAS
					NOT = { country_exists = NAV }
				}
				CAS = {
					transfer_state = 290
					transfer_state = 175
					transfer_state = 41
				}
				if = {
					limit = { check_variable = { nk_influence_level_var = 1 } }
					CAS = { 41 = { spawn_five_divisions = yes } }
				}
				if = {
					limit = { check_variable = { nk_influence_level_var = 2 } }
					CAS = {
						41 = {
							spawn_five_divisions = yes
							spawn_five_divisions = yes
						}
					}
				}
				if = {
					limit = { check_variable = { nk_influence_level_var = 3 } }
					CAS = {
						41 = {
							spawn_five_divisions = yes
							spawn_five_divisions = yes
							spawn_five_divisions = yes
							spawn_five_divisions = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					NOT = { country_exists = CAS }
					country_exists = NAV
				}
				NAV = {
					transfer_state = 290
					transfer_state = 175
					transfer_state = 41
				}
				if = {
					limit = { check_variable = { nk_influence_level_var = 1 } }
					NAV = { 41 = { spawn_five_divisions = yes } }
				}
				if = {
					limit = { check_variable = { nk_influence_level_var = 2 } }
					NAV = {
						41 = {
							spawn_five_divisions = yes
							spawn_five_divisions = yes
						}
					}
				}
				if = {
					limit = { check_variable = { nk_influence_level_var = 3 } }
					NAV = {
						41 = {
							spawn_five_divisions = yes
							spawn_five_divisions = yes
							spawn_five_divisions = yes
							spawn_five_divisions = yes
						}
					}
				}
			}
		}
		
		#Левые
		if = {
			limit = { check_variable = { comm_agressive_level_var = 2 } }
			if = {
				limit = {
					country_exists = ANL
					country_exists = ARA
				}
				random_list = {
					50 = {
						ANL = {
							transfer_state = 170
						}
						if = {
							limit = { check_variable = { comm_influence_level_var = 1 } }
							ANL = { 170 = { spawn_five_divisions = yes } }
						}
						if = {
							limit = { check_variable = { comm_influence_level_var = 2 } }
							ANL = {
								170 = {
									spawn_five_divisions = yes
									spawn_five_divisions = yes
								}
							}
						}
						if = {
							limit = { check_variable = { comm_influence_level_var = 3 } }
							ANL = {
								170 = {
									spawn_five_divisions = yes
									spawn_five_divisions = yes
									spawn_five_divisions = yes
									spawn_five_divisions = yes
								}
							}
						}
					}
					50 = {
						ARA = {
							transfer_state = 170
						}
						if = {
							limit = { check_variable = { comm_influence_level_var = 1 } }
							ARA = { 170 = { spawn_five_divisions = yes } }
						}
						if = {
							limit = { check_variable = { comm_influence_level_var = 2 } }
							ARA = {
								170 = {
									spawn_five_divisions = yes
									spawn_five_divisions = yes
								}
							}
						}
						if = {
							limit = { check_variable = { comm_influence_level_var = 3 } }
							ARA = {
								170 = {
									spawn_five_divisions = yes
									spawn_five_divisions = yes
									spawn_five_divisions = yes
									spawn_five_divisions = yes
								}
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					country_exists = ANL
					NOT = { country_exists = ARA }
				}
				ANL = {
					transfer_state = 170
				}
				if = {
					limit = { check_variable = { comm_influence_level_var = 1 } }
					ANL = { 170 = { spawn_five_divisions = yes } }
				}
				if = {
					limit = { check_variable = { comm_influence_level_var = 2 } }
					ANL = {
						170 = {
							spawn_five_divisions = yes
							spawn_five_divisions = yes
						}
					}
				}
				if = {
					limit = { check_variable = { comm_influence_level_var = 3 } }
					ANL = {
						170 = {
							spawn_five_divisions = yes
							spawn_five_divisions = yes
							spawn_five_divisions = yes
							spawn_five_divisions = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					NOT = { country_exists = ANL }
					country_exists = ARA
				}
				ARA = {
					transfer_state = 170
				}
				if = {
					limit = { check_variable = { comm_influence_level_var = 1 } }
					ARA = { 170 = { spawn_five_divisions = yes } }
				}
				if = {
					limit = { check_variable = { comm_influence_level_var = 2 } }
					ARA = {
						170 = {
							spawn_five_divisions = yes
							spawn_five_divisions = yes
						}
					}
				}
				if = {
					limit = { check_variable = { comm_influence_level_var = 3 } }
					ARA = {
						170 = {
							spawn_five_divisions = yes
							spawn_five_divisions = yes
							spawn_five_divisions = yes
							spawn_five_divisions = yes
						}
					}
				}
			}
		}
		if = {
			limit = { check_variable = { sd_agressive_level_var = 2 } }
			if = {
				limit = {
					country_exists = SPC
					country_exists = ARA
				}
				random_list = {
					50 = {
						SPC = {
							transfer_state = 169
							transfer_state = 173
						}
						if = {
							limit = { check_variable = { sd_influence_level_var = 1 } }
							SPC = { 169 = { spawn_five_divisions = yes } }
						}
						if = {
							limit = { check_variable = { sd_influence_level_var = 2 } }
							SPC = {
								169 = {
									spawn_five_divisions = yes
									spawn_five_divisions = yes
								}
							}
						}
						if = {
							limit = { check_variable = { sd_influence_level_var = 3 } }
							SPC = {
								169 = {
									spawn_five_divisions = yes
									spawn_five_divisions = yes
									spawn_five_divisions = yes
									spawn_five_divisions = yes
								}
							}
						}
					}
					50 = {
						ARA = {
							transfer_state = 169
							transfer_state = 173
						}
						if = {
							limit = { check_variable = { sd_influence_level_var = 1 } }
							ARA = { 169 = { spawn_five_divisions = yes } }
						}
						if = {
							limit = { check_variable = { sd_influence_level_var = 2 } }
							ARA = {
								169 = {
									spawn_five_divisions = yes
									spawn_five_divisions = yes
								}
							}
						}
						if = {
							limit = { check_variable = { sd_influence_level_var = 3 } }
							ARA = {
								169 = {
									spawn_five_divisions = yes
									spawn_five_divisions = yes
									spawn_five_divisions = yes
									spawn_five_divisions = yes
								}
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					country_exists = SPC
					NOT = { country_exists = ARA }
				}
				SPC = {
					transfer_state = 169
					transfer_state = 173
				}
				if = {
					limit = { check_variable = { sd_influence_level_var = 1 } }
					SPC = { 169 = { spawn_five_divisions = yes } }
				}
				if = {
					limit = { check_variable = { sd_influence_level_var = 2 } }
					SPC = {
						169 = {
							spawn_five_divisions = yes
							spawn_five_divisions = yes
						}
					}
				}
				if = {
					limit = { check_variable = { sd_influence_level_var = 3 } }
					SPC = {
						169 = {
							spawn_five_divisions = yes
							spawn_five_divisions = yes
							spawn_five_divisions = yes
							spawn_five_divisions = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					NOT = { country_exists = SPC }
					country_exists = ARA
				}
				ARA = {
					transfer_state = 169
					transfer_state = 173
				}
				if = {
					limit = { check_variable = { sd_influence_level_var = 1 } }
					ARA = { 169 = { spawn_five_divisions = yes } }
				}
				if = {
					limit = { check_variable = { sd_influence_level_var = 2 } }
					ARA = {
						169 = {
							spawn_five_divisions = yes
							spawn_five_divisions = yes
						}
					}
				}
				if = {
					limit = { check_variable = { sd_influence_level_var = 3 } }
					ARA = {
						169 = {
							spawn_five_divisions = yes
							spawn_five_divisions = yes
							spawn_five_divisions = yes
							spawn_five_divisions = yes
						}
					}
				}
			}
		}
		if = {
			limit = { check_variable = { a_agressive_level_var = 2 } }
			if = {
				limit = {
					country_exists = SPC
					country_exists = ANL
				}
				random_list = {
					50 = {
						SPC = {
							transfer_state = 166
							transfer_state = 794
						}
						if = {
							limit = { check_variable = { a_influence_level_var = 1 } }
							SPC = { 166 = { spawn_five_divisions = yes } }
						}
						if = {
							limit = { check_variable = { a_influence_level_var = 2 } }
							SPC = {
								166 = {
									spawn_five_divisions = yes
									spawn_five_divisions = yes
								}
							}
						}
						if = {
							limit = { check_variable = { a_influence_level_var = 3 } }
							SPC = {
								166 = {
									spawn_five_divisions = yes
									spawn_five_divisions = yes
									spawn_five_divisions = yes
									spawn_five_divisions = yes
								}
							}
						}
					}
					50 = {
						ANL = {
							transfer_state = 166
							transfer_state = 794
						}
						if = {
							limit = { check_variable = { a_influence_level_var = 1 } }
							ANL = { 166 = { spawn_five_divisions = yes } }
						}
						if = {
							limit = { check_variable = { a_influence_level_var = 2 } }
							ANL = {
								166 = {
									spawn_five_divisions = yes
									spawn_five_divisions = yes
								}
							}
						}
						if = {
							limit = { check_variable = { a_influence_level_var = 3 } }
							ANL = {
								166 = {
									spawn_five_divisions = yes
									spawn_five_divisions = yes
									spawn_five_divisions = yes
									spawn_five_divisions = yes
								}
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					country_exists = SPC
					NOT = { country_exists = ANL }
				}
				SPC = {
					transfer_state = 166
					transfer_state = 794
				}
				if = {
					limit = { check_variable = { a_influence_level_var = 1 } }
					SPC = { 166 = { spawn_five_divisions = yes } }
				}
				if = {
					limit = { check_variable = { a_influence_level_var = 2 } }
					SPC = {
						166 = {
							spawn_five_divisions = yes
							spawn_five_divisions = yes
						}
					}
				}
				if = {
					limit = { check_variable = { a_influence_level_var = 3 } }
					SPC = {
						166 = {
							spawn_five_divisions = yes
							spawn_five_divisions = yes
							spawn_five_divisions = yes
							spawn_five_divisions = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					NOT = { country_exists = SPC }
					country_exists = ANL
				}
				ANL = {
					transfer_state = 166
					transfer_state = 794
				}
				if = {
					limit = { check_variable = { a_influence_level_var = 1 } }
					ANL = { 166 = { spawn_five_divisions = yes } }
				}
				if = {
					limit = { check_variable = { a_influence_level_var = 2 } }
					ANL = {
						166 = {
							spawn_five_divisions = yes
							spawn_five_divisions = yes
						}
					}
				}
				if = {
					limit = { check_variable = { a_influence_level_var = 3 } }
					ANL = {
						166 = {
							spawn_five_divisions = yes
							spawn_five_divisions = yes
							spawn_five_divisions = yes
							spawn_five_divisions = yes
						}
					}
				}
			}
		}
	}
}

#Лояльные
#Поддержка фалангистов в Кастилии
country_event = {
	id = NWspain.42
	title = NWspain.42.t
	desc = NWspain.42.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.42" }
	
	option = {
		name = NWspain.42.a
		if = {
			limit = { check_variable = { f_influence_level_var = 1 } }
			176 = { spawn_five_divisions = yes }
		}
		if = {
			limit = { check_variable = { f_influence_level_var = 2 } }
			176 = { spawn_five_divisions = yes }
		}
		if = {
			limit = { check_variable = { f_influence_level_var = 3 } }
			176 = {
				spawn_five_divisions = yes
				spawn_five_divisions = yes
			}
		}
	}
}

#Поддержка карлистов в Наварре
country_event = {
	id = NWspain.43
	title = NWspain.43.t
	desc = NWspain.43.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.43" }
	
	option = {
		name = NWspain.43.a
		if = {
			limit = { check_variable = { karl_influence_level_var = 1 } }
			172 = { spawn_five_divisions = yes }
		}
		if = {
			limit = { check_variable = { karl_influence_level_var = 2 } }
			172 = { spawn_five_divisions = yes }
		}
		if = {
			limit = { check_variable = { karl_influence_level_var = 3 } }
			172 = {
				spawn_five_divisions = yes
				spawn_five_divisions = yes
			}
		}
	}
}

#Поддержка националистов в Мадриде
country_event = {
	id = NWspain.44
	title = NWspain.44.t
	desc = NWspain.44.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.44" }
	
	option = {
		name = NWspain.44.a
		if = {
			limit = { check_variable = { nk_influence_level_var = 1 } }
			41 = { spawn_five_divisions = yes }
		}
		if = {
			limit = { check_variable = { nk_influence_level_var = 2 } }
			41 = {
				spawn_five_divisions = yes
				spawn_five_divisions = yes
			}
		}
		if = {
			limit = { check_variable = { nk_influence_level_var = 3 } }
			41 = {
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
			}
		}
	}
}

#Поддержка коммунистов на севере Испании
country_event = {
	id = NWspain.45
	title = NWspain.45.t
	desc = NWspain.45.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.45" }
	
	option = {
		name = NWspain.45.a
		if = {
			limit = { check_variable = { comm_influence_level_var = 1 } }
			170 = { spawn_five_divisions = yes }
		}
		if = {
			limit = { check_variable = { comm_influence_level_var = 2 } }
			170 = { spawn_five_divisions = yes }
		}
		if = {
			limit = { check_variable = { comm_influence_level_var = 3 } }
			170 = {
				spawn_five_divisions = yes
				spawn_five_divisions = yes
			}
		}
	}
}

#Поддержка социалистов на юге Испании
country_event = {
	id = NWspain.46
	title = NWspain.46.t
	desc = NWspain.46.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.46" }
	
	option = {
		name = NWspain.46.a
		if = {
			limit = { check_variable = { sd_influence_level_var = 1 } }
			169 = { spawn_five_divisions = yes }
		}
		if = {
			limit = { check_variable = { sd_influence_level_var = 2 } }
			169 = {
				spawn_five_divisions = yes
				spawn_five_divisions = yes
			}
		}
		if = {
			limit = { check_variable = { sd_influence_level_var = 3 } }
			169 = {
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
			}
		}
	}
}

#Поддержка анархистов в Арагоне
country_event = {
	id = NWspain.47
	title = NWspain.47.t
	desc = NWspain.47.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.47" }
	
	option = {
		name = NWspain.47.a
		if = {
			limit = { check_variable = { a_influence_level_var = 1 } }
			166 = { spawn_five_divisions = yes }
		}
		if = {
			limit = { check_variable = { a_influence_level_var = 2 } }
			166 = { spawn_five_divisions = yes }
		}
		if = {
			limit = { check_variable = { a_influence_level_var = 3 } }
			166 = {
				spawn_five_divisions = yes
				spawn_five_divisions = yes
			}
		}
	}
}

#Пульсар "Каталония объявляет о независимости"
country_event = {
	id = NWspain.48
	title = NWspain.48.t
	desc = NWspain.48.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	hidden = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.48" }
	
	option = {
		name = NWspain.48.a
		if = {
			limit = {
				OVERLORD = {
					OR = {
						has_war_with = CAS
						has_war_with = NAV
						has_war_with = SEU
						has_war_with = SPC
						has_war_with = ANL
						has_war_with = ARA
						has_war_with = SNT
						has_war_with = BAS
						has_war_with = GLC
						has_war_with = VLA
					}
				}
			}
			OVERLORD = { country_event = { id = NWspain.49 } }
		}
	}
}

#Каталония объявляет о независимости
country_event = {
	id = NWspain.49
	title = NWspain.49.t
	desc = NWspain.49.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.49" }
	
	option = {
		name = NWspain.49.a
		set_autonomy = {
			target = FROM
			autonomy_state = autonomy_free
		}
	}
}

#Пульсар определение победителя // Конец ГВ либералов
country_event = {
	id = NWspain.50
	title = NWspain.50.t
	desc = NWspain.50.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	hidden = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.50" }
	
	option = {
		name = NWspain.50.a
		if = {
			limit = {
				OR = {
					tag = SPR
					NOT = { country_exists = SPR }
					SPR = { is_subject_of = ROOT }
				}
				OR = {
					tag = CAS
					NOT = { country_exists = CAS }
					CAS = { is_subject_of = ROOT }
				}
				OR = {
					tag = NAV
					NOT = { country_exists = NAV }
					NAV = { is_subject_of = ROOT }
				}
				OR = {
					tag = SEU
					NOT = { country_exists = SEU }
					SEU = { is_subject_of = ROOT }
				}
				OR = {
					tag = SPC
					NOT = { country_exists = SPC }
					SPC = { is_subject_of = ROOT }
				}
				OR = {
					tag = ANL
					NOT = { country_exists = ANL }
					ANL = { is_subject_of = ROOT }
				}
				OR = {
					tag = ARA
					NOT = { country_exists = ARA }
					ARA = { is_subject_of = ROOT }
				}
				OR = {
					tag = ASU
					NOT = { country_exists = ASU }
					ASU = { is_subject_of = ROOT }
				}
				OR = {
					tag = SNT
					NOT = { country_exists = SNT }
					SNT = { is_subject_of = ROOT }
				}
				OR = {
					tag = CAT
					NOT = { country_exists = CAT }
					CAT = { is_subject_of = ROOT }
				}
				OR = {
					tag = BAS
					NOT = { country_exists = BAS }
					BAS = { is_subject_of = ROOT }
				}
				OR = {
					tag = GLC
					NOT = { country_exists = GLC }
					GLC = { is_subject_of = ROOT }
				}
				OR = {
					tag = VLA
					NOT = { country_exists = VLA }
					VLA = { is_subject_of = ROOT }
				}
			}
			news_event = { id = trworldnews.74 hours = 6 }
		}
		if = {
			limit = { SPR = { is_subject_of = ROOT } }
			annex_country = {
				target = SPR
				transfer_troops = no
			}
			else_if = {
				limit = {
					country_exists = SPR
					NOT = { has_war_with = SPR }
					NOT = { tag = SPR }
				}
				declare_war_on = {
					target = SPR
					type = civil_war
				}
				add_civil_war_target = SPR
				SPR = { add_ideas = SPR_spain_civil_war }
			}
		}
		if = {
			limit = { CAS = { is_subject_of = ROOT } }
			annex_country = {
				target = CAS
				transfer_troops = no
			}
			else_if = {
				limit = {
					country_exists = CAS
					NOT = { has_war_with = CAS }
					NOT = { tag = CAS }
					
				}
				declare_war_on = {
					target = CAS
					type = civil_war
				}
				add_civil_war_target = CAS
				CAS = { add_ideas = SPR_spain_civil_war }
			}
		}
		if = {
			limit = { NAV = { is_subject_of = ROOT } }
			annex_country = {
				target = NAV
				transfer_troops = no
			}
			else_if = {
				limit = {
					country_exists = NAV
					NOT = { has_war_with = NAV }
					NOT = { tag = NAV }
				}
				declare_war_on = {
					target = NAV
					type = civil_war
				}
				add_civil_war_target = NAV
				NAV = { add_ideas = SPR_spain_civil_war }
			}
		}
		if = {
			limit = { SEU = { is_subject_of = ROOT } }
			annex_country = {
				target = SEU
				transfer_troops = no
			}
			else_if = {
				limit = {
					country_exists = SEU
					NOT = { has_war_with = SEU }
					NOT = { tag = SEU }
				}
				declare_war_on = {
					target = SEU
					type = civil_war
				}
				add_civil_war_target = SEU
				SEU = { add_ideas = SPR_spain_civil_war }
			}
		}
		if = {
			limit = { SPC = { is_subject_of = ROOT } }
			annex_country = {
				target = SPC
				transfer_troops = no
			}
			else_if = {
				limit = {
					country_exists = SPC
					NOT = { has_war_with = SPC }
					NOT = { tag = SPC }
				}
				declare_war_on = {
					target = SPC
					type = civil_war
				}
				add_civil_war_target = SPC
				SPC = { add_ideas = SPR_spain_civil_war }
			}
		}
		if = {
			limit = { ANL = { is_subject_of = ROOT } }
			annex_country = {
				target = ANL
				transfer_troops = no
			}
			else_if = {
				limit = {
					country_exists = ANL
					NOT = { has_war_with = ANL }
					NOT = { tag = ANL }
				}
				declare_war_on = {
					target = ANL
					type = civil_war
				}
				add_civil_war_target = ANL
				ANL = { add_ideas = SPR_spain_civil_war }
			}
		}
		if = {
			limit = { ARA = { is_subject_of = ROOT } }
			annex_country = {
				target = ARA
				transfer_troops = no
			}
			else_if = {
				limit = {
					country_exists = ARA
					NOT = { has_war_with = ARA }
					NOT = { tag = ARA }
				}
				declare_war_on = {
					target = ARA
					type = civil_war
				}
				add_civil_war_target = ARA
				ARA = { add_ideas = SPR_spain_civil_war }
			}
		}
		if = {
			limit = { ASU = { is_subject_of = ROOT } }
			annex_country = {
				target = ASU
				transfer_troops = no
			}
			else_if = {
				limit = {
					country_exists = ASU
					NOT = { has_war_with = ASU }
					NOT = { tag = ASU }
				}
				declare_war_on = {
					target = ASU
					type = civil_war
				}
				add_civil_war_target = ASU
				ASU = { add_ideas = SPR_spain_civil_war }
			}
		}
		if = {
			limit = { SNT = { is_subject_of = ROOT } }
			annex_country = {
				target = SNT
				transfer_troops = no
			}
			else_if = {
				limit = {
					country_exists = SNT
					NOT = { has_war_with = SNT }
					NOT = { tag = SNT }
				}
				declare_war_on = {
					target = SNT
					type = civil_war
				}
				add_civil_war_target = SNT
				SNT = { add_ideas = SPR_spain_civil_war }
			}
		}
		if = {
			limit = { CAT = { is_subject_of = ROOT } }
			annex_country = {
				target = CAT
				transfer_troops = no
			}
			else_if = {
				limit = {
					country_exists = CAT
					NOT = { has_war_with = CAT }
					NOT = { tag = CAT }
				}
				declare_war_on = {
					target = CAT
					type = civil_war
				}
				add_civil_war_target = CAT
				CAT = { add_ideas = SPR_spain_civil_war }
			}
		}
		if = {
			limit = { BAS = { is_subject_of = ROOT } }
			annex_country = {
				target = BAS
				transfer_troops = no
			}
			else_if = {
				limit = {
					country_exists = BAS
					NOT = { has_war_with = BAS }
					NOT = { tag = BAS }
				}
				declare_war_on = {
					target = BAS
					type = civil_war
				}
				add_civil_war_target = BAS
				BAS = { add_ideas = SPR_spain_civil_war }
			}
		}
		if = {
			limit = { GLC = { is_subject_of = ROOT } }
			annex_country = {
				target = GLC
				transfer_troops = no
			}
			else_if = {
				limit = {
					country_exists = GLC
					NOT = { has_war_with = GLC }
					NOT = { tag = GLC }
				}
				declare_war_on = {
					target = GLC
					type = civil_war
				}
				add_civil_war_target = GLC
				GLC = { add_ideas = SPR_spain_civil_war }
			}
		}
		if = {
			limit = { VLA = { is_subject_of = ROOT } }
			annex_country = {
				target = VLA
				transfer_troops = no
			}
			else_if = {
				limit = {
					country_exists = VLA
					NOT = { has_war_with = VLA }
					NOT = { tag = VLA }
				}
				declare_war_on = {
					target = VLA
					type = civil_war
				}
				add_civil_war_target = VLA
				VLA = { add_ideas = SPR_spain_civil_war }
			}
		}
	}
}

#Пульсар побед лагерей // правые
country_event = {
	id = NWspain.51
	title = NWspain.51.t
	desc = NWspain.51.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	hidden = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.51" }
	
	option = {
		name = NWspain.51.a
		if = {
			limit = {
				AND = {
					OR = {
						NOT = { country_exists = SPC }
						SPC = { is_subject = yes }
					}
					OR = {
						NOT = { country_exists = ANL }
						ANL = { is_subject = yes }
					}
					OR = {
						NOT = { country_exists = ARA }
						ARA = { is_subject = yes }
					}
				}
			}
			if = {
				limit = { country_exists = CAS }
				if = {
					limit = { country_exists = NAV }
					CAS = {
						diplomatic_relation = {
							country = NAV
							relation = non_aggression_pact
							active = no
						}
					}
					NAV = {
						diplomatic_relation = {
							country = CAS
							relation = non_aggression_pact
							active = no
						}
					}
					CAS = {
						declare_war_on = {
							target = NAV
							type = civil_war
						}
						add_civil_war_target = NAV
					}
				}
			}
			if = {
				limit = { country_exists = NAV }
				if = {
					limit = { country_exists = SEU }
					NAV = {
						diplomatic_relation = {
							country = SEU
							relation = non_aggression_pact
							active = no
						}
					}
					SEU = {
						diplomatic_relation = {
							country = NAV
							relation = non_aggression_pact
							active = no
						}
					}
					NAV = {
						declare_war_on = {
							target = SEU
							type = civil_war
						}
						add_civil_war_target = SEU
					}
				}
			}
			if = {
				limit = { country_exists = SEU }
				if = {
					limit = { country_exists = CAS }
					SEU = {
						diplomatic_relation = {
							country = CAS
							relation = non_aggression_pact
							active = no
						}
					}
					CAS = {
						diplomatic_relation = {
							country = SEU
							relation = non_aggression_pact
							active = no
						}
					}
					SEU = {
						declare_war_on = {
							target = CAS
							type = civil_war
						}
						add_civil_war_target = CAS
					}
				}
			}
			every_other_country = {
				limit = {
					OR = {
						country_exists = VLA
						country_exists = GLC
						country_exists = BAS
						country_exists = CAT
						country_exists = SNT
						country_exists = ASU
					}
				}
				set_temp_variable = { prev_id = PREV.id }
			}
			every_other_country = {
				limit = {
					OR = {
						tag = CAS
						tag = NAV
						tag = SEU
					}
					NOT = { has_war_with = var:prev_id }
				}
				declare_war_on = {
					target = var:prev_id
					type = civil_war
				}
				add_civil_war_target = var:prev_id
			}
		}
	}
}

#Пульсар побед лагерей // левые
country_event = {
	id = NWspain.52
	title = NWspain.52.t
	desc = NWspain.52.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	hidden = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.52" }
	
	option = {
		name = NWspain.52.a
		if = {
			limit = {
				AND = {
					OR = {
						NOT = { country_exists = CAS }
						CAS = { is_subject = yes }
					}
					OR = {
						NOT = { country_exists = NAV }
						NAV = { is_subject = yes }
					}
					OR = {
						NOT = { country_exists = SEU }
						SEU = { is_subject = yes }
					}
				}
			}
			if = {
				limit = { country_exists = SPC }
				if = {
					limit = { country_exists = ANL }
					SPC = {
						declare_war_on = {
							target = ANL
							type = civil_war
						}
						add_civil_war_target = ANL
					}
				}
			}
			if = {
				limit = { country_exists = ANL }
				if = {
					limit = { country_exists = ARA }
					ANL = {
						declare_war_on = {
							target = ARA
							type = civil_war
						}
						add_civil_war_target = ARA
					}
				}
			}
			if = {
				limit = { country_exists = ARA }
				if = {
					limit = { country_exists = SPC }
					ARA = {
						declare_war_on = {
							target = SPC
							type = civil_war
						}
						add_civil_war_target = SPC
					}
				}
			}
			every_other_country = {
				limit = {
					OR = {
						country_exists = VLA
						country_exists = GLC
						country_exists = BAS
						country_exists = CAT
						country_exists = SNT
						country_exists = ASU
					}
				}
				set_temp_variable = { prev_id = PREV.id }
			}
			every_other_country = {
				limit = {
					OR = {
						tag = SPC
						tag = ANL
						tag = ARA
					}
					NOT = { has_war_with = var:prev_id }
				}
				declare_war_on = {
					target = var:prev_id
					type = civil_war
				}
				add_civil_war_target = var:prev_id
			}
		}
	}
}

#Разлет миноров после победы либералов
#ASU
country_event = {
	id = NWspain.53
	title = NWspain.53.t
	desc = NWspain.53.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.53" }
	
	option = {
		name = NWspain.53.a
		ai_chance = {
			factor = 50
		}
		ASU = {
			transfer_state = 790
			ROOT = {
				set_autonomy = {
					target = PREV
					autonomy_state = autonomy_dominion
				}
			}
			hidden_effect = {
				set_popularities = {
					democratic = 43
					communism = 10
					monarchy = 47
				}
				set_politics = {
					ruling_party = democratic
					last_election = "1935.1.1"
					election_frequency = 36
					elections_allowed = yes
				}
			}
		}
		custom_effect_tooltip = f_agressive_level_up_tt
		subtract_from_variable = { f_agressive_level_var = 1 }
		clamp_variable = {
			var = f_agressive_level_var
			min = 1
			max = 3
		}
		add_to_variable = { spain_minor = 1 }
	}
	option = {
		name = NWspain.53.b
		ai_chance = {
			factor = 50
		}
		add_stability = -0.03
		custom_effect_tooltip = sd_agressive_level_up_tt
		subtract_from_variable = { sd_agressive_level_var = 1 }
		clamp_variable = {
			var = sd_agressive_level_var
			min = 1
			max = 3
		}
	}
}

#SNT
country_event = {
	id = NWspain.54
	title = NWspain.54.t
	desc = NWspain.54.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.54" }
	
	option = {
		name = NWspain.54.a
		ai_chance = {
			factor = 50
		}
		SNT = {
			transfer_state = 982
			ROOT = {
				set_autonomy = {
					target = PREV
					autonomy_state = autonomy_dominion
				}
			}
			hidden_effect = {
				set_popularities = {
					democratic = 20
					neutrality = 60
					fascism = 20
				}
				set_politics = {
					ruling_party = neutrality
					elections_allowed = no
				}
			}
		}
		custom_effect_tooltip = f_agressive_level_up_tt
		subtract_from_variable = { f_agressive_level_var = 1 }
		clamp_variable = {
			var = f_agressive_level_var
			min = 1
			max = 3
		}
		add_to_variable = { spain_minor = 1 }
	}
	option = {
		name = NWspain.54.b
		ai_chance = {
			factor = 50
		}
		add_stability = -0.03
		custom_effect_tooltip = sd_agressive_level_up_tt
		subtract_from_variable = { sd_agressive_level_var = 1 }
		clamp_variable = {
			var = sd_agressive_level_var
			min = 1
			max = 3
		}
	}
}

#CAT
country_event = {
	id = NWspain.55
	title = NWspain.55.t
	desc = NWspain.55.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.55" }
	
	option = {
		name = NWspain.55.a
		ai_chance = {
			factor = 50
		}
		CAT = {
			transfer_state = 165
			ROOT = {
				set_autonomy = {
					target = PREV
					autonomy_state = autonomy_dominion
				}
			}
			set_country_flag = catalonia_focus_democrat_flag
			load_focus_tree = catalonia_focus_democrat
			hidden_effect = {
				set_popularities = {
					neutrality = 20
					trozkism = 50
					anarchism = 30
				}
				set_politics = {
					ruling_party = trozkism
					election_frequency = 36
					elections_allowed = yes
				}
			}
		}
		custom_effect_tooltip = f_agressive_level_up_tt
		subtract_from_variable = { f_agressive_level_var = 1 }
		clamp_variable = {
			var = f_agressive_level_var
			min = 1
			max = 3
		}
		add_to_variable = { spain_minor = 1 }
	}
	option = {
		name = NWspain.55.b
		ai_chance = {
			factor = 50
		}
		add_stability = -0.03
		custom_effect_tooltip = sd_agressive_level_up_tt
		subtract_from_variable = { sd_agressive_level_var = 1 }
		clamp_variable = {
			var = sd_agressive_level_var
			min = 1
			max = 3
		}
	}
}

#BAS
country_event = {
	id = NWspain.56
	title = NWspain.56.t
	desc = NWspain.56.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.56" }
	
	option = {
		name = NWspain.56.a
		ai_chance = {
			factor = 50
		}
		BAS = {
			transfer_state = 792
			ROOT = {
				set_autonomy = {
					target = PREV
					autonomy_state = autonomy_dominion
				}
			}
			hidden_effect = {
				set_popularities = {
					democratic = 5
					neutrality = 75
					trozkism = 3
					communism = 15
					anarchism = 2
				}
				set_politics = {
					ruling_party = neutrality
					elections_allowed = no
				}
			}
		}
		custom_effect_tooltip = f_agressive_level_up_tt
		subtract_from_variable = { f_agressive_level_var = 1 }
		clamp_variable = {
			var = f_agressive_level_var
			min = 1
			max = 3
		}
		add_to_variable = { spain_minor = 1 }
	}
	option = {
		name = NWspain.56.b
		ai_chance = {
			factor = 50
		}
		add_stability = -0.03
		custom_effect_tooltip = sd_agressive_level_up_tt
		subtract_from_variable = { sd_agressive_level_var = 1 }
		clamp_variable = {
			var = sd_agressive_level_var
			min = 1
			max = 3
		}
	}
}

#GLC
country_event = {
	id = NWspain.57
	title = NWspain.57.t
	desc = NWspain.57.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.57" }
	
	option = {
		name = NWspain.57.a
		ai_chance = {
			factor = 50
		}
		GLC = {
			transfer_state = 171
			ROOT = {
				set_autonomy = {
					target = PREV
					autonomy_state = autonomy_dominion
				}
			}
			hidden_effect = {
				set_popularities = {
					democratic = 44
					neutrality = 1
					fascism = 44
					communism = 11
				}
				set_politics = {
					ruling_party = fascism
					elections_allowed = no
				}
			}
		}
		custom_effect_tooltip = f_agressive_level_up_tt
		subtract_from_variable = { f_agressive_level_var = 1 }
		clamp_variable = {
			var = f_agressive_level_var
			min = 1
			max = 3
		}
		add_to_variable = { spain_minor = 1 }
	}
	option = {
		name = NWspain.57.b
		ai_chance = {
			factor = 50
		}
		add_stability = -0.03
		custom_effect_tooltip = sd_agressive_level_up_tt
		subtract_from_variable = { sd_agressive_level_var = 1 }
		clamp_variable = {
			var = sd_agressive_level_var
			min = 1
			max = 3
		}
	}
}

#Махач все против всех
country_event = {
	id = NWspain.58
	title = NWspain.58.t
	desc = NWspain.58.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	hidden = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.58" }
	
	option = {
		name = NWspain.58.a
		
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 10000
		}
		if = {
			limit = { NOT = { has_template = "Militia Brigada" } }
			division_template = {
				name = "Militia Brigada"
				is_locked = no
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 0 y = 3 }
				}
			}
		}
		set_stability = 0.5
		set_war_support = 0.5
		
		CAT = {
			transfer_state = 165
			ROOT = {
				set_autonomy = {
					target = PREV
					autonomy_state = autonomy_free
				}
			}
			give_rifles_and_template = yes
			capital_scope = {
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
			}
		}
		BAS = {
			transfer_state = 792
			ROOT = {
				set_autonomy = {
					target = PREV
					autonomy_state = autonomy_free
				}
			}
			give_rifles_and_template = yes
			capital_scope = {
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
			}
		}
		GLC = {
			transfer_state = 171
			ROOT = {
				set_autonomy = {
					target = PREV
					autonomy_state = autonomy_free
				}
			}
			give_rifles_and_template = yes
			capital_scope = {
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
			}
		}
		ASU = {
			transfer_state = 790
			ROOT = {
				set_autonomy = {
					target = PREV
					autonomy_state = autonomy_free
				}
			}
			give_rifles_and_template = yes
			capital_scope = {
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
			}
		}
		SNT = {
			transfer_state = 982
			ROOT = {
				set_autonomy = {
					target = PREV
					autonomy_state = autonomy_free
				}
			}
			give_rifles_and_template = yes
			capital_scope = {
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
			}
		}
		VLA = {
			transfer_state = 167
			set_popularities = {
				democratic = 50
				communism = 15
				neutrality = 20
				anarchism = 15
			}
			set_politics = {
				ruling_party = democratic
				last_election = "1935.1.1"
				election_frequency = 36
				elections_allowed = yes
			}
			ROOT = {
				set_autonomy = {
					target = PREV
					autonomy_state = autonomy_free
				}
			}
			give_rifles_and_template = yes
			capital_scope = {
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
			}
		}
		SPR = {
			capital_scope = {
				spawn_five_divisions = yes
				spawn_five_divisions = yes
			}
			add_threat = -5
		}
		if = {
			limit = { SPR = { has_country_flag = EQG_no_autonomy_flag } }
			EQG = {
				transfer_state = 297
				give_rifles_and_template = yes
				capital_scope = {
					spawn_five_divisions = yes
					spawn_five_divisions = yes
				}
			}
		}
		if = {
			limit = { SPR = { has_country_flag = WES_no_autonomy_flag } }
			WES = {
				transfer_state = 699
				give_rifles_and_template = yes
				capital_scope = {
					spawn_five_divisions = yes
					spawn_five_divisions = yes
				}
			}
		}
		country_event = { id = NWspain.9992 hours = 6 }
		country_event = { id = NWspain.9993 hours = 3 }
	}
}

#VLA
country_event = {
	id = NWspain.59
	title = NWspain.59.t
	desc = NWspain.59.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.59" }
	
	option = {
		name = NWspain.59.a
		ai_chance = {
			factor = 50
		}
		VLA = {
			transfer_state = 167
			set_popularities = {
				democratic = 50
				communism = 15
				neutrality = 20
				anarchism = 15
			}
			set_politics = {
				ruling_party = democratic
				last_election = "1935.1.1"
				election_frequency = 36
				elections_allowed = yes
			}
			ROOT = {
				set_autonomy = {
					target = PREV
					autonomy_state = autonomy_dominion
				}
			}
		}
		custom_effect_tooltip = f_agressive_level_up_tt
		subtract_from_variable = { f_agressive_level_var = 1 }
		clamp_variable = {
			var = f_agressive_level_var
			min = 1
			max = 3
		}
		add_to_variable = { spain_minor = 1 }
		if = {
			limit = { check_variable = { var = spain_minor value = 2 compare = greater_than_or_equals } }
			SPR = {
				if = {
					limit = { NOT = { country_exists = EQG } }
					country_event = { id = NWspain.63 days = 7 }
				}
				if = {
					limit = { NOT = { country_exists = WES } }
					country_event = { id = NWspain.64 days = 9 }
				}
				clear_variable = spain_minor
			}
		}
	}
	option = {
		name = NWspain.59.b
		ai_chance = {
			factor = 50
		}
		add_stability = -0.03
		custom_effect_tooltip = sd_agressive_level_up_tt
		subtract_from_variable = { sd_agressive_level_var = 1 }
		clamp_variable = {
			var = sd_agressive_level_var
			min = 1
			max = 3
		}
		if = {
			limit = { check_variable = { var = spain_minor value = 2 compare = greater_than_or_equals } }
			SPR = {
				country_event = { id = NWspain.63 days = 7 }
				country_event = { id = NWspain.64 days = 9 }
				clear_variable = spain_minor
			}
		}
	}
}

#Народный исполнительный комитет в Валенсии
country_event = {
	id = NWspain.60
	title = NWspain.60.t
	desc = NWspain.60.desc
	picture = GFX_report_event_generic_rally_3
	fire_only_once = yes
	
	trigger = {
		tag = SPR
		SPR = { has_war_with = SPA }
		date > 1936.07.20
		has_global_flag = spanish_civil_war
		NOT = { has_global_flag = scw_over }
		NOT = {
			has_global_flag = THE_MOTHER_OF_ORDER_FLAG
			has_global_flag = WORLD_OF_SPLIT_FLAG
		}
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.60" }
	
	option = {
		name = NWspain.60.a
		release_puppet = VLA
		VLA = { transfer_state = 167 }
		hidden_effect = {
			VLA = {
				add_ideas = SPR_spain_subject_idea
				inherit_technology = SPR
				set_popularities = {
					democratic = 50
					communism = 15
					neutrality = 20
					anarchism = 15
				}
				set_politics = {
					ruling_party = democratic
					last_election = "1935.1.1"
					election_frequency = 36
					elections_allowed = yes
				}
		
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 5000
				}
				division_template = {
					name = "Valencian Brigada"
					is_locked = no
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
					}
				}
				capital_scope = {
					create_unit = {
						division = "name = \"Valencian Brigada\" division_template = \"Valencian Brigada\" start_experience_factor = 0.4" 
						owner = VLA
						count = 2
						allow_spawning_on_enemy_provs = yes
					}
				}
				add_to_war = { targeted_alliance = SPR enemy = SPA hostility_reason = asked_to_join }
			}
		}
	}
}

#Октябрьские события
country_event = {
	id = NWspain.61
	title = NWspain.61.t
	desc = NWspain.61.desc
	picture = GFX_report_event_generic_rally_3
	fire_only_once = yes
	
	trigger = {
		tag = VLA
		date > 1936.10.25
		NOT = {
			has_global_flag = THE_MOTHER_OF_ORDER_FLAG
			has_global_flag = WORLD_OF_SPLIT_FLAG
		}
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.61" }
	
	option = {
		name = NWspain.61.a
		add_stability = -0.1
	}
}

#Роспуск Народного исполнительного комитета Валенсии
country_event = {
	id = NWspain.62
	title = NWspain.62.t
	desc = NWspain.62.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.62" }
	
	option = {
		name = NWspain.62.a
		add_political_power = -30
		VLA = {
			add_autonomy_ratio = {
				value = -1.0
				localization = NWspain.62.t
			}
		}
	}
}

#Экваториальная Гвинея просит автономию
country_event = {
	id = NWspain.63
	title = NWspain.63.t
	desc = NWspain.63.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.63" }
	
	option = {
		name = NWspain.63.a
		ai_chance = {
			factor = 50
		}
		release_puppet = EQG
		custom_effect_tooltip = right_agressive_level_up_tt
		subtract_from_variable = { f_agressive_level_var = 1 }
		subtract_from_variable = { karl_agressive_level_var = 1 }
		subtract_from_variable = { nk_agressive_level_var = 1 }
		clamp_variable = {
			var = f_agressive_level_var
			min = 1
			max = 3
		}
		clamp_variable = {
			var = karl_agressive_level_var
			min = 1
			max = 3
		}
		clamp_variable = {
			var = nk_agressive_level_var
			min = 1
			max = 3
		}
	}
	option = {
		name = NWspain.63.b
		ai_chance = {
			factor = 50
		}
		set_country_flag = EQG_no_autonomy_flag
		custom_effect_tooltip = left_agressive_level_up_tt
		subtract_from_variable = { comm_agressive_level_var = 1 }
		subtract_from_variable = { sd_agressive_level_var = 1 }
		subtract_from_variable = { a_agressive_level_var = 1 }
		clamp_variable = {
			var = comm_agressive_level_var
			min = 1
			max = 3
		}
		clamp_variable = {
			var = sd_agressive_level_var
			min = 1
			max = 3
		}
		clamp_variable = {
			var = a_agressive_level_var
			min = 1
			max = 3
		}
	}
}

#Западная Сахара просит автономию
country_event = {
	id = NWspain.64
	title = NWspain.64.t
	desc = NWspain.64.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.64" }
	
	option = {
		name = NWspain.64.a
		ai_chance = {
			factor = 50
		}
		release_puppet = WES
		custom_effect_tooltip = right_agressive_level_up_tt
		subtract_from_variable = { f_agressive_level_var = 1 }
		subtract_from_variable = { karl_agressive_level_var = 1 }
		subtract_from_variable = { nk_agressive_level_var = 1 }
		clamp_variable = {
			var = f_agressive_level_var
			min = 1
			max = 3
		}
		clamp_variable = {
			var = karl_agressive_level_var
			min = 1
			max = 3
		}
		clamp_variable = {
			var = nk_agressive_level_var
			min = 1
			max = 3
		}
	}
	option = {
		name = NWspain.64.b
		ai_chance = {
			factor = 50
		}
		set_country_flag = WES_no_autonomy_flag
		custom_effect_tooltip = left_agressive_level_up_tt
		subtract_from_variable = { comm_agressive_level_var = 1 }
		subtract_from_variable = { sd_agressive_level_var = 1 }
		subtract_from_variable = { a_agressive_level_var = 1 }
		clamp_variable = {
			var = comm_agressive_level_var
			min = 1
			max = 3
		}
		clamp_variable = {
			var = sd_agressive_level_var
			min = 1
			max = 3
		}
		clamp_variable = {
			var = a_agressive_level_var
			min = 1
			max = 3
		}
	}
}

#Анархическая Испания предлагает соединиться // ARA и CAT
country_event = {
	id = NWspain.65
	title = NWspain.65.t
	desc = NWspain.65.desc
	picture = GFX_report_event_communist_leader
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.65" }
	
	option = {
		name = NWspain.65.a
		ai_chance = {
			factor = 90
		}
		if = {
			limit = {
				ROOT = { is_ai = no }
				FROM = { is_ai = yes }
			}
			FROM = { change_tag_from = ROOT }
		}
		if = {
			limit = { is_faction_leader = yes }
			FROM = { set_faction_leader = yes }
		}
		every_state = {
			limit = {
				is_core_of = ROOT
			}
			add_core_of = FROM
		}
		ROOT = {
			random_unit_leader = {
				set_nationality = FROM
			}
		}
		FROM = {
			annex_country = {
				target = ROOT
				transfer_troops = yes
			}
		}
	}
	
	option = {
		name = NWspain.65.b
		ai_chance = {
			factor = 10
		}
		FROM = {
			create_wargoal = {
				type = annex_everything
				target = ROOT
				expire = 0
			}
		}
	}
}

#Формирование колонны Дурути
country_event = {
	id = NWspain.66
	title = NWspain.66.t
	desc = NWspain.66.desc
	picture = GFX_report_event_communist_leader
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.66" }
	
	option = {
		name = NWspain.66.a
		ai_chance = {
			factor = 50
		}
		create_corps_commander = {
			name = "Buenaventura Durruti"
			id = 4712
			gfx = "GFX_portrait_SPR_buenaventura_durruti"
			traits = { commando trait_SPR_anarchist_loyalties }
			skill = 2
			attack_skill = 2
			defense_skill = 2
			planning_skill = 2
			logistics_skill = 2
		}
		add_manpower = 2500
	}
	
	option = {
		name = NWspain.66.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		create_field_marshal = {
			name = "Buenaventura Durruti"
			id = 4712
			gfx = "GFX_portrait_SPR_buenaventura_durruti"
			traits = { infantry_officer offensive_doctrine aggressive_assaulter trait_SPR_anarchist_loyalties }
			skill = 3
			attack_skill = 3
		    defense_skill = 3
		    planning_skill = 2
		    logistics_skill = 2
		}
		create_corps_commander = {
			name = "Eduardo Medrano Rivas"
			id = 4738
			gfx = "GFX_portrait_SPR_eduardo_medrano_rivas"
			traits = { infantry_leader trait_SPR_anarchist_loyalties }
			skill = 3
		    attack_skill = 3
		    defense_skill = 2
		    planning_skill = 2
		    logistics_skill = 3
		}
		create_corps_commander = {
			name = "Lina Ódena"
			id = 4739
			gfx = "GFX_portrait_SPR_lina_odena"
			traits = { adaptable trait_SPR_stalinist_loyalties }
			female = yes
			skill = 2
		    attack_skill = 2
		    defense_skill = 2
		    planning_skill = 2
		    logistics_skill = 1
		}
		capital_scope = {
			create_unit = {
				division = "name = \"Durruti's Columna\" division_template = \"Brigada Internacionales\" start_experience_factor = 0.5" 
				owner = ROOT
			}
		}
		add_popularity = { ideology = anarchism popularity = 0.04 }
		add_popularity = { ideology = communism popularity = 0.02 }
	}
}

#Убийство Дуррути
country_event = {
	id = NWspain.67
	title = NWspain.67.t
	desc = NWspain.67.desc
	picture = GFX_report_event_generic_rally_3
	fire_only_once = yes
	
	trigger = {
		tag = SPR
		has_completed_focus = SPR_victory_popular_front
		date > 1936.11.19
		NOT = {
			has_global_flag = THE_MOTHER_OF_ORDER_FLAG
			has_global_flag = WORLD_OF_SPLIT_FLAG
		}
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.67" }
	
	option = {
		ai_chance = {
			factor = 25
		}
		name = NWspain.67.a
		remove_unit_leader = 4712
	}
	
	option = {
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 0
				has_government = communism
			}
		}
		name = NWspain.67.b
		remove_unit_leader = 4712
		add_popularity = { ideology = communism popularity = -0.03 }
		add_political_power = -30
	}
	
	option = {
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 0
				has_government = trozkism
			}
		}
		name = NWspain.67.c
		remove_unit_leader = 4712
		add_popularity = { ideology = trozkism popularity = -0.03 }
		add_political_power = -30
	}
}

#Устав автономии Страны Басков // SPR при ГВ
country_event = {
	id = NWspain.68
	title = NWspain.68.t
	desc = NWspain.68.desc
	picture = GFX_report_event_generic_rally_3
	fire_only_once = yes
	
	trigger = {
		tag = SPR
		date > 1936.10.1
		SPR = { has_war_with = SPA }
		NOT = { country_exists = BAS }
		NOT = {
			has_global_flag = THE_MOTHER_OF_ORDER_FLAG
			has_global_flag = WORLD_OF_SPLIT_FLAG
		}
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.68" }
	
	option = {
		name = NWspain.68.a
		ai_chance = {
			factor = 70
		}
		release_puppet = BAS
		remove_ideas = SPR_basks_nationalism
		BAS = {
			transfer_state = 792
			inherit_technology = SPR
		}
		hidden_effect = {
			BAS = {
				add_ideas = SPR_spain_subject_idea
				load_focus_tree = bascov_focus
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 5000
				}
				set_popularities = {
					democratic = 33
					fascism = 0
					communism = 0
					monarchy = 32
					neutrality = 35
				}
				set_politics = {	
					ruling_party = neutrality
					last_election = "1935.1.1"
					election_frequency = 36
					elections_allowed = yes
				}
				division_template = {
					name = "Euzko Gudarosteko Eskuadroia"
					priority = 1
					is_locked = no
					division_names_group = SPD_INF_05
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
					}
				}
				random_owned_state = {
					create_unit = {
						division = "name = \"Euzko Gudarosteko Eskuadroia\" division_template = \"Euzko Gudarosteko Eskuadroia\" start_experience_factor = 0.4" 
						owner = BAS
						count = 4
						allow_spawning_on_enemy_provs = yes
					}
				}
				transfer_ship = {
			        prefer_name = "ARE José Luis Díez"
			        type = destroyer
			        target = BAS
			    }
				add_to_war = { targeted_alliance = SPR enemy = SPA hostility_reason = asked_to_join }
			}
		}
	}
	
	option = {
		name = NWspain.68.b
		ai_chance = {
			factor = 30
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		add_stability = -0.1
	}
}

#Выборы председателя ИСРП
country_event = {
	id = NWspain.69
	title = NWspain.69.t
	desc = NWspain.69.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.69" }
	
	option = {
		name = NWspain.69.a
		ai_chance = {
			factor = 50
		}
		if = {
			limit = {
				NOT = { has_country_leader = { character = SPR_francisco_largo_caballero ruling_only = yes } }
			}
			add_country_leader_role = {
				character = SPR_francisco_largo_caballero
				country_leader = {
					desc = "POLITICS_LARGO_CABALLERO_DESC"
					ideology = socialism
					traits = {
						socialist_trait
						short_sighted_politician
						trade_union_leader
						spanish_lenin
					}
					expire = "1965.1.1"
				}
				promote_leader = yes
			}
		}
		else = {
			effect_tooltip = {
				add_country_leader_role = {
					character = SPR_francisco_largo_caballero
					country_leader = {
						desc = "POLITICS_LARGO_CABALLERO_DESC"
						ideology = socialism
						traits = {
							socialist_trait
							short_sighted_politician
							trade_union_leader
							spanish_lenin
						}
						expire = "1965.1.1"
					}
					promote_leader = yes
				}
			}
			hidden_effect = {
				add_country_leader_trait = spanish_lenin
			}
		}
	}
	
	option = {
		name = NWspain.69.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		add_country_leader_role = {
			character = SPR_indalecio_prieto
			country_leader = {
				desc = "POLITICS_INDALECIO_PRIETO_TUERO_DESC"
				ideology = democratic_socialism
				traits = {
					socialist_trait
					voice_of_restraint
					journalist
					liberal_socialist
				}
				expire = "1965.1.1"
			}
			promote_leader = yes
		}
		custom_effect_tooltip = SPR_end_fascism_at_all_costs_block_tt
	}
}

#Выборы председателя ПОУМ
country_event = {
	id = NWspain.70
	title = NWspain.70.t
	desc = NWspain.70.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.70" }
	
	option = {
		name = NWspain.70.a
		ai_chance = {
			factor = 50
		}
		set_temp_variable = { temp1 = party_popularity@communism }
		add_popularity = {
			ideology = trozkism
			popularity = temp1
		}
		multiply_temp_variable = { temp1 = -1 }
		add_popularity = {
			ideology = communism
			popularity = temp1
		}
		if = {
			limit = { NOT = { has_government = trozkism } }
			set_politics = {
				ruling_party = trozkism
				elections_allowed = yes
			}
		}
		remove_country_leader_role = { character = SPR_andres_nin_perez		ideology = right_wing_communism }
		add_country_leader_role = {
			character = SPR_andres_nin_perez
			country_leader = {
				desc = "POLITICS_ANDRES_NIN_PEREZ_DESC"
				ideology = communism_workers_soviets
				traits = {
				}
				expire = "1965.1.1"
			}
			promote_leader = yes
		}
		effect_tooltip = {
			unlock_national_focus = SPR_left_slope
		}
	}
	option = {
		name = NWspain.70.b
		ai_chance = {
			factor = 50
		}
		if = {
			limit = { NOT = { has_government = communism } }
			set_politics = {
				ruling_party = communism
				elections_allowed = yes
			}
		}
		create_country_leader = {
			name = "Joaquim Maurín"
			desc = "POLITICS_JOAQUIM_MAURIN_DESC"
			picture = "gfx/leaders/SPR/Joaquim_Maurin.dds"
			expire = "1965.1.1"
			ideology = right_wing_communism
			traits = {
			}
		}
		effect_tooltip = {
			unlock_national_focus = SPR_right_slope
		}
	}
	option = {
		name = NWspain.70.c
		ai_chance = {
			factor = 50
		}
		if = {
			limit = { NOT = { has_government = communism } }
			set_politics = {
				ruling_party = communism
				elections_allowed = yes
			}
		}
		create_country_leader = {
			name = "Julián Gorkin"
			desc = "POLITICS_JULIAN_GORKIN_DESC"
			picture = "GFX_portrait_SPR_julian_gorkin"
			expire = "1965.1.1"
			ideology = right_wing_communism
			traits = {
			}
		}
		effect_tooltip = {
			unlock_national_focus = SPR_united_under_socialism
		}
	}
}

#Объединение в 3½ интернационал?
country_event = {
	id = NWspain.71
	title = NWspain.71.t
	desc = NWspain.71.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.71" }
	
	option = {
		name = NWspain.71.a
		ai_chance = {
			factor = 1
		}
		ENG = { country_event = { id = NWspain.72 hours = 6 } }
	}
	option = {
		name = NWspain.71.b
		ai_chance = {
			factor = 0
		}
		if = {
			limit = { is_faction_leader = yes }
			set_faction_name = three_half_international
		}
		else = {
			create_faction = three_half_international
		}
		hidden_effect = { news_event = { id = lar_news.21 hours = 6 } }
		every_other_country = {
			limit = {
				has_government = communism
				is_in_faction = no
				NOT = {
					capital_scope = {
						is_on_continent = asia
					}
				}
			}
			country_event = { id = generic.5 hours = 6 random_hours = 6 }
		}
	}
}

#Объединение в 3½ интернационал? // ENG
country_event = {
	id = NWspain.72
	title = NWspain.71.t
	desc = NWspain.72.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.72" }
	
	option = {
		name = NWspain.72.a
		ai_chance = {
			factor = 90
		}
		hidden_effect = {
			add_ai_strategy = {
				type = alliance
				id = FROM
				value = 200
			}
			add_ai_strategy = {
				type = protect
				id = FROM
				value = 200
			}
			FROM = {
				add_ai_strategy = {
					type = alliance
					id = ROOT
					value = 200
				}
				add_ai_strategy = {
					type = protect
					id = ROOT
					value = 200
				}
			}
		}
		set_faction_name = three_half_international
		add_to_faction = FROM
		hidden_effect = { news_event = { id = trworldnews.143 hours = 6 } }
		every_other_country = {
			limit = {
				has_government = communism
				is_in_faction = no
				NOT = {
					capital_scope = {
						is_on_continent = asia
					}
				}
			}
			country_event = { id = generic.5 hours = 6 random_hours = 6 }
		}
	}
	option = {
		name = NWspain.72.b
		ai_chance = {
			factor = 10
		}
		add_ai_strategy = {
			type = alliance
			id = FROM
			value = -400
		}
        add_ai_strategy = {
			type = befriend
			id = FROM
			value = -200
		}
        add_ai_strategy = {
			type = protect
			id = FROM
			value = -200
		}
		FROM = { country_event = { id = NWspain.73 hours = 6 } }
	}
}

#[From.GetName]: отказ 
country_event = {
	id = NWspain.73
	title = NWspain.73.t
	desc = NWspain.73.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.73" }
	
	option = {
		name = NWspain.72.a
		ai_chance = {
			factor = 10
		}
		add_ai_strategy = {
			type = alliance
			id = FROM
			value = -400
		}
        add_ai_strategy = {
			type = befriend
			id = FROM
			value = -200
		}
        add_ai_strategy = {
			type = protect
			id = FROM
			value = -200
		}
		create_faction = three_half_international
		hidden_effect = { news_event = { id = lar_news.21 hours = 6 } }
		every_other_country = {
			limit = {
				has_government = communism
				is_in_faction = no
				NOT = {
					capital_scope = {
						is_on_continent = asia
					}
				}
			}
			country_event = { id = generic.5 hours = 6 random_hours = 6 }
		}
	}
}

#Левый уклон
country_event = {
	id = NWspain.74
	title = NWspain.74.t
	desc = NWspain.74.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.74" }
	
	option = {
		name = NWspain.74.a
		ai_chance = {
			factor = 50
		}
		custom_effect_tooltip = NWspain_74a_tt
		custom_effect_tooltip = NWspain_74a_tt2
		set_country_flag = NWspain_74a_flag
	}
	option = {
		name = NWspain.74.b
		ai_chance = {
			factor = 50
		}
	}
}

#Приглашение в Социнтерн // социалисты
country_event = {
	id = NWspain.75
	title = NWspain.75.t
	desc = NWspain.75.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.75" }
	immediate = {
		hidden_effect = {
			save_event_target_as = alliance_applicant
			FROM = {
				save_event_target_as = alliance_inviter
			}
		}
	}
	
	option = {
		name = NWspain.75.a
		ai_chance = {
			factor = 90
			modifier = {
				factor = 0
				has_country_leader = { ruling_only = yes name = "Richard Nikolaus Coudenhove-Kalergi" }
				OR = {
					num_subjects > 2
					is_faction_leader = yes
					num_of_controlled_states > 30
					num_of_factories > 150
				}
			}
		}
		hidden_effect = {
			add_ai_strategy = {
				type = alliance
				id = FROM
				value = 200
			}
			add_ai_strategy = {
				type = protect
				id = FROM
				value = 200
			}
			FROM = {
				add_ai_strategy = {
					type = alliance
					id = ROOT
					value = 200
				}
				add_ai_strategy = {
					type = protect
					id = ROOT
					value = 200
				}
			}
		}
		FROM = { 
			add_to_faction = ROOT
			country_event = { id = generic.6 hours = 6 } 
		}
		hidden_effect = {
			set_country_flag = alliance_applicant@ROOT
			FROM = { set_country_flag = alliance_inviter@ROOT }
			news_event = { id = news.289 hours = 12 }
			if = {
				limit = {
					FROM = {
						original_tag = GER
						has_government = democratic
						has_completed_focus = GER_pool_technical_know_how
					}
					NOT = { has_idea = GER_pool_technical_know_how }
				}
				add_ideas = GER_pool_technical_know_how
			}
		}
	}
	option = {
		name = NWspain.75.b
		ai_chance = {
			factor = 10
		}
		FROM = { country_event = { id = generic.7 hours = 6 } }
	}
}


########################
####  NATIONALISTS  ####
########################


#Смерть Хосе Санхурхо
country_event = {
	id = NWspain.101
	title = NWspain.101.t
	desc = NWspain.101.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.101" }
	
	option = {
		name = NWspain.101.a
		add_stability = -0.03
		if = {
			limit = {
				has_country_leader = { character = SPA_jose_sanjurjo }
			}
			retire_character = SPA_jose_sanjurjo
		}
		add_country_leader_role = {
			character = SPA_emilio_mola
			country_leader = {
				desc = "POLITICS_EMILIO_MOLA_DESC"
				ideology = despotism
				traits = {
					the_director
				}
				expire = "1965.1.1"
			}
			promote_leader = yes
		}
		set_country_flag = SPA_focus_junta_block_flag
	}
}

#Пульсар смерти Эмилио Молы
country_event = {
	id = NWspain.1002
	title = NWspain.1002.t
	desc = NWspain.1002.desc
	picture = GFX_report_event_generic_rally_3
	fire_only_once = yes
	hidden = yes
	
	trigger = {
		tag = SPA
		date > 1937.06.01
		has_country_flag = SPA_emilio_mola_kill_flag
		NOT = {
			has_global_flag = THE_MOTHER_OF_ORDER_FLAG
			has_global_flag = WORLD_OF_SPLIT_FLAG
		}
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.1002" }
	
	option = {
		name = NWspain.1002.a
		country_event = { id = NWspain.102 days = 75 random_days = 30 }
	}
}

#Смерть Эмилио Молы
country_event = {
	id = NWspain.102
	title = NWspain.102.t
	desc = NWspain.102.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.102" }
	
	option = {
		name = NWspain.102.a
		add_stability = -0.03
		if = {
			limit = {
				has_country_leader = { character = SPA_emilio_mola }
			}
			retire_character = SPA_emilio_mola
		}
	}
}

#Смерть Примо де Риверы
#country_event = {
#	id = NWspain.103
#	title = NWspain.103.t
#	desc = NWspain.103.desc
#	picture = GFX_report_event_generic_rally_3
#	fire_only_once = yes
#	
#	trigger = {
#		tag = SPA
#		date > 1936.11.18
#		NOT = { has_completed_focus = SPA_edilas_presidency }
#		NOT = {
#			has_global_flag = THE_MOTHER_OF_ORDER_FLAG
#			has_global_flag = WORLD_OF_SPLIT_FLAG
#		}
#	}
#	
#	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.103" }
#	immediate = { set_country_flag = SPA_edilas_presidency_flag }
#	
#	option = {
#		name = NWspain.103.a
#		add_war_support = 0.02
#		random_unit_leader = {
#			limit = {
#				has_id = 4700
#			}
#			retire = yes
#		}
#		if = {
#			limit = {
#				has_country_leader = { name = "José Antonio Primo de Rivera" }
#			}
#			kill_country_leader = yes
#		}
#		if = {
#			limit = { SPA = { NOT = { has_completed_focus = SPA_unify_the_nationalist_front } } }
#			create_country_leader = {
#				name = "Manuel Hedilla"
#				desc = "POLITICS_MANUEL_HEDILLA_DESC"
#				picture = "gfx/leaders/SPR/Portrait_Manuel_Hedilla.dds"
#				expire = "1965.1.1"
#				ideology = falangism
#				traits = {
#				    falangist_syndicalist
#				}
#			}
#			effect_tooltip = {
#				unlock_national_focus = SPA_edilas_presidency
#			}
#		}
#		
#		hidden_effect = {
#			SPR = {
#				random_unit_leader = {
#					limit = {
#						has_id = 4700
#					}
#					retire = yes
#				}
#				if = {
#					limit = {
#						has_country_leader = { name = "José Antonio Primo de Rivera" }
#					}
#					kill_country_leader = yes
#				}
#				create_country_leader = {
#					name = "Manuel Hedilla"
#					desc = "POLITICS_MANUEL_HEDILLA_DESC"
#					picture = "gfx/leaders/SPR/Portrait_Manuel_Hedilla.dds"
#					expire = "1965.1.1"
#					ideology = falangism
#					traits = {
#					    falangist_syndicalist
#					}
#				}
#			}
#		}
#	}
#}

#Хуан Барселонский хочет принять участие в войне
country_event = {
	id = NWspain.104
	title = NWspain.104.t
	desc = NWspain.104.desc
	picture = GFX_report_event_king_speech
	fire_only_once = yes
	
	mean_time_to_happen = { days = 45 }
	
	trigger = {
		tag = SPA
		has_global_flag = spanish_civil_war
		NOT = { has_global_flag = scw_over }
		NOT = {
			has_global_flag = THE_MOTHER_OF_ORDER_FLAG
			has_global_flag = WORLD_OF_SPLIT_FLAG
		}
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.104" }
	
	option = {
		name = NWspain.104.a
		ai_chance = {
			factor = 50
		}
		set_country_flag = no_huan_flag
	}
	
	option = {
		name = NWspain.104.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		add_war_support = 0.02
		add_manpower = 10000
		add_popularity = {
			ideology = monarchy
			popularity = 0.05
		}
	}
}

#Смерть Альфонсо XIII
#country_event = {
#	id = NWspain.105
#	title = NWspain.105.t
#	desc = NWspain.105.desc
#	picture = GFX_report_event_king_speech
#	fire_only_once = yes
#	
#	mean_time_to_happen = { days = 45 }
#	
#	trigger = {
#		tag = SPA
#		date > 1941.02.26
#		has_country_flag = SPA_alfonso_kill_flag
#		NOT = {
#			has_global_flag = THE_MOTHER_OF_ORDER_FLAG
#			has_global_flag = WORLD_OF_SPLIT_FLAG
#		}
#	}
#	
#	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.105" }
#	
#	option = {
#		name = NWspain.105.a
#		add_political_power = -20
#		if = {
#			limit = {
#				has_country_leader = { name = "Alfonso XIII" }
#			}
#			kill_country_leader = yes
#		}
#		create_country_leader = {
#			name = "Juan III"
#			desc = "POLITICS_JUAN_III_DESC"
#			picture = "gfx/leaders/SPR/Portrait_Juan_III.dds"
#			expire = "1965.1.1"
#			ideology = dual_monarchy
#			traits = {
#				democratic_sympathies
#				the_legitimist
#			}
#		}
#	}
#}

#Испанцы просят о благословении на войну с безбожниками // Ватикан
country_event = {
	id = NWspain.106
	title = NWspain.106.t
	desc = NWspain.106.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.106" }
	
	option = {
		name = NWspain.106.a
		ai_chance = {
			factor = 85
		}
		VAT = { country_event = { id = NWspain.107 days = 1 } }
	}
	
	option = {
		name = NWspain.106.b
		ai_chance = {
			factor = 15
		}
		add_opinion_modifier = { target = FROM modifier = diplomatic_affront }
		FROM = { add_opinion_modifier = { target = ROOT modifier = diplomatic_affront } }
	}
}

#Папа Римский благословил нас на борьбу // ответ
country_event = {
	id = NWspain.107
	title = NWspain.107.t
	desc = NWspain.107.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.107" }
	
	option = {
		name = NWspain.107.a
		add_ideas = SPA_bless_pope
	}
}

#Противоречия среди монархистов
#country_event = {
#	id = NWspain.108
#	title = NWspain.108.t
#	desc = NWspain.108.desc
#	picture = GFX_report_event_generic_rally_3
#	is_triggered_only = yes
#	
#	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.108" }
#	
#	option = {
#		name = NWspain.108.a
#		trigger = {
#			has_country_flag = no_huan_flag
#		}
#		complete_national_focus = SPA_invite_alfonso_XIII
#	}
#	
#	option = {
#		name = NWspain.108.b
#		trigger = {
#			NOT = { has_country_flag = no_huan_flag }
#		}
#		complete_national_focus = SPA_invite_javier_parma
#	}
#}

#Мольбы испанских националистов о помощи // начало
country_event = {
	id = NWspain.109
	title = NWspain.109.t
	desc = NWspain.109.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.109" }
	
	option = {
		name = NWspain.109.a
		ai_chance = {
			factor = 50
		}
		add_to_war = {
			targeted_alliance = FROM
			enemy = SPR
		}
		add_ai_strategy = {
			type = antagonize
			id = "SPR"
			value = 500
		}
		add_ai_strategy = {
			type = conquer
			id = "SPR"
			value = 500
		}
		if = {
			limit = { FROM = { has_war_with = ARA } }
			add_to_war = {
				targeted_alliance = FROM
				enemy = ARA
			}
			add_ai_strategy = {
				type = antagonize
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ARA"
				value = 500
			}
		}
		hidden_effect = {
			if = {
				limit = { NOT = { event_target:NW_france_scope = { is_in_faction_with = ROOT } } }
				event_target:NW_france_scope = { country_event = { id = NWspain.112 days = 1 } }
			}
			if = {
				limit = { NOT = { ENG = { is_in_faction_with = ROOT } } }
				ENG = { country_event = { id = NWspain.112 days = 2 } }
			}
			if = {
				limit = { NOT = { SOV = { is_in_faction_with = ROOT } } }
				SOV = { country_event = { id = NWspain.112 days = 3 } }
			}
		}
	}
	
	option = {
		name = NWspain.109.b
		ai_chance = {
			factor = 50
		}
		FROM = { country_event = { id = NWspain.121 days = 1 } }
	}
	
	option = {
		name = NWspain.109.c
		ai_chance = {
			factor = 50
		}
		add_opinion_modifier = { target = FROM modifier = diplomatic_affront }
		FROM = { add_opinion_modifier = { target = ROOT modifier = diplomatic_affront } }
	}
}

#Испания хочет вступить в Ось // GFA
country_event = {
	id = NWspain.110
	title = NWspain.110.t
	desc = NWspain.110.desc
	picture = GFX_report_event_spa_event_110
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.110" }
	
	option = {
		name = NWspain.110.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 5
				is_historical_focus_on = no
				ROOT = {
					any_enemy_country = {
						has_war_with = FROM
					}
				}
				FROM = {
					any_enemy_country = {
						has_war_with = ROOT
					}
				}
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		add_ai_strategy = {
			type = alliance
			id = FROM
			value = 200
		}
		FROM = {
			add_ai_strategy = {
				type = alliance
				id = ROOT
				value = 200
			}
			if = {
				limit = { has_idea = SPA_recovering_from_civil_war }
				remove_ideas = SPA_recovering_from_civil_war
			}
		}
		GFA = { add_to_faction = FROM }
	}
	
	option = {
		name = NWspain.110.b
		ai_chance = {
			factor = 75
			modifier = {
				factor = 2
				is_historical_focus_on = no
				ROOT = {
					any_enemy_country = {
						has_war_with = FROM
					}
				}
				FROM = {
					any_enemy_country = {
						has_war_with = ROOT
					}
				}
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		FROM = { country_event = { id = NWspain.111 days = 1 } }
	}
	
	option = {
		name = NWspain.110.c
		ai_chance = {
			factor = 15
			modifier = {
				factor = 5
				FROM = { has_war = yes }
			}
		}
		add_opinion_modifier = { target = FROM modifier = diplomatic_affront }
		add_ai_strategy = {
			type = alliance
			id = FROM
			value = -900
		}
		FROM = {
			add_ai_strategy = {
				type = alliance
				id = ROOT
				value = -900
			}
			add_opinion_modifier = { target = ROOT modifier = diplomatic_affront }
		}
	}
}

#Германия требует не выдвигать претензии на Камерун // SPA
country_event = {
	id = NWspain.111
	title = NWspain.111.t
	desc = NWspain.111.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.111" }
	
	option = {
		name = NWspain.111.a
		ai_chance = {
			factor = 85
		}
		add_ai_strategy = {
			type = alliance
			id = FROM
			value = 200
		}
		FROM = {
			add_ai_strategy = {
				type = alliance
				id = ROOT
				value = 200
			}
			add_to_faction = ROOT
		}
		if = {
			limit = { has_idea = SPA_recovering_from_civil_war }
			remove_ideas = SPA_recovering_from_civil_war
		}
		set_country_flag = SPA_not_claims_camerun
	}
	
	option = {
		name = NWspain.111.b
		ai_chance = {
			factor = 15
		}
		add_opinion_modifier = { target = FROM modifier = diplomatic_affront }
		add_ai_strategy = {
			type = alliance
			id = FROM
			value = 200
		}
		FROM = {
			add_ai_strategy = {
				type = alliance
				id = ROOT
				value = 200
			}
			add_opinion_modifier = { target = ROOT modifier = diplomatic_affront }
		}
	}
	
}

#Италия проводит агрессивную политику // event_target:NW_france_scope/ENG/SOV
country_event = {
	id = NWspain.112
	title = NWspain.112.t
	desc = NWspain.112.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.112" }
	
	option = {
		name = NWspain.112.a
		ai_chance = {
			factor = 90
		}
		set_country_flag = anti_italy_flag
		if = {
			limit = {
				tag = SOV
				event_target:NW_france_scope = { has_country_flag = anti_italy_flag }
				ENG = { has_country_flag = anti_italy_flag }
			}
			SOV = { country_event = { id = NWspain.113 days = 1 } }
		}
	}
	
	option = {
		name = NWspain.112.b
		ai_chance = {
			factor = 10
		}
	}
}

#Миротворческая интервенция в Италию // SOV
country_event = {
	id = NWspain.113
	title = NWspain.113.t
	desc = NWspain.113.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.113" }
	immediate = { clr_country_flag = anti_italy_flag }
	
	option = {
		name = NWspain.113.a
		ai_chance = {
			factor = 90
		}
		event_target:NW_france_scope = { country_event = { id = NWspain.114 days = 1 } }
		ENG = { country_event = { id = NWspain.114 days = 2 } }
		if = {
			limit = {
				GER = {
					NOT = { is_in_faction_with = event_target:NW_france_scope }
					NOT = { is_in_faction_with = ENG }
					NOT = { is_in_faction_with = SOV }
				}
			}
			GER = { country_event = { id = NWspain.117 } }
		}
		hidden_effect = {
			ITA = { country_event = { id = NWspain.115 days = 5 } }
		}
	}
	
	option = {
		name = NWspain.113.b
		ai_chance = {
			factor = 10
		}
	}
}

#Советский Союз призывает к интервенции в Италию // event_target:NW_france_scope/ENG
country_event = {
	id = NWspain.114
	title = NWspain.114.t
	desc = NWspain.114.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.114" }
	immediate = { clr_country_flag = anti_italy_flag }
	
	option = {
		name = NWspain.114.a
		ai_chance = {
			factor = 90
		}
		set_country_flag = war_with_italy_flag
	}
	
	option = {
		name = NWspain.114.b
		ai_chance = {
			factor = 10
		}
	}
}

#Лига Наций требует прекратить вмешательство в дела Испании // ITA
country_event = {
	id = NWspain.115
	title = NWspain.115.t
	desc = NWspain.115.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.115" }
	immediate = { clr_country_flag = anti_italy_flag }
	
	option = {
		name = NWspain.115.a
		ai_chance = {
			factor = 80
		}
		add_stability = -0.1
		every_country = {
			limit = {
				has_war_with = ITA
				OR = {
					tag = SPR
					tag = ARA
					tag = CAT
					tag = BAS
					tag = GLC
					tag = ASU
					tag = SNT
				}
			}
			ITA = { white_peace = PREV }
			add_threat = -1
		}
		if = {
			limit = { SPA = { is_in_faction_with = ITA } }
			SPA = { leave_faction = yes }
		}
		SPA = { country_event = { id = NWspain.116 } }
		hidden_effect = {
			diplomatic_relation = {
				country = SPA
				relation = guarantee
				active = no
			}
			SPA = {
				diplomatic_relation = {
					country = ROOT
					relation = guarantee
					active = no
				}
			}
			every_country = {
				limit = { has_country_flag = war_with_italy_flag }
				clr_country_flag = war_with_italy_flag
			}
		}
	}
	
	option = {
		name = NWspain.115.b
		ai_chance = {
			factor = 20
		}
		every_country = {
			limit = {
				OR = {
					tag = SOV
					has_country_flag = war_with_italy_flag
				}
			}
			declare_war_on = {
				target = ITA
				type = topple_government
			}
		}
		hidden_effect = {
			every_country = {
				limit = { has_country_flag = war_with_italy_flag }
				clr_country_flag = war_with_italy_flag
			}
		}
	}
}

#Италия вынуждена прекратить нашу поддержку // SPA
country_event = {
	id = NWspain.116
	title = NWspain.116.t
	desc = NWspain.116.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.116" }
	
	option = {
		name = NWspain.116.a
	}
}

#Угроза вторжения в Италию // GER
country_event = {
	id = NWspain.117
	title = NWspain.117.t
	desc = NWspain.117.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.117" }
	immediate = { clr_country_flag = anti_italy_flag }
	
	option = {
		name = NWspain.117.a
		ai_chance = {
			factor = 50
		}
		diplomatic_relation = {
			country = ITA
			relation = guarantee
			active = yes
		}
	}
	
	option = {
		name = NWspain.117.b
		ai_chance = {
			factor = 5
		}
	}
	
	option = {
		name = NWspain.117.c
		ai_chance = {
			factor = 15
		}
		trigger = {
			GER = {
				has_full_control_of_state = 153
				has_full_control_of_state = 841
			}
			ITA = {
				has_full_control_of_state = 39
				has_full_control_of_state = 846
				has_full_control_of_state = 736
				has_full_control_of_state = 824
				has_full_control_of_state = 823
			}
		}
		ITA = { country_event = { id = NWspain.118 days = 1 } }
		GER = { set_country_flag = flag_var_c }
	}
	
	option = {
		name = NWspain.117.d
		ai_chance = {
			factor = 30
		}
		trigger = {
			GER = {
				has_full_control_of_state = 153
				has_full_control_of_state = 841
			}
			ITA = {
				has_full_control_of_state = 39
				has_full_control_of_state = 846
			}
		}
		ITA = { country_event = { id = NWspain.118 days = 1 } }
		GER = { set_country_flag = flag_var_d }
	}
}

#Германия предлагает свою поддержку // ITA
country_event = {
	id = NWspain.118
	title = NWspain.118.t
	desc = NWspain.118.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.118" }
	
	option = {
		name = NWspain.118.a
		ai_chance = {
			factor = 50
		}
		if = {
			limit = { GER = { has_country_flag = flag_var_c } }
			GER = {
				transfer_state = 39
				transfer_state = 846
				transfer_state = 736
				transfer_state = 824
				transfer_state = 823
				clr_country_flag = flag_var_c
			}
			every_state = {
				limit = {
					OR = {
						state = 39
						state = 846
						state = 736
						state = 824
						state = 823
					}
				}
				remove_core_of = ITA
				add_core_of = GER
			}
		}
		if = {
			limit = { GER = { has_country_flag = flag_var_d } }
			GER = {
				transfer_state = 39
				transfer_state = 846
				clr_country_flag = flag_var_d
			}
			every_state = {
				limit = {
					OR = {
						state = 39
						state = 846
					}
				}
				remove_core_of = ITA
				add_core_of = GER
			}
		}
		GER = { country_event = { id = NWspain.119 days = 1 } }
	}
	
	option = {
		name = NWspain.118.b
		ai_chance = {
			factor = 50
		}
		GER = { country_event = { id = NWspain.120 days = 1 } }
	}
}

#Гарантия итальянской независимости // GER
country_event = {
	id = NWspain.119
	title = NWspain.119.t
	desc = NWspain.119.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.119" }
	
	option = {
		name = NWspain.119.a
		ai_chance = {
			factor = 80
		}
		if = {
			limit = { GER = { is_faction_leader = yes } }
			add_to_faction = ITA
		}
		else = {
			diplomatic_relation = {
				country = ITA
				relation = guarantee
				active = yes
			}
		}
	}
	
	option = {
		name = NWspain.119.b
		ai_chance = {
			factor = 20
		}
		ITA = {
			create_wargoal = {
				type = annex_everything
				target = GER
				expire = 0
			}
		}
	}
}

#Итальянский отказ // GER
country_event = {
	id = NWspain.120
	title = NWspain.120.t
	desc = NWspain.120.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.120" }
	
	option = {
		name = NWspain.120.a
	}
}

#Италия выдвигает свои требования // SPA
country_event = {
	id = NWspain.121
	title = NWspain.121.t
	desc = NWspain.121.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.121" }
	
	option = {
		name = NWspain.121.a
		ai_chance = {
			factor = 20
		}
		ITA = { country_event = { id = NWspain.122 days = 1 } }
	}
	
	option = {
		name = NWspain.121.b
		ai_chance = {
			factor = 80
		}
		ITA = {
			add_to_war = {
				targeted_alliance = ROOT
				enemy = SPR
			}
		}
		add_ideas = SPA_italy_debt
		
		hidden_effect = {
			if = {
				limit = { NOT = { event_target:NW_france_scope = { is_in_faction_with = ROOT } } }
				event_target:NW_france_scope = { country_event = { id = NWspain.112 days = 1 } }
			}
			if = {
				limit = { NOT = { ENG = { is_in_faction_with = ROOT } } }
				ENG = { country_event = { id = NWspain.112 days = 2 } }
			}
			if = {
				limit = { NOT = { SOV = { is_in_faction_with = ROOT } } }
				SOV = { country_event = { id = NWspain.112 days = 3 } }
			}
		}
	}
}

#Испанский отказ // ITA
country_event = {
	id = NWspain.122
	title = NWspain.122.t
	desc = NWspain.122.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.122" }
	
	option = {
		name = NWspain.122.a
	}
}

#Италия пришла вернуть свои дивиденды // SPA
country_event = {
	id = NWspain.123
	title = NWspain.123.t
	desc = NWspain.123.desc
	picture = GFX_report_event_generic_rally_3
	fire_only_once = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.123" }
	
	trigger = {
		tag = SPA
		country_exists = ITA
		has_idea = SPA_italy_debt
		has_global_flag = scw_over
		NOT = {
			has_global_flag = THE_MOTHER_OF_ORDER_FLAG
			has_global_flag = WORLD_OF_SPLIT_FLAG
		}
	}
	
	option = {
		name = NWspain.123.a
		ai_chance = {
			factor = 80
		}
		ITA = {
			set_autonomy = {
				target = ROOT
				autonomy_state = autonomy_dominion
			}
		}
	}
	
	option = {
		name = NWspain.123.a
		ai_chance = {
			factor = 20
		}
		ITA = { country_event = { id = NWspain.124 days = 1 } }
	}
}

#Испания отказывает нашему покровительству // ITA
country_event = {
	id = NWspain.124
	title = NWspain.124.t
	desc = NWspain.124.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.124" }
	
	option = {
		name = NWspain.124.a
		ai_chance = {
			factor = 95
		}
		create_wargoal = {
			type = puppet_wargoal_focus
			target = FROM
			expire = 0
		}
	}
	
	option = {
		name = NWspain.124.b
		ai_chance = {
			factor = 5
		}
	}
}




##################
####  ARAGON  ####
##################

#(From.GetAdjective) анархисты взбунтовались // SPR
country_event = {
	id = NWspain.201
	title = NWspain.201.t
	desc = NWspain.201.desc
	picture = GFX_report_event_crowd_in_prague
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.201" }
	
	option = {
		name = NWspain.201.a
		ai_chance = {
			factor = 50
		}
		declare_war_on = {
			target = FROM
			type = civil_war
		}
		add_civil_war_target = FROM
		add_ai_strategy = {
			type = antagonize
			id = FROM
			value = 500
		}
		add_ai_strategy = {
			type = conquer
			id = FROM
			value = 500
		}
	}
	
	option = {
		name = NWspain.201.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				num_of_controlled_states > 12
				has_war_with = SPA
			}
		}
		add_stability = 0.05
	}
}

#Арагон призывает нас вступить на путь борьбы с капитализмом // Каталония
country_event = {
	id = NWspain.202
	title = NWspain.202.t
	desc = NWspain.202.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.202" }
	
	option = {
		name = NWspain.202.a
		ai_chance = {
			factor = 90
		}
		if = {
			limit = { is_subject = yes }
			OVERLORD = {
				set_autonomy = {
					target = ROOT
					autonomy_state = autonomy_free
				}
			}
		}
		ARA = {
			set_rule = { can_create_factions = yes }
			create_faction = ARA_union_anarchists_iberia
			add_to_faction = ROOT
		}
	}
	
	option = {
		name = NWspain.202.b
		ai_chance = {
			factor = 10
		}
		add_opinion_modifier = { target = FROM modifier = diplomatic_affront }
		FROM = { add_opinion_modifier = { target = ROOT modifier = diplomatic_affront } }
	}
}

#Democrat
#(From.GetName) объявляет о независимости // SPR
country_event = {
	id = NWspain.203
	title = NWspain.203.t
	desc = NWspain.203.desc
	picture = GFX_report_event_communist_leader
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.203" }
	
	option = {
		name = NWspain.203.a
		ai_chance = {
			factor = 50
		}
		declare_war_on = {
			target = FROM
			type = civil_war
		}
		add_civil_war_target = FROM
	}
	
	option = {
		name = NWspain.203.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				num_of_controlled_states > 12
				has_war_with = SPA
			}
		}
		add_stability = 0.05
	}
}

#Арагон предлагает заключить союз // CAT
country_event = {
	id = NWspain.204
	title = NWspain.204.t
	desc = NWspain.204.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.204" }
	
	option = {
		name = NWspain.204.a
		ai_chance = {
			factor = 90
		}
		diplomatic_relation = {
			country = FROM
			relation = guarantee
			active = yes
		}
		FROM = {
			diplomatic_relation = {
				country = ROOT
				relation = guarantee
				active = yes
			}
		}
		FROM = { add_to_tech_sharing_group = ARA_cat_ara_group }
		ROOT = { add_to_tech_sharing_group = ARA_cat_ara_group }
		
		if = {
			limit = {
				OR = {
					is_subject = yes
					is_puppet = yes
				}
			}
			OVERLORD = {
				set_autonomy = {
					target = ROOT
					autonomy_state = autonomy_free
				}
			}
		}
	}
	
	option = {
		name = NWspain.204.b
		ai_chance = {
			factor = 10
		}
		add_opinion_modifier = { target = FROM modifier = diplomatic_affront }
		FROM = { add_opinion_modifier = { target = ROOT modifier = diplomatic_affront } }
	}
}

#Арагон призывает к независимости // BAS + GLC + ASU + SNT
country_event = {
	id = NWspain.205
	title = NWspain.205.t
	desc = NWspain.205.desc
	picture = GFX_report_event_communist_leader
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.205" }
	
	option = {
		name = NWspain.205.a
		ai_chance = {
			factor = 90
			modifier = {
				factor = 0
				has_government = communism
			}
		}
		if = {
			limit = {
				has_war_with = FROM
			}
			white_peace = FROM
			add_threat = -1
		}
		if = {
			limit = {
				OR = {
					is_subject = yes
					is_puppet = yes
				}
			}
			OVERLORD = {
				set_autonomy = {
					target = ROOT
					autonomy_state = autonomy_free
				}
			}
		}
		diplomatic_relation = {
			country = FROM
			relation = guarantee
			active = yes
		}
		FROM = {
			diplomatic_relation = {
				country = ROOT
				relation = guarantee
				active = yes
			}
			add_to_faction = ROOT
				add_ai_strategy = {
				type = alliance
				id = ROOT
				value = 200
			}
		}
		add_ai_strategy = {
			type = alliance
			id = FROM
			value = 200
		}
	}
	
	option = {
		name = NWspain.205.b
		ai_chance = {
			factor = 10
		}
		add_opinion_modifier = { target = FROM modifier = diplomatic_affront }
		FROM = { add_opinion_modifier = { target = ROOT modifier = diplomatic_affront } }
	}
}

#Арагон предлагает мирный договор // решение ARA
country_event = {
	id = NWspain.206
	title = NWspain.206.t
	desc = NWspain.206.desc
	picture = GFX_report_event_communist_leader
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.206" }
	
	option = {
		name = NWspain.206.a
		ai_chance = {
			factor = 10
		}
		white_peace = ARA
		add_war_support = -0.02
		166 = {
			remove_core_of = SPA
			remove_claim_by = SPA
		}
		add_threat = -1
	}
	
	option = {
		name = NWspain.206.b
		ai_chance = {
			factor = 90
			modifier = {
				factor = 0
				ARA = { has_full_control_of_state = 166 }
				SPA = { has_war_with = SPR }
				SPA = { surrender_progress < 0.5 }
			}
		}
	}
}

#Арагон предлагает мирный договор // решение ARA
country_event = {
	id = NWspain.207
	title = NWspain.207.t
	desc = NWspain.207.desc
	picture = GFX_report_event_communist_leader
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.207" }
	
	option = {
		name = NWspain.207.a
		ai_chance = {
			factor = 10
		}
	}
	
	option = {
		name = NWspain.207.b
		ai_chance = {
			factor = 90
		}
		set_rule = { can_create_factions = yes }
		create_faction = ARA_iwa
		add_to_faction = FROM
		hidden_effect = {
			add_ai_strategy = {
				type = alliance
				id = FROM
				value = 200
			}
			FROM = {
				add_ai_strategy = {
					type = alliance
					id = ROOT
					value = 200
				}
			}
		}
	}
}



#Catalonia
#Перестрелка между анархистами и коммунистами
country_event = {
	id = NWspain.301
	title = NWspain.301.t
	desc = NWspain.301.desc
	picture = GFX_report_event_cat_may_events
	fire_only_once = yes
	
	trigger = {
		tag = CAT
		date > 1937.05.01
		NOT = {
			has_global_flag = THE_MOTHER_OF_ORDER_FLAG
			has_global_flag = WORLD_OF_SPLIT_FLAG
		}
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.301" }
	
	option = {
		name = NWspain.301.a
		add_stability = -0.03
		hidden_effect = {
			country_event = { id = NWspain.306 days = 4 }
			complete_national_focus = CAT_may_events
			if = {
				limit = {
					country_exists = ARA
					ARA = { has_government = democratic }
				}
				country_event = { id = NWspain.302 days = 1 }
			}
		}
	}
}

#Арагонская поддержка // CAT
country_event = {
	id = NWspain.302
	title = NWspain.302.t
	desc = NWspain.302.desc
	picture = GFX_report_event_ger_civil_war
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.302" }
	
	option = {
		name = NWspain.302.a
		ai_chance = {
			factor = 75
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		add_political_power = -10
		ARA = { country_event = { id = NWspain.303 days = 1 } }
	}
	
	option = {
		name = NWspain.302.b
		ai_chance = {
			factor = 25
		}
	}
}

#Каталония просит разрешить политический кризис // ARA
country_event = {
	id = NWspain.303
	title = NWspain.303.t
	desc = NWspain.303.desc
	picture = GFX_report_event_ger_civil_war
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.303" }
	
	option = {
		name = NWspain.303.a
		ai_chance = {
			factor = 90
		}
		add_manpower = -3000
		hidden_effect = {
			FROM = { country_event = { id = NWspain.304 days = 1 } }
		}
	}
	
	option = {
		name = NWspain.303.b
		ai_chance = {
			factor = 10
		}
		add_opinion_modifier = { target = FROM modifier = diplomatic_affront }
		FROM = { add_opinion_modifier = { target = ROOT modifier = diplomatic_affront } }
		hidden_effect = {
			FROM = { country_event = { id = NWspain.305 days = 1 } }
		}
	}
}

#Арагон согласился помочь
country_event = {
	id = NWspain.304
	title = NWspain.304.t
	desc = NWspain.304.desc
	picture = GFX_report_event_ger_civil_war
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.304" }
	
	option = {
		name = NWspain.304.a
		set_country_flag = ara_help_cat_flag
	}
}

#Арагон отказался помочь
country_event = {
	id = NWspain.305
	title = NWspain.305.t
	desc = NWspain.305.desc
	picture = GFX_report_event_ger_civil_war
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.305" }
	
	option = {
		name = NWspain.305.a
	}
}

#Завершение боёв на улицах Барселоны
country_event = {
	id = NWspain.306
	title = NWspain.306.t
	desc = NWspain.306.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.306" }
	
	#Победа КПИ
	option = {
		name = NWspain.306.a
		trigger = {
			NOT = { has_completed_focus = CAT_federation_anarchists_iberia }
			has_completed_focus = CAT_creation_centralized_army
			check_variable = { var = communist_score value = anarchist_score compare = greater_than_or_equals }
			NOT = { has_country_flag = ara_help_cat_flag }
		}
		complete_national_focus = CAT_winning_kpi
	}
	
	#Победа НКТ
	option = {
		name = NWspain.306.b
		trigger = {
			has_completed_focus = CAT_federation_anarchists_iberia
			NOT = { has_country_flag = ara_help_cat_flag }
		}
		complete_national_focus = CAT_winning_iwa
	}
	
	#Победа ПОУМ
	option = {
		name = NWspain.306.c
		trigger = {
			NOT = {
				has_completed_focus = CAT_federation_anarchists_iberia
				has_completed_focus = CAT_creation_centralized_army
				has_country_flag = ara_help_cat_flag
			}
		}
		complete_national_focus = CAT_winning_poum
	}
	
	#Победа Женераритета
	option = {
		name = NWspain.306.d
		trigger = {
			OR = {
				AND = {
					NOT = { has_completed_focus = CAT_federation_anarchists_iberia }
					has_completed_focus = CAT_creation_centralized_army
					check_variable = { var = communist_score value = anarchist_score compare = less_than }
				}
				has_country_flag = ara_help_cat_flag
			}
		}
		complete_national_focus = CAT_save_power_jeneralitet
	}
}

#Каталония предлагает мирный договор // решение CAT
country_event = {
	id = NWspain.307
	title = NWspain.307.t
	desc = NWspain.307.desc
	picture = GFX_report_event_communist_leader
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.307" }
	
	option = {
		name = NWspain.307.a
		ai_chance = {
			factor = 10
		}
		white_peace = CAT
		add_war_support = -0.02
		165 = {
			remove_core_of = SPA
			remove_claim_by = SPA
		}
		add_threat = -1
	}
	
	option = {
		name = NWspain.307.b
		ai_chance = {
			factor = 90
			modifier = {
				factor = 0
				CAT = { has_full_control_of_state = 165 }
				SPA = { has_war_with = SPR }
				SPA = { surrender_progress < 0.5 }
			}
		}
	}
}


#Астурия и Сантадор
#Падение Сантадера
country_event = {
	id = NWspain.401
	title = NWspain.401.t
	desc = NWspain.401.desc
	picture = GFX_report_event_ger_civil_war
	fire_only_once = yes
	
	trigger = {
		tag = ASU
		SNT = { has_capitulated = yes }
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.401" }
	
	option = {
		name = NWspain.401.a
		add_autonomy_ratio = { value = 1.0 }
		set_cosmetic_tag = ASU_sovereign
	}
}

#Падение Астурии
country_event = {
	id = NWspain.402
	title = NWspain.402.t
	desc = NWspain.402.desc
	picture = GFX_report_event_ger_civil_war
	fire_only_once = yes
	
	trigger = {
		tag = SNT
		ASU = { has_capitulated = yes }
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.402" }
	
	option = {
		name = NWspain.402.a
		add_autonomy_ratio = { value = 1.0 }
		set_cosmetic_tag = SNT_sovereign
	}
}

















### VANILA ###

# Spanish Civil War - Carlists rise up
country_event = {
	id = lar_spain.7
	title = lar_spain.7.t
	desc = {
		text = lar_spain.7.desc
		trigger = {
			NOT = { has_global_flag = scw_early_end }
		}
	}
	desc = {
		text = lar_spain.7.desc_2
		trigger = {
			has_global_flag = scw_early_end
		}
	}
	picture = GFX_report_event_spr_carlists
	
	fire_only_once = yes

	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.7" }
	immediate = {
		hidden_effect = {
			create_dynamic_country = {
				original_tag = ROOT
				copy_tag = ROOT
				
				set_country_flag = SPR_carlist_spain_flag
				set_cosmetic_tag = SPR_carlist_spain
				set_research_slots = 3
		
				set_politics = {
					ruling_party = monarchy
				}
				set_popularities = {
					democratic = 13
					monarchy = 82
					fascism = 5
				}
				
				add_ideas = {
					SPA_carlism_1
				}
				
				load_focus_tree = {
					tree = national_spain_focus
					keep_completed = no
				}
				complete_national_focus = SPA_create_coordinating_junta
				complete_national_focus = SPA_supremacy_of_the_communion
				complete_national_focus = SPA_prepare_the_carlist_insurrection
				complete_national_focus = SPA_contact_the_union_militar_espanola
				complete_national_focus = SPA_head_the_junta_nacional
				complete_national_focus = SPA_unite_the_requetes
				unlock_national_focus = SPA_no_compromise_on_carlist_ideals
				add_timed_idea = { idea = SPA_death_before_surrender days = 900 }
			}
			if = { # If SPA owns both of the historical Carlist states
				limit = {
					controls_state = 172
					controls_state = 176
				}
				every_state = {
					limit = {
						OR = {
							state = 172
							state = 176
						}
						is_controlled_by = ROOT
					}
					SPB = {
						transfer_state = PREV
					}
				}
				if = {
					limit = {
						num_of_controlled_states > 10
						controls_state = 791
					}
					SPB = {
						transfer_state = 791
					}
				}
				if = {
					limit = {
						num_of_controlled_states > 11
						controls_state = 174
					}
					SPB = {
						transfer_state = 174
					}
				}
				if = {
					limit = {
						num_of_controlled_states > 13
						controls_state = 171
					}
					SPB = {
						transfer_state = 171
					}
				}
				if = {
					limit = {
						num_of_controlled_states > 14
						has_global_flag = scw_early_end
					}
					random_owned_state = {
						limit = {
							any_neighbor_state = {
								OR = {
									state = 171
									state = 172
									state = 174
									state = 176
									state = 791
								}
							}
							has_state_flag = SPR_core_of_spain_flag
							is_controlled_by = ROOT
							is_capital = no
						}
						SPB = {
							transfer_state = PREV
						}
					}
					random_owned_state = {
						limit = {
							any_neighbor_state = {
								OR = {
									state = 171
									state = 172
									state = 174
									state = 176
									state = 791
								}
							}
							has_state_flag = SPR_core_of_spain_flag
							is_controlled_by = ROOT
							is_capital = no
						}
						SPB = {
							transfer_state = PREV
						}
					}
				}
			}
			else_if = { # Fallback if not owning one of the historically Carlist states
				limit = {
					OR = {
						AND = {
							controls_state = 172
							NOT = { controls_state = 176 }
						}
						AND = {
							controls_state = 176
							NOT = { controls_state = 172 }
						}
					}
				}
				every_state = {
					limit = {
						OR = {
							state = 172
							state = 176
						}
						is_controlled_by = ROOT
					}
					SPB = {
						transfer_state = PREV
					}
				}
			}
			else_if = { # Fallback if not owning one of the historically Carlist states
				limit = {
					OR = {
						AND = {
							controls_state = 172
							NOT = { controls_state = 176 }
						}
						AND = {
							controls_state = 176
							NOT = { controls_state = 172 }
						}
					}
				}
				every_state = {
					limit = {
						OR = {
							state = 172
							state = 176
						}
						is_controlled_by = ROOT
					}
					SPB = {
						transfer_state = PREV
					}
				}
				if = {
					limit = {
						num_of_controlled_states > 5
						OR = {
							controls_state = 171
							controls_state = 174
							controls_state = 791
						}
					}
					random_state = {
						limit = {
							OR = {
								state = 171
								state = 174
								state = 791
							}
							has_state_flag = SPR_core_of_spain_flag
							is_controlled_by = ROOT
							is_capital = no
						}
						SPB = {
							transfer_state = PREV
						}
					}
				}
				else = {
					random_state = {
						limit = {
							NOT = { state = 178 }
							NOT = { state = 177 }
							has_state_flag = SPR_core_of_spain_flag
							is_controlled_by = ROOT
							is_capital = no
						}
						SPB = {
							transfer_state = PREV
						}
					}
				}
			}
			else_if = { # You're not getting out of a civil war by voluntarily giving up the targetable locations, pal!
				limit = {
					NOT = {
						controls_state = 172
						controls_state = 176
					}
					OR = {
						controls_state = 171
						controls_state = 174
						controls_state = 791
					}
				}
				random_state = {
					limit = {
						OR = {
							state = 171
							state = 174
							state = 791
						}
						has_state_flag = SPR_core_of_spain_flag
						is_controlled_by = ROOT
						is_capital = no
					}
					SPB = {
						transfer_state = PREV
					}
				}
				if = {
					limit = {
						num_of_controlled_states > 5
						OR = {
							controls_state = 171
							controls_state = 174
							controls_state = 791
						}
					}
					random_state = {
						limit = {
							OR = {
								state = 171
								state = 174
								state = 791
							}
							has_state_flag = SPR_core_of_spain_flag
							is_controlled_by = ROOT
							is_capital = no
						}
						SPB = {
							transfer_state = PREV
						}
					}
				}
				else = {
					random_state = {
						limit = {
							NOT = { state = 178 }
							NOT = { state = 177 }
							has_state_flag = SPR_core_of_spain_flag
							is_controlled_by = ROOT
							is_capital = no
						}
						SPB = {
							transfer_state = PREV
						}
					}
				}
			}
			else_if = { # You're not getting out of a civil war by voluntarily giving up the targetable locations, pal!
				limit = {
					NOT = {
						controls_state = 172
						controls_state = 176
						controls_state = 171
						controls_state = 174
						controls_state = 791
					}
				}
				random_state = {
					limit = {
						NOT = { state = 178 }
						NOT = { state = 177 }
						has_state_flag = SPR_core_of_spain_flag
						is_controlled_by = ROOT
						is_capital = no
					}
					SPB = {
						transfer_state = PREV
					}
				}
				if = {
					limit = {
						num_of_controlled_states > 5
					}
					random_state = {
						limit = {
							NOT = { state = 178 }
							NOT = { state = 177 }
							has_state_flag = SPR_core_of_spain_flag
							is_controlled_by = ROOT
							is_capital = no
						}
						SPB = {
							transfer_state = PREV
						}
					}
				}
			}
			else = {
				random_state = {
					limit = {
						has_state_flag = SPR_core_of_spain_flag
						is_controlled_by = ROOT
						is_capital = no
					}
					SPB = {
						transfer_state = PREV
					}
				}
			}
			SPB = {
				random_owned_state = {
					limit = {
						is_controlled_by = SPB
						is_core_of = SPB
						NOT = {
							state = 177
							state = 178
						}
					}
					SPB = { set_capital = { state = PREV } }
				}
				inherit_technology = SPA
				set_stability = 0.6
				set_war_support = 0.5
				division_template = {
					name = "Requeté Carlista"
					template_counter = 8
					priority = 1
					division_names_group = SPR_INF_03
					is_locked = yes
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
					}
				}
				set_division_template_lock = {
				    division_template = "Requeté Carlista"
				    is_locked = no
				}
				every_owned_state = {
					create_unit = {
						division = "division_template = \"Requeté Carlista\" start_experience_factor = 0.3" 
						owner = SPB
					}
					create_unit = {
						division = "division_template = \"Requeté Carlista\" start_experience_factor = 0.3" 
						owner = SPB
					}
					create_unit = {
						division = "division_template = \"Requeté Carlista\" start_experience_factor = 0.3" 
						owner = SPB
					}
					create_unit = {
						division = "division_template = \"Requeté Carlista\" start_experience_factor = 0.3" 
						owner = SPB
					}
				}
				if = {
					limit = {
						NOT = {
							owns_state = 791
							owns_state = 174
							owns_state = 171
						}
					}
					every_owned_state = {
						create_unit = {
							division = "division_template = \"Requeté Carlista\" start_experience_factor = 0.3" 
							owner = SPB
						}
						create_unit = {
							division = "division_template = \"Requeté Carlista\" start_experience_factor = 0.3" 
							owner = SPB
						}
					}
				}
				if = {
					limit = {
						owns_state = 172
					}
					set_capital = { state = 172 }
				}
				else = {
					random_owned_state = {
						SPB = {
							set_capital = { state = PREV }
						}
					}
				}
			}
			add_popularity = {
			    ideology = monarchy
			    popularity = -0.15
			}
			add_stability = -0.1
			delete_unit_template_and_units = {
				division_template = "Requeté Carlista"
			}
			transfer_units_fraction = {
				target = SPB
				stockpile_ratio = 0.2
				army_ratio = 0.1
				navy_ratio = 0.1
				air_ratio = 0.1
				keep_unit_leaders = {
				    
				}
				keep_unit_leaders_trigger = {
					has_trait = trait_SPA_falangist_loyalties
				}
			}
			every_unit_leader = {
				limit = {
					has_trait = trait_SPA_carlist_loyalties
				}
				remove_unit_leader_trait = trait_SPA_carlist_loyalties
				set_nationality = {
					character = THIS
					target_country = SPB
				}
			}
			every_unit_leader = {
				limit = {
					has_trait = trait_SPA_falangist_loyalties
				}
				remove_unit_leader_trait = trait_SPA_falangist_loyalties
			}
			every_unit_leader = {
				limit = {
					has_trait = trait_SPA_nationalist_sympathies
				}
				remove_unit_leader_trait = trait_SPA_nationalist_sympathies
			}
			set_global_flag = SPR_carlist_uprising_flag
			set_global_flag = { flag = SPR_civil_war_startup value = 1 days = 3 } # Make AI avoid attacking for a few days
			SPB = {
				every_unit_leader = {
					limit = {
						has_trait = trait_SPA_nationalist_sympathies
					}
					remove_unit_leader_trait = trait_SPA_nationalist_sympathies
					set_nationality = {
						character = THIS
						target_country = ROOT
					}
				}
				every_unit_leader = {
					limit = {
						has_trait = trait_SPA_falangist_loyalties
					}
					remove_unit_leader_trait = trait_SPA_falangist_loyalties
					set_nationality = {
						character = THIS
						target_country = ROOT
					}
				}
				every_unit_leader = {
					limit = {
						has_trait = trait_SPA_carlist_loyalties
					}
					remove_unit_leader_trait = trait_SPA_carlist_loyalties
				}
				declare_war_on = {
				    target = ROOT
				    type = civil_war
				}
				add_civil_war_target = ROOT
				add_ai_strategy = {
					type = antagonize
					id = SPA
					value = 200
				}
				declare_war_on = {
				    target = SPD
				    type = civil_war
				}
				add_civil_war_target = SPD

				add_ai_strategy = {
					type = antagonize
					id = SPD
					value = 200
				}
				if = {
					limit = {
						country_exists = ARA
						NOT = { has_war_with = ARA }
					}
					declare_war_on = {
					    target = ARA
					    type = civil_war
					}
					add_civil_war_target = ARA

					add_ai_strategy = {
						type = antagonize
						id = ARA
						value = 200
					}
				}
				if = {
					limit = {
						country_exists = CAT
						NOT = { has_war_with = CAT }
					}
					declare_war_on = {
					    target = CAT
					    type = civil_war
					}
					add_civil_war_target = CAT

					add_ai_strategy = {
						type = antagonize
						id = CAT
						value = 200
					}
				}
				every_other_country = {
					limit = {
						OR = {
							has_character = SPA_luis_hernando_de_larramendi
							has_character = SPA_martin_de_riquer
							has_character = SPA_mauricio_de_sivatte
							has_character = SPA_tomas_dominguez_arevalo
							
							has_character = SPA_jose_enrique_varela
							has_character = SPA_ricardo_rada
							has_character = SPA_rafael_garcia_valino
							has_character = SPA_heli_rolando_de_tella
						}
					}
					if = {
						limit = { has_character = SPA_luis_hernando_de_larramendi }
						SPA_luis_hernando_de_larramendi = {
							set_nationality = SPB
						}
					}
					if = {
						limit = { has_character = SPA_martin_de_riquer }
						SPA_martin_de_riquer = {
							set_nationality = SPB
						}
					}
					if = {
						limit = { has_character = SPA_mauricio_de_sivatte }
						SPA_mauricio_de_sivatte = {
							set_nationality = SPB
						}
					}
					if = {
						limit = { has_character = SPA_tomas_dominguez_arevalo }
						SPA_tomas_dominguez_arevalo = {
							set_nationality = SPB
						}
					}
					if = {
						limit = { has_character = SPA_jose_enrique_varela }
						SPA_jose_enrique_varela = {
							set_nationality = SPB
						}
					}
					if = {
						limit = { has_character = SPA_ricardo_rada }
						SPA_ricardo_rada = {
							set_nationality = SPB
						}
					}
					if = {
						limit = { has_character = SPA_rafael_garcia_valino }
						SPA_rafael_garcia_valino = {
							set_nationality = SPB
						}
					}
					if = {
						limit = { has_character = SPA_heli_rolando_de_tella }
						SPA_heli_rolando_de_tella = {
							set_nationality = SPB
						}
					}
				}
			}
			every_other_country = {
				limit = { is_subject_of = SPR }
				add_to_war = { targeted_alliance = SPR enemy = SPB hostility_reason = asked_to_join }
			}
			every_other_country = {
				add_ai_strategy = {
					type = support
					id = SPB
					value = -200
				}
				add_ai_strategy = {
					type = protect
					id = SPB
					value = -200
				}
				add_ai_strategy = {
					type = befriend
					id = SPB
					value = -200
				}
				add_ai_strategy = {
					type = alliance
					id = SPB
					value = -200
				}
			}

			if = {
				limit = {
					has_idea = SPA_carlism_1
				}
				remove_ideas = SPA_carlism_1
			}
			if = {
				limit = {
					has_idea = SPA_carlism_2
				}
				remove_ideas = SPA_carlism_2
			}
			if = {
				limit = {
					has_idea = SPA_carlism_3
				}
				remove_ideas = SPA_carlism_3
			}
			if = {
				limit = {
					has_idea = SPA_carlism_4
				}
				remove_ideas = SPA_carlism_4
			}
			if = {
				limit = {
					has_idea = SPA_carlism_5
				}
				remove_ideas = SPA_carlism_5
			}

			## SPA triggers Carlist Uprising ##
			# If any country has already joined SCW, it will join the war against SPB as well
			if = { #Country supporting SPD
				limit = {
					any_country = { has_country_flag = supports_SPD_flag }
				}
				every_country = {
					limit = { has_country_flag = supports_SPD_flag }
					add_to_war = { targeted_alliance = SPD enemy = SPB hostility_reason = asked_to_join }
				}
				if = {
					limit = {
						any_country = { has_country_flag = POR_non_aligned_portugal_supports_SPA_flag }
					}
					random_country = { #Portuguese Non-aligned tag (spawned via Workers of Iberia, Unite! focus) will join war
						limit = {
							has_country_flag = POR_non_aligned_portugal_supports_SPA_flag
						}
						add_to_war = { targeted_alliance = SPA enemy = SPB hostility_reason = asked_to_join }
					}
				}
			}
			if = { #Country supporting SPA
				limit = {
					any_country = { has_country_flag = supports_SPA_flag }
				}
				every_country = {
					limit = { has_country_flag = supports_SPA_flag }
					add_to_war = { targeted_alliance = SPA enemy = SPB hostility_reason = asked_to_join }
				}
			}
			every_state = {
				limit = {
					has_state_flag = SPR_core_of_spain_flag
				}
				add_core_of = SPB
			}
			news_event = { id = lar_news.10 days = 1 }
		}
	}
	
	option = {
		name = lar_spain.7.a
		effect_tooltip = {
			add_popularity = {
			    ideology = monarchy
			    popularity = -0.15
			}
			add_stability = -0.1
			delete_unit_template_and_units = {
				division_template = "Requeté Carlista"
			}
			transfer_units_fraction = {
				target = SPB
				stockpile_ratio = 0.2
				army_ratio = 0.1
				navy_ratio = 0.1
				air_ratio = 0.1
				keep_unit_leaders = {
				    
				}
				keep_unit_leaders_trigger = {
					has_trait = trait_SPA_falangist_loyalties
				}
			}
			every_unit_leader = {
				limit = {
					has_trait = trait_SPA_carlist_loyalties
				}
				remove_unit_leader_trait = trait_SPA_carlist_loyalties
				set_nationality = {
					character = THIS
					target_country = SPB
				}
			}
			every_unit_leader = {
				limit = {
					has_trait = trait_SPA_falangist_loyalties
				}
				remove_unit_leader_trait = trait_SPA_falangist_loyalties
			}
			SPB = {
				declare_war_on = {
				    target = ROOT
				    type = civil_war
				}
				add_civil_war_target = ROOT
				declare_war_on = {
				    target = SPD
				    type = civil_war
				}
				add_civil_war_target = SPD
				if = {
					limit = {
						country_exists = ARA
						NOT = { has_war_with = ARA }
					}
					declare_war_on = {
					    target = ARA
					    type = civil_war
					}
					add_civil_war_target = ARA
				}
				if = {
					limit = {
						country_exists = CAT
						NOT = { has_war_with = CAT }
					}
					declare_war_on = {
					    target = CAT
					    type = civil_war
					}
					add_civil_war_target = CAT
				}
			}
			every_other_country = {
				limit = { is_subject_of = SPR }
				add_to_war = { targeted_alliance = SPR enemy = SPB hostility_reason = asked_to_join }
			}
		}
	}
}



# Spanish Civil War - Fascist Anti-Carlist Crack-down
country_event = {
	id = lar_spain.8
	title = lar_spain.8.t
	desc = {
		text = lar_spain.8.desc
		trigger = {
			NOT = { has_global_flag = scw_early_end }
		}
	}
	desc = {
		text = lar_spain.8.desc_2
		trigger = {
			has_global_flag = scw_early_end
		}
	}
	picture = GFX_report_event_spr_nationalist_soldiers
	
	fire_only_once = yes

	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.8" }
	immediate = {
		hidden_effect = {
			create_dynamic_country = {
				original_tag = ROOT
				copy_tag = ROOT
				
				set_country_flag = SPR_nationalist_spain_flag
				set_cosmetic_tag = SPR_nationalist_spain
				set_research_slots = 3
		
				set_politics = {
					ruling_party = fascism
					last_election = "1933.4.26"
					election_frequency = 48
					elections_allowed = no
				}
				set_popularities = {
					fascism = 80
					democratic = 15
					neutrality = 5
				}
				set_stability = 0.6
				set_war_support = 0.5
				
				every_other_country = {
					limit = {
						OR = {
							has_character = SPA_emilio_mola
							has_character = SPA_jose_antonio_primo_de_rivera
						}
					}
					if = {
						limit = { has_character = SPA_emilio_mola }
						SPA_emilio_mola = {
							set_nationality = PREV.PREV
							promote_character = yes
						}
					}
					if = {
						limit = { has_character = SPA_jose_antonio_primo_de_rivera }
						SPA_jose_antonio_primo_de_rivera = {
							set_nationality = PREV.PREV
						}
					}
				}
				
				load_focus_tree = {
					tree = national_spain_focus
					keep_completed = no
				}
				complete_national_focus = SPA_create_coordinating_junta
				complete_national_focus = SPA_the_phalanx_ascendant
				complete_national_focus = SPA_secure_the_national_defense_council
				complete_national_focus = SPA_suspend_the_constitution
				unlock_national_focus = SPA_eliminate_the_carlists
				complete_national_focus = SPA_primo_de_rivera_prisoner_exchange
				complete_national_focus = SPA_establish_the_directory
				add_timed_idea = { idea = SPA_death_before_surrender days = 900 }
			}
			every_other_country = {
				limit = {
					ROOT = {
						has_volunteers_amount_from = {
						    tag = PREV
						    count > 0
						}
					}
				}
				recall_volunteers_from = ROOT
			}
			set_global_flag = SPR_carlist_uprising_flag
			set_global_flag = { flag = SPR_civil_war_startup value = 1 days = 3 } # Make AI avoid attacking for a few days
			
			clr_country_flag = SPR_nationalist_spain_flag
			drop_cosmetic_tag = yes
			set_country_flag = SPR_carlist_spain_flag
			if = {
				limit = {
					has_game_rule = {
						rule = spr_fragmentation_status
						option = SPR_EU4
					}
				}
				set_cosmetic_tag = SPR_carlist_castille
			}
			else = {
				set_cosmetic_tag = SPR_carlist_spain
			}
			if = {
				limit = {
					any_controlled_state = {
						has_state_flag = SPA_carlist_cell_flag
					}
				}
				every_state = {
					limit = {
						NOT = { has_state_flag = SPA_carlist_cell_flag }
						is_controlled_by = ROOT
					}
					SPF = {
						transfer_state = PREV
					}
				}
			}
			else_if = {
				limit = {
					OR = {
						controls_state = 172
						controls_state = 176
					}
				}
				every_state = {
					limit = {
						NOT = { state = 172 }
						NOT = { state = 176 }
						NOT = { has_state_flag = SPA_carlist_cell_flag }
						is_controlled_by = ROOT
					}
					SPF = {
						transfer_state = PREV
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
					}
					set_state_flag = SPA_carlist_cell_flag
				}
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						NOT = { has_state_flag = SPA_carlist_cell_flag }
					}
					set_state_flag = SPA_carlist_cell_flag
				}
				every_state = {
					limit = {
						NOT = { has_state_flag = SPA_carlist_cell_flag }
						is_controlled_by = ROOT
					}
					SPF = {
						transfer_state = PREV
					}
				}
			}
			SPF = {
				inherit_technology = SPB
				if = {
					limit = {
						owns_state = 172
					}
					set_capital = { state = 172 }
				}
				else = {
					random_owned_state = {
						limit = {
							is_controlled_by = SPF
							is_core_of = SPF
							NOT = {
								state = 177
								state = 178
							}
						}
						SPF = {
							set_capital = { state = PREV }
						}
					}
				}
				delete_unit_template_and_units = {
					division_template = "Requeté Carlista"
				}
			}
			
			add_popularity = {
			    ideology = fascism
			    popularity = -0.35
			}
			add_stability = -0.1
			transfer_units_fraction = {
				target = SPF
				stockpile_ratio = 0.4
				army_ratio = 0.3
				navy_ratio = 0.3
				air_ratio = 0.3
				keep_unit_leaders = {
				    
				}
				keep_unit_leaders_trigger = {
					has_trait = trait_SPA_carlist_loyalties
				}
			}
			set_division_template_lock = {
			    division_template = "Requeté Carlista"
			    is_locked = no
			}
			every_unit_leader = {
				limit = {
					has_trait = trait_SPA_falangist_loyalties
				}
				remove_unit_leader_trait = trait_SPA_falangist_loyalties
				set_nationality = {
					character = THIS
					target_country = SPF
				}
			}
			every_unit_leader = {
				limit = {
					has_trait = trait_SPA_carlist_loyalties
				}
				remove_unit_leader_trait = trait_SPA_carlist_loyalties
			}
			every_unit_leader = {
				limit = {
					has_trait = trait_SPA_nationalist_sympathies
				}
				remove_unit_leader_trait = trait_SPA_nationalist_sympathies
			}
			SPF = {
				every_unit_leader = {
					limit = {
						has_trait = trait_SPA_carlist_loyalties
					}
					remove_unit_leader_trait = trait_SPA_carlist_loyalties
					set_nationality = {
						character = THIS
						target_country = ROOT
					}
				}
				every_unit_leader = {
					limit = {
						has_trait = trait_SPA_falangist_loyalties
					}
					remove_unit_leader_trait = trait_SPA_falangist_loyalties
				}
				every_unit_leader = {
					limit = {
						has_trait = trait_SPA_nationalist_sympathies
					}
					remove_unit_leader_trait = trait_SPA_nationalist_sympathies
				}
				declare_war_on = {
				    target = ROOT
				    type = civil_war
				}
				add_civil_war_target = ROOT
				add_ai_strategy = {
					type = antagonize
					id = SPB
					value = 200
				}
				declare_war_on = {
				    target = SPD
				    type = civil_war
				}
				add_civil_war_target = SPD

				add_ai_strategy = {
					type = antagonize
					id = SPD
					value = 200
				}
				if = {
					limit = {
						country_exists = ARA
						NOT = { has_war_with = ARA }
					}
					declare_war_on = {
					    target = ARA
					    type = civil_war
					}
					add_civil_war_target = ARA
				}
				if = {
					limit = {
						country_exists = CAT
						NOT = { has_war_with = CAT }
					}
					declare_war_on = {
					    target = CAT
					    type = civil_war
					}
					add_civil_war_target = CAT
				}
				every_other_country = {
					limit = {
						OR = {
							has_character = SPA_jose_antonio_primo_de_rivera
							has_character = SPA_wilhelm_ritter_von_thoma
							has_character = SPA_emilio_mola
							has_character = SPA_agustin_munoz_grandes
							has_character = SPA_juan_yague
							has_character = SPA_jose_antonio_giron
							has_character = SPA_manuel_hedilla
							has_character = SPA_raimundo_fernandez_cuesta
							has_character = SPA_diego_hidalgo_y_duran
							has_character = SPA_ramon_serrano_suner
							has_character = SPA_miguel_ponte
							has_character = SPA_joaquin_garcia_morato
							has_character = SPA_enrique_canovas_lacruz
						}
					}
					if = {
						limit = { has_character = SPA_jose_antonio_primo_de_rivera }
						SPA_jose_antonio_primo_de_rivera = {
							set_nationality = SPF
						}
					}
					if = {
						limit = { has_character = SPA_wilhelm_ritter_von_thoma }
						SPA_wilhelm_ritter_von_thoma = {
							set_nationality = SPF
						}
					}
					if = {
						limit = { has_character = SPA_emilio_mola }
						SPA_emilio_mola = {
							set_nationality = SPF
						}
					}
					if = {
						limit = { has_character = SPA_agustin_munoz_grandes }
						SPA_agustin_munoz_grandes = {
							set_nationality = SPF
						}
					}
					if = {
						limit = { has_character = SPA_juan_yague }
						SPA_juan_yague = {
							set_nationality = SPF
						}
					}
					if = {
						limit = { has_character = SPA_jose_antonio_giron }
						SPA_jose_antonio_giron = {
							set_nationality = SPF
						}
					}
					if = {
						limit = { has_character = SPA_manuel_hedilla }
						SPA_manuel_hedilla = {
							set_nationality = SPF
						}
					}
					if = {
						limit = { has_character = SPA_raimundo_fernandez_cuesta }
						SPA_raimundo_fernandez_cuesta = {
							set_nationality = SPF
						}
					}
					if = {
						limit = { has_character = SPA_diego_hidalgo_y_duran }
						SPA_diego_hidalgo_y_duran = {
							set_nationality = SPF
						}
					}
					if = {
						limit = { has_character = SPA_ramon_serrano_suner }
						SPA_ramon_serrano_suner = {
							set_nationality = SPF
						}
					}
					if = {
						limit = { has_character = SPA_miguel_ponte }
						SPA_miguel_ponte = {
							set_nationality = SPF
						}
					}
					if = {
						limit = { has_character = SPA_joaquin_garcia_morato }
						SPA_joaquin_garcia_morato = {
							set_nationality = SPF
						}
					}
					if = {
						limit = { has_character = SPA_enrique_canovas_lacruz }
						SPA_enrique_canovas_lacruz = {
							set_nationality = SPF
						}
					}
				}
			}
			every_other_country = {
				limit = { is_subject_of = SPR }
				add_to_war = { targeted_alliance = SPR enemy = SPF hostility_reason = asked_to_join }
			}
			every_other_country = {
				add_ai_strategy = {
					type = support
					id = SPB
					value = -200
				}
				add_ai_strategy = {
					type = protect
					id = SPB
					value = -200
				}
				add_ai_strategy = {
					type = befriend
					id = SPB
					value = -200
				}
				add_ai_strategy = {
					type = alliance
					id = SPB
					value = -200
				}
			}

	
			## SPB triggers Carlist Uprising ##
			### All foreign Aid goes to SPA ###
			#Portuguese Op. modifier goes to SPA = SPF
			if = {
				limit = {
					has_opinion_modifier = POR_helped_in_civil_war
				}
				remove_opinion_modifier = {
					target = POR
					modifier = POR_helped_in_civil_war
				}
				SPF = {
					add_opinion_modifier = {
					    target = POR
					    modifier = POR_helped_in_civil_war
					}
				}
			}
			if = {#Country supporting SPA = SPF
				limit = { 
					any_country = { has_country_flag = supports_SPA_flag }
				}
				every_country = {
					limit = {
						 has_country_flag = supports_SPA_flag
					}
					diplomatic_relation = {
						country = SPF
						relation = military_access
						active = yes
					}
					SPF = {
						diplomatic_relation = {
							country = PREV
							relation = military_access
							active = yes
						}
					}
					#Join war against all SPA enemies
					every_country = {
						limit = { has_war_with = SPF }
						PREV = {
							add_to_war = {
								targeted_alliance = SPF
								enemy = PREV
								hostility_reason = asked_to_join
							}
						}
					}
				}
			
				#Transfer troops in territory belonging to SPA allies back home
				every_state = {
					limit = {
						NOT = { is_fully_controlled_by = ROOT }
						owner = {
							has_war_together_with = SPF
						}
					}
					teleport_armies = {
						limit = { 
							tag = SPB
						}
						to_state_array = owned_controlled_states
					}
				}
			}
			if = {	#Country supporting SPD
				limit = {
					any_country = { has_country_flag = supports_SPD_flag }
				}
				every_country = {
					limit = {
						has_country_flag = supports_SPD_flag
					}
					# Country joins war against SPA
					add_to_war = { targeted_alliance = SPD enemy = SPF hostility_reason = asked_to_join }
				}
				if = {
					limit = {
						any_country = { has_country_flag = POR_non_aligned_portugal_supports_SPA_flag }
					}
					random_country = { #Portuguese Non-aligned tag (spawned via Workers of Iberia, Unite! focus) will join war
						limit = {
							has_country_flag = POR_non_aligned_portugal_supports_SPA_flag
						}
						add_to_war = { targeted_alliance = SPF enemy = SPB hostility_reason = asked_to_join }
					}
				}
			}
			every_state = {
				limit = {
					has_state_flag = SPR_core_of_spain_flag
				}
				add_core_of = SPB
				add_core_of = SPF
			}
			news_event = { id = lar_news.10 days = 1 }
		}
	}
	
	option = {
		name = lar_spain.8.a
		effect_tooltip = {
			add_popularity = {
			    ideology = fascism
			    popularity = -0.35
			}
			add_stability = -0.1
			transfer_units_fraction = {
				target = SPF
				stockpile_ratio = 0.4
				army_ratio = 0.3
				navy_ratio = 0.3
				air_ratio = 0.3
				keep_unit_leaders = {
				    
				}
				keep_unit_leaders_trigger = {
					has_trait = trait_SPA_carlist_loyalties
				}
			}
			every_unit_leader = {
				limit = {
					has_trait = trait_SPA_falangist_loyalties
				}
				remove_unit_leader_trait = trait_SPA_falangist_loyalties
				set_nationality = {
					character = THIS
					target_country = SPF
				}
			}
			every_unit_leader = {
				limit = {
					has_trait = trait_SPA_carlist_loyalties
				}
				remove_unit_leader_trait = trait_SPA_carlist_loyalties
			}
			set_division_template_lock = {
			    division_template = "Requeté Carlista"
			    is_locked = no
			}
			SPF = {
				declare_war_on = {
				    target = ROOT
				    type = civil_war
				}
				add_civil_war_target = ROOT
				declare_war_on = {
				    target = SPD
				    type = civil_war
				}
				add_civil_war_target = SPD
				if = {
					limit = {
						country_exists = ARA
						NOT = { has_war_with = ARA }
					}
					declare_war_on = {
					    target = ARA
					    type = civil_war
					}
					add_civil_war_target = ARA
				}
				if = {
					limit = {
						country_exists = CAT
						NOT = { has_war_with = CAT }
					}
					declare_war_on = {
					    target = CAT
					    type = civil_war
					}
					add_civil_war_target = CAT
				}
			}
			every_other_country = {
				limit = { is_subject_of = SPR }
				add_to_war = { targeted_alliance = SPR enemy = SPF hostility_reason = asked_to_join }
			}
		}
		random_state = {
			limit = {
				has_state_flag = SPA_union_militar_flag
			}
			create_unit = {
				division = "division_template = \"Requeté Carlista\" start_experience_factor = 0.3" 
				owner = SPB
				allow_spawning_on_enemy_provs = yes
				count = 5
			}
		}
	}
}


# Portuguese Aid - Event for Portugal
country_event = {
	id = lar_spain.22
	title = lar_spain.22.t
	desc = lar_spain.22.desc
	picture = GFX_report_event_generic_read_write
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.22" }
	
	is_triggered_only = yes
	
	option = { # Accept
		name = lar_spain.22.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_completed_focus = POR_politic_anticrelicarism
					has_completed_focus = POR_prison_kabo_verde
				}
			}
			modifier = {
				factor = 0
				has_completed_focus = POR_rebirth_of_catolic_centre
				any_country_with_original_tag = {
					original_tag_to_check = SPA
					exists = yes
					has_completed_focus = SPA_supremacy_of_the_communion
				}
			}
		}
		add_manpower = -20000
		add_equipment_to_stockpile = {
			type = train_equipment
			amount = -5
		}
		effect_tooltip = {
			FROM = {
				add_manpower = 20000
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = 5
				}
			}
		}
		add_timed_idea = { idea = SPA_spanish_civil_war_commitments days = 730 }
		add_opinion_modifier = { target = ROOT modifier = SPA_spanish_civil_war_commitments }
		add_ai_strategy = {
			type = send_volunteers_desire
			id = SPA
			value = 200
		}
		hidden_effect = {
			FROM = {
				country_event = { id = lar_spain.23 hours = 18 random_hours = 6 }
			}
		}
	}

	option = { # Decline
		name = lar_spain.22.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.5
				has_opinion = { target = FROM value > 99 }
			}
			modifier = {
				factor = 0.25
				has_completed_focus = POR_intervention_in_spanish_war
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		hidden_effect = {
			FROM = {
				country_event = { id = lar_spain.24 hours = 18 random_hours = 6 }
			}
		}
	}
}

# Portuguese Aid - Event for Spain - POR accepted
country_event = {
	id = lar_spain.23
	title = lar_spain.23.t
	desc = lar_spain.23.desc
	picture = GFX_report_event_soldiers_marching
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.23" }
	
	option = { # OK
		name = lar_spain.23.a
		effect_tooltip = {
			POR = {
				add_timed_idea = { idea = SPA_spanish_civil_war_commitments days = 730 }
				add_opinion_modifier = { target = ROOT modifier = SPA_spanish_civil_war_commitments }
			}
		}
		add_manpower = 20000
		add_equipment_to_stockpile = {
			type = train_equipment
			amount = 5
		}
	}
}

# Portuguese Aid - Event for Spain - POR declined
country_event = {
	id = lar_spain.24
	title = lar_spain.24.t
	desc = lar_spain.24.desc
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.24" }
	
	option = { # OK
		name = lar_spain.24.a
	}
}


# Iberian Pact - Event for Portugal
country_event = {
	id = lar_spain.25
	title = lar_spain.25.t
	desc = lar_spain.25.desc
	picture = GFX_report_event_generic_parliament
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.25" }
	
	option = { # Accept
		name = lar_spain.25.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_completed_focus = POR_politic_anticrelicarism
					has_completed_focus = POR_prison_kabo_verde
				}
			}
		}
		custom_effect_tooltip = SPA_the_iberian_pact_tt
		hidden_effect = {
			FROM = {
				country_event = { id = lar_spain.26 hours = 18 random_hours = 6 }
			}
		}
		if= { #If Portugal is in faction, Spain will join
			limit = {
				is_in_faction = yes
				FROM = { is_in_faction = no }
			}
			effect_tooltip = {
				random_other_country = {
					limit = {
						is_in_faction_with = ROOT
						is_faction_leader = yes
					}
					add_to_faction = FROM
				}
			}
		}
		else_if = { #If Spain is in faction, Portugal will join
			limit = {
				is_in_faction = no
				FROM = { is_in_faction = yes }
			}
			random_other_country = {
				limit = {
					is_in_faction_with = FROM
					is_faction_leader = yes
				}
				add_to_faction = ROOT
			}
		}
		else_if = { #If Spain and Portugal are in different factions, both will leave their faction
			limit = {
				is_in_faction = yes
				FROM = { is_in_faction = yes }
				NOT = { is_in_faction_with = FROM }
			}
			effect_tooltip = {
				leave_faction = yes
				FROM = { leave_faction = yes }
			}
		}
	}

	option = { # Decline
		name = lar_spain.25.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.5
				has_opinion = { target = FROM value > 99 }
			}
			modifier = {
				factor = 0.5
				has_completed_focus = POR_intervention_in_spanish_war
			}
			modifier = {
				factor = 0
				focus_progress = {
				    focus = POR_iberian_summit
				    progress > 0
				}
			}
			modifier = {
				factor = 0
				has_completed_focus = POR_intervention_in_spanish_war
				is_historical_focus_on = yes
			}
		}
		hidden_effect = {
			FROM = {
				country_event = { id = lar_spain.27 hours = 18 random_hours = 6 }
			}
		}
	}
}

# Iberian Pact - Event for Spain - POR accepted
country_event = {
	id = lar_spain.26
	title = lar_spain.25.t
	desc = lar_spain.26.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.26" }
	
	option = { # OK
		name = lar_spain.26.a
		custom_effect_tooltip = SPA_the_iberian_pact_tt
		if= { #If Spain is in faction, Portugal will join
			limit = {
				is_in_faction = yes
				FROM = { is_in_faction = no }
			}
			effect_tooltip = {
				random_other_country = {
					limit = {
						is_in_faction_with = ROOT
						is_faction_leader = yes
					}
					add_to_faction = FROM
				}
			}
		}
		else_if = { #If Portugal is in faction, Spain will join
			limit = {
				is_in_faction = no
				FROM = { is_in_faction = yes }
			}
			random_other_country = {
				limit = {
					is_in_faction_with = FROM
					is_faction_leader = yes
				}
				add_to_faction = ROOT
			}
		}
		else_if = { #If Spain and Portugal are in different factions, both will leave their faction
			limit = {
				is_in_faction = yes
				FROM = { is_in_faction = yes }
				NOT = { is_in_faction_with = FROM }
			}
			leave_faction = yes
			FROM = { leave_faction = yes }
		}
		hidden_effect = {
			FROM = { set_country_flag = SPA_iberian_pact }
			set_country_flag = SPA_iberian_pact
		}
	}
}

# Iberian Pact - Event for Spain - POR declined
country_event = {
	id = lar_spain.27
	title = lar_spain.25.t
	desc = lar_spain.27.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.27" }
	
	option = { # OK
		name = lar_spain.27.a
	}
}

# Iberian Pact - Other party has joined a faction, we must uphold our end of the bargain!
country_event = {
	id = lar_spain.28
	title = lar_spain.28.t
	desc = lar_spain.28.desc
	picture = GFX_report_event_generic_parliament
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.28" }
	immediate = {
		hidden_effect = {
			random_other_country = {
				limit = {
					has_country_flag = SPA_iberian_pact_invitee
				}
				save_event_target_as = iberian_pact_invitee
			}
			random_other_country = {
				limit = {
					has_country_flag = SPA_iberian_pact_faction_leader
				}
				add_to_faction = ROOT
			}
		}
	}
	
	option = { # OK
		name = lar_spain.28.a
		effect_tooltip = {
			random_other_country = {
				limit = {
					is_in_faction_with = event_target:iberian_pact_invitee
					is_faction_leader = yes
				}
				add_to_faction = ROOT
			}
		}
	}
}

# Iberian Pact - Other party has joined the war, we must uphold our end of the bargain!
country_event = {
	id = lar_spain.29
	title = lar_spain.28.t
	desc = lar_spain.29.desc
	picture = GFX_report_event_generic_parliament

	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.29" }
	
	option = { # OK
		name = lar_spain.28.a
		random_other_country = {
			limit = {
				has_war_with = event_target:iberian_pact_war_target
				if = {
					limit = {
						any_country = {
							has_country_flag = SPA_iberian_pact_enemy_flag
						}
					}
					has_country_flag = SPA_iberian_pact_enemy_flag
				}
			}
			random_other_country = {
				limit = {
					has_country_flag = SPA_iberian_pact
					has_war_with = PREV
				}
				ROOT = {
					add_to_war = { 
					    targeted_alliance = PREV
					    enemy = PREV.PREV
					    hostility_reason = asked_to_join
					}
				}
			}
		}
	}
}


# Latin Bloc - Event for invitees
country_event = {
	id = lar_spain.30
	title = lar_spain.30.t
	desc = lar_spain.30.desc
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.30" }
	
	option = { # Accept
		name = lar_spain.30.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_government = democratic
				FROM = { has_government = fascism }
			}
			modifier = {
				factor = 0
				has_government = communism
			}
		}
		effect_tooltip = {
			FROM = {
				add_to_faction = ROOT
			}
		}
		hidden_effect = {
			FROM = {
				country_event = { id = lar_spain.31 hours = 18 random_hours = 6 }
			}
			add_ai_strategy = {
				type = alliance
				id = FROM
				value = 200
			}
		}
	}

	option = { # Decline
		name = lar_spain.30.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.5
				has_opinion = { target = FROM value > 99 }
			}
			modifier = {
				factor = 0
				has_government = FROM
			}
		}
		hidden_effect = {
			FROM = {
				country_event = { id = lar_spain.32 hours = 18 random_hours = 6 }
			}
		}
	}
}

# Latin Bloc - Event for Spain - FROM accepted
country_event = {
	id = lar_spain.31
	title = lar_spain.30.t
	desc = lar_spain.31.desc
	picture = GFX_report_event_generic_sign_treaty2
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.31" }
	
	option = { # OK
		name = lar_spain.31.a
		add_to_faction = FROM
	}
}

# Latin Bloc - Event for Spain - FROM declined
country_event = {
	id = lar_spain.32
	title = lar_spain.30.t
	desc = lar_spain.32.desc
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.32" }
	
	option = { # OK
		name = lar_spain.32.a
	}
}



# Spain - Contact the Union Militar Espanola
country_event = {
	id = lar_spain.33
	title = lar_spain.33.t
	desc = lar_spain.33.desc
	picture = GFX_report_event_spr_carlists2
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.33" }
	immediate = {
		hidden_effect = {
			random_owned_state = {
				limit = {
					is_core_of = ROOT
					is_controlled_by = ROOT
					NOT = {
						state = 177
						state = 178
					}
					NOT = { has_state_flag = SPA_carlist_cell_flag }
				}
				set_state_flag = union_militar_temp_flag_1
				save_event_target_as = union_militar_target_state_1
			}
			random_owned_state = {
				limit = {
					is_core_of = ROOT
					is_controlled_by = ROOT
					NOT = {
						state = 177
						state = 178
					}
					NOT = { has_state_flag = SPA_carlist_cell_flag }
					NOT = { has_state_flag = union_militar_temp_flag_1 }
				}
				set_state_flag = union_militar_temp_flag_2
				save_event_target_as = union_militar_target_state_2
			}
			random_owned_state = {
				limit = {
					is_core_of = ROOT
					is_controlled_by = ROOT
					NOT = {
						state = 177
						state = 178
					}
					NOT = { has_state_flag = SPA_carlist_cell_flag }
					NOT = { has_state_flag = union_militar_temp_flag_1 }
					NOT = { has_state_flag = union_militar_temp_flag_2 }
				}
				set_state_flag = union_militar_temp_flag_3
				save_event_target_as = union_militar_target_state_3
			}
		}
	}
	
	option = { # Choose First State
		name = lar_spain.33.a
		trigger = {
			any_owned_state = {
				has_state_flag = union_militar_temp_flag_1
			}
		}
		random_owned_state = {
			limit = {
				has_state_flag = union_militar_temp_flag_1
			}
			custom_effect_tooltip = lar_spain.33_tt
			hidden_effect = {
				set_state_flag = SPA_union_militar_flag
			}
		}
	}

	option = { # Choose Second State
		name = lar_spain.33.b
		trigger = {
			any_owned_state = {
				has_state_flag = union_militar_temp_flag_2
			}
		}
		random_owned_state = {
			limit = {
				has_state_flag = union_militar_temp_flag_2
			}
			custom_effect_tooltip = lar_spain.33_tt
			hidden_effect = {
				set_state_flag = SPA_union_militar_flag
			}
		}
	}

	option = { # Choose Third State
		name = lar_spain.33.c
		trigger = {
			any_owned_state = {
				has_state_flag = union_militar_temp_flag_3
			}
		}
		random_owned_state = {
			limit = {
				has_state_flag = union_militar_temp_flag_3
			}
			custom_effect_tooltip = lar_spain.33_tt
			hidden_effect = {
				set_state_flag = SPA_union_militar_flag
			}
		}
	}
}

# Spain - Settle the Succession Question
country_event = {
	id = lar_spain.34
	title = lar_spain.34.t
	desc = lar_spain.34.desc
	picture = GFX_report_event_generic_parliament
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.34" }
	
	option = { # Choose first King
		name = lar_spain.34.a
		ai_chance = {
			base = 66
		}
		set_country_flag = SPB_xavier_king
		custom_effect_tooltip = lar_spain.34.a_tt
	}

	option = { # Choose second King
		name = lar_spain.34.b
		ai_chance = {
			base = 34
		}
		custom_effect_tooltip = lar_spain.34.b_tt
	}
}


# Tangiers Enclave - Event for UK
country_event = {
	id = lar_spain.36
	title = lar_spain.36.t
	desc = lar_spain.36.desc
	picture = GFX_report_event_spr_occupation_of_tangiers
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.35" }
	
	option = { # Protest
		name = lar_spain.36.a
		ai_chance = {
			base = 34
			modifier = {
				factor = 3
				has_war = no
			}
			modifier = {
				factor = 2
				has_government = democratic
			}
			modifier = {
				factor = 5
				strength_ratio = {
				    tag = FROM
				    ratio > 5
				}
			}
			modifier = {
				factor = 2
				strength_ratio = {
				    tag = FROM
				    ratio > 3
				}
			}
			modifier = {
				factor = 0.5
				strength_ratio = {
				    tag = FROM
				    ratio < 2
				}
			}
			modifier = {
				factor = 0.5
				NOT = { has_political_power > 100 }
			}
			modifier = {
				factor = 0
				strength_ratio = {
				    tag = FROM
				    ratio < 1
				}
			}
			modifier = {
				factor = 0
				is_in_faction_with = FROM
			}
		}
		add_political_power = -200
		custom_effect_tooltip = lar_spain.36_tt
		effect_tooltip = {
			create_wargoal = {
			    type = topple_government
			    target = FROM
			}
		}
		hidden_effect = {
			FROM = {
				country_event = { id = lar_spain.37 hours = 18 random_hours = 6 }
			}
		}
	}

	option = { # Let it slide
		name = lar_spain.36.b
		ai_chance = {
			base = 66
			modifier = {
				factor = 10
				has_war = yes
			}
			modifier = {
				factor = 5
				has_government = fascism
			}
			modifier = {
				factor = 10
				surrender_progress > 0.1
			}
		}
		hidden_effect = {
			FROM = {
				country_event = { id = lar_spain.38 hours = 18 random_hours = 6 }
			}
		}
	}
}


# Tangiers Enclave - Event for Spain - UK protested
country_event = {
	id = lar_spain.37
	title = lar_spain.36.t
	desc = lar_spain.37.desc
	picture = GFX_report_event_spr_occupation_of_tangiers
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.37" }
	
	option = { # OK
		name = lar_spain.37.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		FROM = {
			create_wargoal = {
			    type = topple_government
			    target = ROOT
			}
		}
		1042 = {
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
		}
	}

	option = { # We must back down
		name = lar_spain.37.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.5
				strength_ratio = {
				    tag = FROM
				    ratio > 0.6
				}
			}
		}
	}
}

# Tangiers Enclave - Event for Spain - UK let it slide
country_event = {
	id = lar_spain.38
	title = lar_spain.36.t
	desc = lar_spain.38.desc
	picture = GFX_report_event_spr_occupation_of_tangiers
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.38" }
	
	option = { # OK
		name = lar_spain.38.a
		1042 = {
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
		}
	}
}


# Demand French North Africa - Event for France
country_event = {
	id = lar_spain.39
	title = lar_spain.39.t
	desc = lar_spain.39.desc
	picture = GFX_report_event_generic_parliament
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.39" }
	
	option = { # Accept
		name = lar_spain.39.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				strength_ratio = { tag = FROM ratio > 1 }
			}
			modifier = {
				factor = 5
				NOT = { has_war_with = FROM }
				has_war = yes
			}
		}
		effect_tooltip = {
			FROM = {
				transfer_state = 461
				transfer_state = 462
				transfer_state = 459
				transfer_state = 460
				transfer_state = 513
				transfer_state = 514
				transfer_state = 458
				transfer_state = 665
			}
		}
		hidden_effect = {
			set_country_flag = surrendered_french_north_africa
			FROM = {
				country_event = { id = lar_spain.40 hours = 18 random_hours = 6 }
			}
			news_event = { id = lar_news.14 days = 2 }
		}
	}

	option = { # Decline
		name = lar_spain.39.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.8
				strength_ratio = { tag = FROM ratio < 0.5 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = FROM value > 99 }
			}
			modifier = {
				factor = 0.8
				strength_ratio = { tag = FROM ratio < 0.3 }
			}
			modifier = {
				factor = 0.8
				strength_ratio = { tag = FROM ratio < 0.2 }
			}
			modifier = {
				factor = 0
				strength_ratio = { tag = FROM ratio < 0.1 }
			}
			modifier = {
				factor = 0
				has_focus_tree = vichy_french_focus
				NOT = { has_war_with = GER }
				FROM = { is_in_faction_with = GER }
			}
		}
		effect_tooltip = {
			FROM = {
				add_state_claim = 461
				add_state_claim = 462
				add_state_claim = 459
				add_state_claim = 460
				add_state_claim = 513
				add_state_claim = 514
				add_state_claim = 458
				add_state_claim = 665
				create_wargoal = {
					type = take_state_focus
					target = ROOT
					generator = { 461 462 459 460 513 514 458 665 }
					expire = 0
				}
			}
		}
		hidden_effect = {
			FROM = {
				country_event = { id = lar_spain.41 hours = 18 random_hours = 6 }
			}
		}
	}
}

# Demand French North Africa - Event for Spain - France accepted
country_event = {
	id = lar_spain.40
	title = lar_spain.40.t
	desc = lar_spain.40.desc
	picture = GFX_report_event_generic_sign_treaty3
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.40" }
	
	option = { # Ok
		name = lar_spain.40.a
		transfer_state = 461
		transfer_state = 462
		transfer_state = 459
		transfer_state = 460
		transfer_state = 513
		transfer_state = 514
		transfer_state = 458
		transfer_state = 665
	}
}

# Demand French North Africa - Event for Spain - France declined
country_event = {
	id = lar_spain.41
	title = lar_spain.41.t
	desc = lar_spain.41.desc
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.41" }
	
	option = { # Damn
		name = lar_spain.41.a
		add_state_claim = 461
		add_state_claim = 462
		add_state_claim = 459
		add_state_claim = 460
		add_state_claim = 513
		add_state_claim = 514
		add_state_claim = 458
		add_state_claim = 665
		create_wargoal = {
			type = take_state_focus
			target = FROM
			generator = { 461 462 459 460 513 514 458 665 }
			expire = 0
		}
	}
}

# Claim the French Throne - Event for France
country_event = {
	id = lar_spain.42
	title = lar_spain.42.t
	desc = lar_spain.42.desc
	picture = GFX_report_event_generic_parliament
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.42" }
	
	option = { # Accept
		name = lar_spain.42.a
		ai_chance = {
			base = 5
			modifier = {
				factor = 0
				has_war = no
				strength_ratio = { tag = FROM ratio > 0.5 }
			}
		}
		effect_tooltip = {
			FROM = {
				annex_country = { target = ROOT transfer_troops = yes }
			}
		}
		hidden_effect = {
			FROM = {
				country_event = { id = lar_spain.43 hours = 18 random_hours = 6 }
			}
			news_event = { id = lar_news.15 days = 2 }
		}
		custom_effect_tooltip = GAME_OVER_TT
	}

	option = { # Decline
		name = lar_spain.42.b
		ai_chance = {
			base = 95
			modifier = {
				factor = 0
				focus_progress = {
					focus = FRA_the_legitimate_heir
					progress > 0
				}
			}
			modifier = {
				factor = 0.8
				NOT = { has_war_with = FROM }
				has_war = yes
				surrender_progress > 0.1
			}
			modifier = {
				factor = 0.5
				NOT = { has_war_with = FROM }
				has_war = yes
				surrender_progress > 0.3
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = FROM ratio < 0.2 }
			}
			modifier = {
				factor = 0.2
				NOT = { has_war_with = FROM }
				has_war = yes
				surrender_progress > 0.5
			}
		}
		effect_tooltip = {
			FROM = {
				create_wargoal = {
					type = annex_everything
					target = ROOT
				}
			}
		}
		hidden_effect = {
			FROM = {
				country_event = { id = lar_spain.44 hours = 18 random_hours = 6 }
			}
		}
	}
}

# Claim the French Throne - Event for Spain - France accepted
country_event = {
	id = lar_spain.43
	title = lar_spain.43.t
	desc = lar_spain.43.desc
	picture = GFX_report_event_generic_parliament
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.43" }
	
	option = { # Ok
		name = lar_spain.43.a
		puppet = FROM
		custom_effect_tooltip = lar_spain.43_tt
		hidden_effect = { country_event = { id = lar_spain.79 days = 7 random_days = 7 } }
	}
}

# Claim the French Throne - Event for Spain - France declined
country_event = {
	id = lar_spain.44
	title = lar_spain.44.t
	desc = lar_spain.44.desc
	picture = GFX_report_event_read_write
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.44" }
	
	option = { # Damn
		name = lar_spain.44.a
		create_wargoal = {
			type = annex_everything
			target = FROM
		}
	}
}

# Iberian Union - Event for Portugal
country_event = {
	id = lar_spain.45
	title = lar_spain.45.t
	desc = lar_spain.45.desc
	picture = GFX_report_event_generic_parliament
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.45" }
	
	option = { # Accept
		name = lar_spain.45.a
		ai_chance = {
			base = 5
			modifier = {
				factor = 0
				has_war = no
				strength_ratio = { tag = FROM ratio > 0.5 }
				NOT = { is_puppet_of = FROM }
			}
			modifier = {
				factor = 5
				has_opinion = { target = FROM value > 99 }
			}
		}
		effect_tooltip = {
			FROM = {
				annex_country = { target = ROOT transfer_troops = yes }
			}
		}
		hidden_effect = {
			FROM = {
				country_event = { id = lar_spain.46 hours = 18 random_hours = 6 }
			}
			news_event = { id = lar_news.16 days = 2 }
		}
		custom_effect_tooltip = GAME_OVER_TT
	}

	option = { # Decline
		name = lar_spain.45.b
		ai_chance = {
			base = 95
#			modifier = {
#				factor = 0.1
#				has_completed_focus = POR_the_royal_iberian_alliance
#			}
			modifier = {
				factor = 0.8
				NOT = { has_war_with = FROM }
				has_war = yes
				surrender_progress > 0.1
			}
			modifier = {
				factor = 0.5
				NOT = { has_war_with = FROM }
				has_war = yes
				surrender_progress > 0.3
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = FROM ratio < 0.2 }
			}
			modifier = {
				factor = 0
				OR = {
					AND = {
						NOT = { has_war_with = FROM }
						has_war = yes
						surrender_progress > 0.5
					}
					is_puppet_of = FROM
				}
			}
		}
		effect_tooltip = {
			FROM = {
				create_wargoal = {
					type = annex_everything
					target = ROOT
				}
			}
		}
		hidden_effect = {
			FROM = {
				country_event = { id = lar_spain.47 hours = 18 random_hours = 6 }
			}
		}
	}
}

# Iberian Union - Event for Spain - Portugal Accepted
country_event = {
	id = lar_spain.46
	title = lar_spain.46.t
	desc = lar_spain.46.desc
	picture = GFX_report_event_generic_sign_treaty3
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.46" }
	
	option = { # Ok
		name = lar_spain.46.a
		set_cosmetic_tag = ESU_POR_unified
		every_state = {
			limit = {
				is_core_of = POR
			}
			add_core_of = ROOT
		}
		annex_country = { target = FROM transfer_troops = yes }
	}
}

# Iberian Union - Event for Spain - Portugal Declined
country_event = {
	id = lar_spain.47
	title = lar_spain.47.t
	desc = lar_spain.47.desc
	picture = GFX_report_event_generic_sign_treaty2
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.47" }
	
	option = { # Damn
		name = lar_spain.47.a
		create_wargoal = {
			type = annex_everything
			target = FROM
		}
	}
}

# Portuguese Anarchism - Event for Portugal
country_event = {
	id = lar_spain.48
	title = lar_spain.48.t
	desc = lar_spain.48.desc
	picture = GFX_report_event_spr_anarchist_uprising
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.48" }
	immediate = {
		hidden_effect = {
			random_owned_state = {
				limit = {
					any_neighbor_state = {
						is_fully_controlled_by = FROM
					}
				}
				set_state_flag = SPC_portuguese_anarchism_state
			}
			set_global_flag = SPR_portuguese_anarchism_flag
		}
	}
	
	option = { # Ok :'(
		name = lar_spain.48.a
		hidden_effect = {
			start_civil_war = {
			    ideology = anarchism
			    size = 0.1
			    states_filter = { 
			        has_state_flag = SPC_portuguese_anarchism_state
			    }
			    keep_unit_leaders_trigger = {
			    	always = yes
			    }
			}
			random_country = {
				limit = {
					original_tag = POR
					has_government = communism
					NOT = { tag = ROOT }
				}
				set_political_party = {
				    ideology = anarchism
				    popularity = 100
				}
				set_party_name = { ideology = anarchism long_name = SPR_neutrality_anarchism_party_long name = SPR_neutrality_anarchism_party }
				set_cosmetic_tag = SPR_POR_anarchism
				set_country_flag = SPR_portuguese_anarchism_flag
				retire_country_leader = yes
				create_country_leader = {
					name = "Anarchist Commune"
					desc = "POLITICS_ANARCHIST_COMMUNE_DESC"
					picture = "GFX_portrait_SPR_anarchist_commune"
					expire = "1965.1.1"
					ideology = anarcho_sindicalism
					traits = {
					}
				}
			}
			FROM = {
				country_event = { id = lar_spain.49 }
			}
		}
	}
}

# Portuguese Anarchism - Event for Aragon
country_event = {
	id = lar_spain.49
	title = lar_spain.48.t
	desc = lar_spain.49.desc
	picture = GFX_report_event_spr_anarchist_uprising
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.49" }
	
	option = { # Ok
		name = lar_spain.49.a
		random_country = {
			limit = {
				original_tag = POR
				has_government = anarchism
				NOT = { tag = FROM }
			}
			ROOT = {
				add_to_war = {
				    targeted_alliance = PREV 
				    enemy = POR
				    hostility_reason = asked_to_join
				}
				puppet = PREV
			}
			set_political_party = {
			    ideology = anarchism
			    popularity = 100
			}
		}
		POR = {
			set_rule = { can_join_factions = no	}
		}
	}
}

# Portuguese Anarchism - Event for Aragon - Portuguese Civil War ends
country_event = {
	id = lar_spain.50
	title = lar_spain.50.t
	desc = lar_spain.50.desc
	picture = GFX_report_event_spr_anarchist_success
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.50" }
	
	option = { # Ok
		name = lar_spain.50.a
		random_country = {
			limit = {
				original_tag = POR
				has_government = anarchism
				has_country_flag = SPR_portuguese_anarchism_flag
			}
			ROOT = {
				annex_country = {
				    target = PREV
				    transfer_troops = yes
				}
			}
		}
		clr_global_flag = SPR_portuguese_anarchism_flag
	}
}


# Relocate the Gold Reserves - Event for Spain - Choose target
country_event = {
	id = lar_spain.51
	title = lar_spain.51.t
	desc = lar_spain.51.desc
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.51" }
	immediate = {
		hidden_effect = {
			random_other_country = {
				limit = {
					ROOT = {
						has_volunteers_amount_from = {
						    tag = PREV
						    count > 0
						}
					}
					NOT = { tag = SOV }
				}
				set_country_flag = SPR_relocated_gold_reserves_selection_flag1
				save_event_target_as = SPR_relocated_gold_reserves_selection_1
			}
			random_other_country = {
				limit = {
					ROOT = {
						has_volunteers_amount_from = {
						    tag = PREV
						    count > 0
						}
					}
					NOT = { tag = SOV }
					NOT = { has_country_flag = SPR_relocated_gold_reserves_selection_flag1 }
				}
				set_country_flag = SPR_relocated_gold_reserves_selection_flag2
				save_event_target_as = SPR_relocated_gold_reserves_selection_2
			}
			random_other_country = {
				limit = {
					ROOT = {
						has_volunteers_amount_from = {
						    tag = PREV
						    count > 0
						}
					}
					NOT = { tag = SOV }
					NOT = { has_country_flag = SPR_relocated_gold_reserves_selection_flag1 }
					NOT = { has_country_flag = SPR_relocated_gold_reserves_selection_flag2 }
				}
				set_country_flag = SPR_relocated_gold_reserves_selection_flag3
				save_event_target_as = SPR_relocated_gold_reserves_selection_3
			}
		}
	}
	
	option = { # Send to SOV
		name = lar_spain.51.a
		ai_chance = {
			base = 25
			modifier = {
				factor = 2
				has_volunteers_amount_from = {
				    tag = SOV
				    count > 0
				}
			}
		}
		trigger = {
			SOV = {
				exists = yes
				has_government = communism
			}
		}
		SOV = { set_country_flag = SPR_relocated_gold_reserves_selection_flag_sov }
		SOV = { country_event = { id = lar_spain.52 hours = 6 random_hours = 6 } }
	}
	option = { # Send to #1
		name = lar_spain.51.b
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		trigger = {
			any_other_country = {
				has_country_flag = SPR_relocated_gold_reserves_selection_flag1
			}
		}
		event_target:SPR_relocated_gold_reserves_selection_1 = {
			country_event = { id = lar_spain.52 hours = 6 random_hours = 6 }
		}
	}
	option = { # Send to #2
		name = lar_spain.51.c
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		trigger = {
			any_other_country = {
				has_country_flag = SPR_relocated_gold_reserves_selection_flag2
			}
		}
		event_target:SPR_relocated_gold_reserves_selection_2 = {
			country_event = { id = lar_spain.52 hours = 6 random_hours = 6 }
		}
	}
	option = { # Send to #3
		name = lar_spain.51.d
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		trigger = {
			any_other_country = {
				has_country_flag = SPR_relocated_gold_reserves_selection_flag3
			}
		}
		event_target:SPR_relocated_gold_reserves_selection_3 = {
			country_event = { id = lar_spain.52 hours = 6 random_hours = 6 }
		}
	}
}

# Relocate the Gold Reserves - Event for Target
country_event = {
	id = lar_spain.52
	title = lar_spain.52.t
	desc = lar_spain.52.desc
	picture = GFX_report_event_destroyers
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.52" }
	
	option = { # Ok
		name = lar_spain.52.a
		set_country_flag = { flag = SPR_relocate_the_gold_reserves_timer_flag value = 1 days = 60 }
	}
}

# Relocate the Gold Reserves - Event for Target - Seize the Gold
country_event = {
	id = lar_spain.53
	title = lar_spain.53.t
	desc = lar_spain.53.desc
	picture = GFX_report_event_generic_read_write
	
	fire_only_once = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.53" }

	trigger = {
		any_country_with_original_tag = {
			original_tag_to_check = SPR
			OR = {
				has_government = democratic
				has_government = communism
			}
			has_volunteers_amount_from = {
			    tag = ROOT
			    count > 0
			}
			has_completed_focus = SPR_relocate_the_gold_reserves
		}
		OR = {
			has_country_flag = SPR_relocated_gold_reserves_selection_flag_sov
			has_country_flag = SPR_relocated_gold_reserves_selection_flag1
			has_country_flag = SPR_relocated_gold_reserves_selection_flag2
			has_country_flag = SPR_relocated_gold_reserves_selection_flag3
		}
		NOT = { has_country_flag = SPR_relocate_the_gold_reserves_timer_flag }
	}

	mean_time_to_happen = {
		days = 30
	}
	
	option = { # Seize it!
		name = lar_spain.53.a
		ai_chance = {
			base = 50
		}
		add_political_power = -25
		add_timed_idea = { idea = SPR_seized_spanish_gold_reserves days = 365 }
		hidden_effect = {
			SPR = {
				country_event = { id = lar_spain.54 }
			}
		}
	}

	option = { # Let it go.
		name = lar_spain.53.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

# Relocate the Gold Reserves - Event for Spain - Gold seized!
country_event = {
	id = lar_spain.54
	title = lar_spain.54.t
	desc = lar_spain.54.desc
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.54" }
	immediate = {
		hidden_effect = {
			remove_ideas = SPR_relocate_the_gold_reserves
			set_country_flag = SPR_seized_gold_reserves_flag
		}
	}
	
	option = { # Ok
		name = lar_spain.54.a
		effect_tooltip = { remove_ideas = SPR_relocate_the_gold_reserves }
		custom_effect_tooltip = lar_spain.54.a_tt
	}
}

# Relocate the Gold Reserves - Event for Spain - Payback time
country_event = {
	id = lar_spain.55
	title = lar_spain.55.t
	desc = lar_spain.55.desc
	picture = GFX_report_event_generic_read_write
	
	fire_only_once = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.55" }

	trigger = {
		original_tag = SPR
		has_country_flag = SPR_seized_gold_reserves_flag
		has_global_flag = scw_over
	}

	mean_time_to_happen = {
		days = 2
	}
	
	option = { # Dangit
		name = lar_spain.55.a
		add_timed_idea = { idea = SPR_seized_spanish_gold_reserves_spain days = 365 }
	}
}

# Appeal for Increased Autonomy - Event for SOV
country_event = {
	id = lar_spain.56
	title = lar_spain.56.t
	desc = lar_spain.56.desc
	picture = GFX_report_event_generic_parliament
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.56" }
	
	option = { # Accept
		name = lar_spain.56.a
		end_puppet = FROM
		hidden_effect = {
			FROM = {
				country_event = { id = lar_spain.57 }
			}
		}
	}

	option = { # Decline
		name = lar_spain.56.b
		ai_chance = {
			base = 0
		}
		hidden_effect = {
			FROM = {
				country_event = { id = lar_spain.58 }
			}
		}
	}
}

# Appeal for Increased Autonomy - Event for Spain - SOV accepted
country_event = {
	id = lar_spain.57
	title = lar_spain.57.t
	desc = lar_spain.57.desc
	picture = GFX_report_event_generic_sign_treaty3
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.57" }
	
	option = { # Ok
		name = lar_spain.57.a
		effect_tooltip = {
			FROM = { end_puppet = ROOT }
		}
	}
}

# Appeal for Increased Autonomy - Event for Spain - SOV declined
country_event = {
	id = lar_spain.58
	title = lar_spain.58.t
	desc = lar_spain.58.desc
	picture = GFX_report_event_generic_sign_treaty2
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.58" }
	
	option = { # Damn
		name = lar_spain.58.a
	}
}


# A Red Iberia - Event for Portugal
country_event = {
	id = lar_spain.59
	title = lar_spain.59.t
	desc = lar_spain.59.desc
	picture = GFX_report_event_generic_parliament
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.59" }
	
	option = { # Accept
		name = lar_spain.59.a
		ai_chance = {
			base = 50
		}
		effect_tooltip = {
			FROM = {
				annex_country = { target = ROOT transfer_troops = yes }
			}
		}
		hidden_effect = {
			FROM = {
				country_event = { id = lar_spain.60 }
			}
		}
		custom_effect_tooltip = GAME_OVER_TT
	}

	option = { # Decline
		name = lar_spain.59.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				focus_progress = {
				    focus = POR_the_iberian_socialist_union
				    progress > 0
				}
			}
			modifier = {
				factor = 0.8
				strength_ratio = { tag = FROM ratio < 0.5 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = FROM value > 99 }
			}
			modifier = {
				factor = 0.8
				strength_ratio = { tag = FROM ratio < 0.3 }
			}
			modifier = {
				factor = 0.8
				strength_ratio = { tag = FROM ratio < 0.2 }
			}
			modifier = {
				factor = 0
				strength_ratio = { tag = FROM ratio < 0.1 }
			}
			modifier = {
				factor = 0.8
				NOT = { has_war_with = FROM }
				has_war = yes
				surrender_progress > 0
			}
			modifier = {
				factor = 0.5
				NOT = { has_war_with = FROM }
				has_war = yes
				surrender_progress > 0.3
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = FROM ratio < 0.2 }
			}
			modifier = {
				factor = 0
				NOT = { has_war_with = FROM }
				has_war = yes
				surrender_progress > 0.5
			}
		}
		effect_tooltip = {
			FROM = {
				create_wargoal = {
					type = annex_everything
					target = ROOT
				}
			}
		}
		hidden_effect = {
			FROM = {
				country_event = { id = lar_spain.61 }
			}
		}
	}
}

# A Red Iberia - Event for Spain - Portugal Accepted
country_event = {
	id = lar_spain.60
	title = lar_spain.60.t
	desc = lar_spain.60.desc
	picture = GFX_report_event_generic_sign_treaty3
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.60" }
	
	option = { # Ok
		name = lar_spain.60.a
		set_cosmetic_tag = ESU_POR_unified
		every_state = {
			limit = {
				is_core_of = POR
			}
			add_core_of = ROOT
		}
		annex_country = { target = FROM transfer_troops = yes }
	}
}

# A Red Iberia - Event for Spain - Portugal Declined
country_event = {
	id = lar_spain.61
	title = lar_spain.61.t
	desc = lar_spain.61.desc
	picture = GFX_report_event_generic_sign_treaty2
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.60" }
	
	option = { # Damn
		name = lar_spain.61.a
		create_wargoal = {
			type = annex_everything
			target = FROM
		}
	}
}


# Support French Communists - Event for France
country_event = {
	id = lar_spain.62
	title = lar_spain.62.t
	desc = lar_spain.62.desc
	picture = GFX_report_event_generic_riot
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.62" }
	
	option = { # Ok :'(
		name = lar_spain.62.a
		hidden_effect = {
			if = {
				limit = {
					communism > 0.4
				}
				start_civil_war = {
				    ideology = communism
				    size = 0.3
				    keep_unit_leaders_trigger = {
				    	always = yes
				    }
				}
			}
			else_if = {
				limit = {
					communism > 0.3
				}
				start_civil_war = {
				    ideology = communism
				    size = 0.2
				    keep_unit_leaders_trigger = {
				    	always = yes
				    }
				}
			}
			else = {
				start_civil_war = {
				    ideology = communism
				    size = 0.1
				    keep_unit_leaders_trigger = {
				    	always = yes
				    }
				}
			}
			FROM = {
				country_event = { id = lar_spain.63 }
			}
		}
	}
}

# Support French Communists - Event for Spain
country_event = {
	id = lar_spain.63
	title = lar_spain.63.t
	desc = lar_spain.63.desc
	picture = GFX_report_event_generic_riot
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.63" }
	
	option = { # Ok
		name = lar_spain.63.a
		random_country = {
			limit = {
				original_tag = FROM
				has_government = communism
				NOT = { tag = FROM }
			}
			SPR = {
				puppet = PREV
				add_to_war = { 
				    targeted_alliance = PREV
				    enemy = FROM
				    hostility_reason = asked_to_join
				}
			}
		}
	}
}


# Petition for French Aid - Event for France
country_event = {
	id = lar_spain.64
	title = lar_spain.64.t
	desc = lar_spain.64.desc
	picture = GFX_report_event_spr_no_pasaran
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.64" }
	
	option = { # Accept
		name = lar_spain.64.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.5
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 0.2
				has_country_flag = FRA_non_intervention
			}
		}
		add_political_power = -50
		add_popularity = {
			ideology = communism
			popularity = 0.1
		}
		add_timed_idea = { idea = SPR_equipment_shipments days = 730 }
		add_opinion_modifier = { target = FROM modifier = SPA_spanish_civil_war_commitments }
		FROM = {
			add_war_support = 0.15
		}
		add_ai_strategy = { type = send_lend_lease_desire id = SPR value = 100 }
		hidden_effect = {
			FROM = {
				country_event = { id = lar_spain.65 }
			}
		}
	}

	option = { # Decline
		name = lar_spain.64.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_country_flag = FRA_arms_purchases_allowed
					has_country_flag = FRA_sending_weapons_allowed
					has_country_flag = FRA_volunteer_work_allowed
				}
			}
		}
		hidden_effect = {
			FROM = {
				country_event = { id = lar_spain.66 }
			}
		}
	}
}

# Petition for French Aid - Event for Spain - France Accepted
country_event = {
	id = lar_spain.65
	title = lar_spain.65.t
	desc = lar_spain.65.desc
	picture = GFX_report_event_spr_no_pasaran
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.65" }
	
	option = { # Ok
		name = lar_spain.65.a
		effect_tooltip = { FROM = { add_opinion_modifier = { target = ROOT modifier = SPA_spanish_civil_war_commitments } } }
		add_war_support = 0.15
	}
}

# Petition for French Aid - Event for Spain - France Declined
country_event = {
	id = lar_spain.66
	title = lar_spain.66.t
	desc = lar_spain.66.desc
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.66" }
	
	option = { # Damn
		name = lar_spain.66.a
	}
}


# War of Independence - Event for SOV
country_event = {
	id = lar_spain.67
	title = lar_spain.67.t
	desc = lar_spain.67.desc
	picture = GFX_report_event_generic_parliament
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.67" }
	immediate = {
		end_puppet = FROM
		remove_from_faction = FROM
	}
	
	option = { # Ok
		name = lar_spain.67.a
		ai_chance = {
			base = 100
			modifier = {
				factor = 0.33
				any_of_scopes = {
					array = global.majors
					has_war_with = ROOT
				}
			}
			modifier = {
				factor = 0
				surrender_progress > 0.1
			}
		}
		effect_tooltip = {
			end_puppet = FROM
			remove_from_faction = FROM
		}
		FROM = {
			declare_war_on = {
			    target = ROOT
			    type = topple_government
			}
		}
		hidden_effect = { FROM = { news_event = { id = lar_news.20 hours = 6 } } }
	}

	option = { # Let them have their independence
		name = lar_spain.67.b
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				any_of_scopes = {
					array = global.majors
					has_war_with = ROOT
				}
			}
			modifier = {
				add = 100
				has_country_flag = SOV_give_them_independence_flag
			}
		}
		effect_tooltip = {
			end_puppet = FROM
			remove_from_faction = FROM
		}
		delete_unit_template_and_units = {
			division_template = "Spanish Loyalist Division"
		}
		if = {
			limit = {
				has_country_flag = SOV_annexed_spanish_land
			}
			FROM = {
				transfer_state = 165
				transfer_state = 167
				transfer_state = 794
			}
		}
		FROM = { country_event = lar_spain.89 }
	}
}

# Those Who Would Not Help Us - Event for USA/ENG/FRA
country_event = {
	id = lar_spain.68
	title = lar_spain.68.t
	desc = lar_spain.68.desc
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.68" }
	
	option = { # Accept
		name = lar_spain.68.a
		ai_chance = {
			base = 75
		}
		add_timed_idea = { idea = SPR_equipment_shipments days = 730 }
		add_ai_strategy = { type = send_lend_lease_desire id = SPR value = 100 }
		hidden_effect = {
			FROM = {
				country_event = { id = lar_spain.69 }
			}
		}
	}

	option = { # Decline
		name = lar_spain.68.b
		ai_chance = {
			base = 25
			modifier = {
				factor = 0.5
				has_opinion = { target = FROM value > 99 }
			}
			modifier = {
				factor = 0
				has_war_with = SOV
			}
		}
		hidden_effect = {
			FROM = {
				country_event = { id = lar_spain.70 }
			}
		}
	}
}

# Those Who Would Not Help Us - Event for Spain - FROM Accepted
country_event = {
	id = lar_spain.69
	title = lar_spain.69.t
	desc = lar_spain.69.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.69" }
	
	option = { # Ok
		name = lar_spain.69.a
		effect_tooltip = {
			FROM = { add_timed_idea = { idea = SPR_equipment_shipments days = 730 } }
		}
	}
}

# Those Who Would Not Help Us - Event for Spain - FROM Declined
country_event = {
	id = lar_spain.70
	title = lar_spain.70.t
	desc = lar_spain.70.desc
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.70" }
	
	option = { # Damn
		name = lar_spain.70.a
	}
}


# Enemies of Our Enemy - Event for GER/ITA
country_event = {
	id = lar_spain.71
	title = lar_spain.71.t
	desc = lar_spain.71.desc
	picture = GFX_report_event_generic_parliament
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.71" }
	
	option = { # Accept
		name = lar_spain.71.a
		ai_chance = {
			base = 75
		}
		diplomatic_relation = {
		    country = FROM
		    relation = non_aggression_pact
		    active = yes
		}
		hidden_effect = {
			FROM = {
				country_event = { id = lar_spain.72 }
			}
		}
	}

	option = { # Decline
		name = lar_spain.71.b
		ai_chance = {
			base = 25
			modifier = {
				factor = 0.5
				has_opinion = { target = FROM value > 99 }
			}
			modifier = {
				factor = 0
				has_war_with = SOV
			}
		}
		hidden_effect = {
			FROM = {
				country_event = { id = lar_spain.73 }
			}
		}
	}
}

# Enemies of Our Enemy - Event for Spain - FROM Accepted
country_event = {
	id = lar_spain.72
	title = lar_spain.72.t
	desc = lar_spain.72.desc
	picture = GFX_report_event_generic_sign_treaty3
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.72" }
	
	option = { # Ok
		name = lar_spain.72.a
		effect_tooltip = {
			FROM = {
				diplomatic_relation = {
				    country = ROOT
				    relation = non_aggression_pact
				    active = yes
				}
			}
		}
	}
}

# Enemies of Our Enemy - Event for Spain - FROM Declined
country_event = {
	id = lar_spain.73
	title = lar_spain.73.t
	desc = lar_spain.73.desc
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.73" }
	
	option = { # Damn
		name = lar_spain.73.a
	}
}

# Enemies of Our Enemy - Event for GER
country_event = {
	id = lar_spain.74
	title = lar_spain.74.t
	desc = lar_spain.74.desc
	picture = GFX_report_event_generic_parliament
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.74" }
	
	option = { # Accept
		name = lar_spain.74.a
		ai_chance = {
			base = 75
		}
		army_experience = -25
		effect_tooltip = {
			FROM = {
				add_timed_idea = { idea = SPR_deal_with_the_devil days = 730 }
			}
		}
		hidden_effect = {
			FROM = {
				country_event = { id = lar_spain.75 }
			}
		}
	}

	option = { # Decline
		name = lar_spain.74.b
		ai_chance = {
			base = 25
			modifier = {
				factor = 0.5
				has_opinion = { target = FROM value > 99 }
			}
			modifier = {
				factor = 0
				has_war_with = SOV
			}
		}
		hidden_effect = {
			FROM = {
				country_event = { id = lar_spain.76 }
			}
		}
	}
}

# Enemies of Our Enemy - Event for Spain - FROM Accepted
country_event = {
	id = lar_spain.75
	title = lar_spain.75.t
	desc = lar_spain.75.desc
	picture = GFX_report_event_generic_sign_treaty2
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.75" }
	
	option = { # Ok
		name = lar_spain.75.a
		add_timed_idea = { idea = SPR_deal_with_the_devil days = 730 }
	}
}

# Enemies of Our Enemy - Event for Spain - FROM Declined
country_event = {
	id = lar_spain.76
	title = lar_spain.76.t
	desc = lar_spain.76.desc
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.76" }
	
	option = { # Damn
		name = lar_spain.76.a
	}
}

# End of SCW, Republicans expanded Soviet aid - event for SOV
country_event = {
	id = lar_spain.81
	title = lar_spain.81.t
	desc = lar_spain.81.desc
	picture = GFX_report_generic_parliament
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.81" }
	
	option = { # Ok
		name = lar_spain.81.a
		effect_tooltip = {
			puppet = SPR
		}
	}
}

# End of SCW, Republicans expanded Soviet aid - event for SPR
country_event = {
	id = lar_spain.82
	title = lar_spain.82.t
	desc = lar_spain.82.desc
	picture = GFX_report_generic_parliament
	
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.82" }

	immediate = {
		hidden_effect = {
			if = {
				limit = {
					has_government = democratic
				}
				set_country_flag = SPR_democratic_government_flag
			}
			set_temp_variable = {
				var = soviet_puppet_democratic_var
				value = party_popularity@democratic
			}
			SOV = { puppet = SPR }
			if = {
				limit = {
					has_country_flag = SPR_democratic_government_flag
				}
				set_politics = {
					ruling_party = democratic
				}
				clr_country_flag = SPR_democratic_government_flag
			}
			set_political_party = {
			    ideology = communism
			    popularity = 100
			}
			add_popularity = {
			    ideology = democratic
			    popularity = soviet_puppet_democratic_var
			}
		}
	}
	
	option = { # Ok
		name = lar_spain.82.a
		effect_tooltip = {
			SOV = { puppet = SPR }
		}
	}
}

# Soviets get notification SPR is being disloyal
country_event = {
	id = lar_spain.83
	title = lar_spain.83.t
	desc = lar_spain.83.desc
	picture = GFX_report_generic_parliament

	trigger = {
		tag = SOV
		any_country_with_original_tag = {
			original_tag_to_check = SPR
			focus_progress = {
			    focus = SPR_subvert_soviet_control
			    progress > 0.1
			}
		}
	}

	mean_time_to_happen = {
		days = 2
	}

	fire_only_once = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.83" }

	option = { # We must act!
		name = lar_spain.83.a
		ai_chance = {
			base = 100
			modifier = {
				factor = 0.33
				any_of_scopes = {
					array = global.majors
					has_war_with = ROOT
				}
			}
			modifier = {
				factor = 0
				surrender_progress > 0.1
			}
		}
		set_country_flag = SOV_annexed_spanish_land
		transfer_state = 165
		transfer_state = 167
		transfer_state = 794
		hidden_effect = { SPR = { country_event = { id = lar_spain.84 } } }
		division_template = {
			name = "Spanish Loyalist Division"
			priority = 1
			division_names_group = SOV_INF_01
			is_locked = yes
			regiments = {
				infantry = { x = 0 y = 0 }
				infantry = { x = 0 y = 1 }
				infantry = { x = 0 y = 2 }
				infantry = { x = 1 y = 0 }
				infantry = { x = 1 y = 1 }
				infantry = { x = 1 y = 2 }
			}
		}
		# Catalonia
		165 = {
			create_unit = {
				division = "name = \"1. Spanish Loyalist Division\" division_template = \"Spanish Loyalist Division\" start_experience_factor = 0.1" 
				owner = ROOT
			}
			create_unit = {
				division = "name = \"2. Spanish Loyalist Division\" division_template = \"Spanish Loyalist Division\" start_experience_factor = 0.1" 
				owner = ROOT
			}
		}
		# Valencia
		167 = {
			create_unit = {
				division = "name = \"3. Spanish Loyalist Division\" division_template = \"Spanish Loyalist Division\" start_experience_factor = 0.1" 
				owner = ROOT
			}
			create_unit = {
				division = "name = \"4. Spanish Loyalist Division\" division_template = \"Spanish Loyalist Division\" start_experience_factor = 0.1" 
				owner = ROOT
			}
			create_unit = {
				division = "name = \"5. Spanish Loyalist Division\" division_template = \"Spanish Loyalist Division\" start_experience_factor = 0.1" 
				owner = ROOT
			}
			create_unit = {
				division = "name = \"6. Spanish Loyalist Division\" division_template = \"Spanish Loyalist Division\" start_experience_factor = 0.1" 
				owner = ROOT
			}
			create_unit = {
				division = "name = \"7. Spanish Loyalist Division\" division_template = \"Spanish Loyalist Division\" start_experience_factor = 0.1" 
				owner = ROOT
			}
		}
		 # Eastern Aragon
		794 = {
			create_unit = {
				division = "name = \"8. Spanish Loyalist Division\" division_template = \"Spanish Loyalist Division\" start_experience_factor = 0.1" 
				owner = ROOT
			}
			create_unit = {
				division = "name = \"9. Spanish Loyalist Division\" division_template = \"Spanish Loyalist Division\" start_experience_factor = 0.1" 
				owner = ROOT
			}
			create_unit = {
				division = "name = \"10. Spanish Loyalist Division\" division_template = \"Spanish Loyalist Division\" start_experience_factor = 0.1" 
				owner = ROOT
			}
			create_unit = {
				division = "name = \"11. Spanish Loyalist Division\" division_template = \"Spanish Loyalist Division\" start_experience_factor = 0.1" 
				owner = ROOT
			}
			create_unit = {
				division = "name = \"12. Spanish Loyalist Division\" division_template = \"Spanish Loyalist Division\" start_experience_factor = 0.1" 
				owner = ROOT
			}
			create_unit = {
				division = "name = \"13. Spanish Loyalist Division\" division_template = \"Spanish Loyalist Division\" start_experience_factor = 0.1" 
				owner = ROOT
			}
			create_unit = {
				division = "name = \"14. Spanish Loyalist Division\" division_template = \"Spanish Loyalist Division\" start_experience_factor = 0.1" 
				owner = ROOT
			}
			create_unit = {
				division = "name = \"15. Spanish Loyalist Division\" division_template = \"Spanish Loyalist Division\" start_experience_factor = 0.1" 
				owner = ROOT
			}
			create_unit = {
				division = "name = \"16. Spanish Loyalist Division\" division_template = \"Spanish Loyalist Division\" start_experience_factor = 0.1" 
				owner = ROOT
			}
		}
	}

	option = { # Everything will be fine
		name = lar_spain.83.b
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				any_of_scopes = {
					array = global.majors
					has_war_with = ROOT
				}
			}
		}
		set_country_flag = SOV_give_them_independence_flag
		add_political_power = -50
	}
}

# Event for SPR that Soviets are seizing land
country_event = {
	id = lar_spain.84
	title = lar_spain.84.t
	desc = lar_spain.84.desc
	picture = GFX_report_event_soviet_army_greeted

	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.84" }

	option = { # Bastards!
		name = lar_spain.84.a
		set_country_flag = SOV_took_spanish_states
		effect_tooltip = {
			SOV = {
				transfer_state = 165
				transfer_state = 167
				transfer_state = 794
			}
		}
	}
}

# SPR has Catalonia returned
country_event = {
	id = lar_spain.85
	title = lar_spain.85.t
	desc = lar_spain.85.desc
	picture = GFX_report_event_soldiers_marching

	trigger = {
		original_tag = SPR
		has_completed_focus = SPR_war_of_independence
		has_country_flag = SOV_took_spanish_states
		has_war_with = SOV
		SOV = { owns_state = 165 }
		has_full_control_of_state = 165
	}

	mean_time_to_happen = {
		days = 2
	}

	fire_only_once = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.85" }
	immediate = {
		hidden_effect = {
			165 = { save_event_target_as = SPR_stolen_state_name }
		}
	}

	option = { # Excellent!
		name = lar_spain.85.a
		transfer_state = 165
		hidden_effect = { SOV = { country_event = { id = lar_spain.88 } } }
	}
}

# SPR has Valencia returned
country_event = {
	id = lar_spain.86
	title = lar_spain.85.t
	desc = lar_spain.85.desc
	picture = GFX_report_event_soldiers_marching

	trigger = {
		original_tag = SPR
		has_completed_focus = SPR_war_of_independence
		has_country_flag = SOV_took_spanish_states
		has_war_with = SOV
		SOV = { owns_state = 167 }
		has_full_control_of_state = 167
	}

	mean_time_to_happen = {
		days = 2
	}

	fire_only_once = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.86" }
	immediate = {
		hidden_effect = {
			167 = { save_event_target_as = SPR_stolen_state_name }
		}
	}

	option = { # Excellent!
		name = lar_spain.85.a
		transfer_state = 167
		hidden_effect = { SOV = { country_event = { id = lar_spain.88 } } }
	}
}

# SPR has Eastern Aragon returned
country_event = {
	id = lar_spain.87
	title = lar_spain.85.t
	desc = lar_spain.85.desc
	picture = GFX_report_event_soldiers_marching

	trigger = {
		original_tag = SPR
		has_completed_focus = SPR_war_of_independence
		has_country_flag = SOV_took_spanish_states
		has_war_with = SOV
		SOV = { owns_state = 794 }
		has_full_control_of_state = 794
	}

	mean_time_to_happen = {
		days = 2
	}

	fire_only_once = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.87" }
	immediate = {
		hidden_effect = {
			794 = { save_event_target_as = SPR_stolen_state_name }
		}
	}

	option = { # Excellent!
		name = lar_spain.85.a
		transfer_state = 794
		hidden_effect = { SOV = { country_event = { id = lar_spain.88 } } }
	}
}

# Event for SOV informing them of losing a state to SPR
country_event = {
	id = lar_spain.88
	title = lar_spain.88.t
	desc = lar_spain.88.desc
	picture = GFX_report_event_soldiers_marching

	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.88" }

	option = { # Excellent!
		name = lar_spain.88.a
		effect_tooltip = { FROM = { transfer_state = event_target:SPR_stolen_state_name } }
	}
}

# Event for SPR that Soviets are giving them independence
country_event = {
	id = lar_spain.89
	title = lar_spain.89.t
	desc = lar_spain.89.desc
	picture = GFX_report_event_soviet_army_greeted

	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event lar_spain.89" }

	option = { # Ok
		name = lar_spain.89.a
		if = {
			limit = {
				SOV = { has_country_flag = SOV_annexed_spanish_land }
			}
			SOV = { clr_country_flag = SOV_annexed_spanish_land }
			effect_tooltip = {
				FROM = {
					transfer_state = 165
					transfer_state = 167
					transfer_state = 794
				}
			}
		}
	}
}


#Юниты каталонии
country_event = {
	id = NWspain.901
	title = NWspain.901.t
	desc = NWspain.901.desc
	picture = GFX_report_event_ger_civil_war
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = NWspain.901.a
		division_template = {
			name = "Anarchist Column"
			priority = 1
			is_locked = no
			regiments = {
				infantry = { x = 0 y = 0 }
				infantry = { x = 0 y = 1 }
				infantry = { x = 0 y = 2 }
				infantry = { x = 0 y = 3 }
			}
		}
		random_owned_state = {
			create_unit = {
				division = "name = \"Anarchist Column\" division_template = \"Anarchist Column\" start_experience_factor = 0.4" 
				owner = CAT
				count = 11
				allow_spawning_on_enemy_provs = yes
			}
		}
		random_list = {
			0 = {
				CAT = {
					every_owned_state = {
						create_unit = {
							division = "name = \"10. Anarchist Column\" division_template = \"Anarchist Column\" start_experience_factor = 0.4" 
							owner = CAT
						}
					}
				}
			}
			85 = {
			}
		}
	}
}

#Юниты Басков
country_event = {
	id = NWspain.902
	title = NWspain.902.t
	desc = NWspain.902.desc
	picture = GFX_report_event_ger_civil_war
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = NWspain.902.a
		division_template = {
			name = "Euzko Gudarosteko Eskuadroia"
			priority = 1
			is_locked = no
			division_names_group = SPD_INF_05
			regiments = {
			infantry = { x = 0 y = 0 }
			infantry = { x = 0 y = 1 }
			infantry = { x = 0 y = 2 }
			}
		}
		random_owned_state = {
			create_unit = {
				division = "name = \"Euzko Gudarosteko Eskuadroia\" division_template = \"Euzko Gudarosteko Eskuadroia\" start_experience_factor = 0.4" 
				owner = BAS
				count = 4
				allow_spawning_on_enemy_provs = yes
			}
		}
		transfer_ship = {
	        prefer_name = "ARE José Luis Díez"
	        type = destroyer
		    target = BAS
	    }
	}
}

#Юниты Галисии
country_event = {
	id = NWspain.903
	title = NWspain.903.t
	desc = NWspain.903.desc
	picture = GFX_report_event_ger_civil_war
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = NWspain.903.a
		division_template = {
			name = "Galician Brigada"
			priority = 1
			is_locked = no
			regiments = {
				infantry = { x = 0 y = 0 }
				infantry = { x = 0 y = 1 }
				infantry = { x = 0 y = 2 }
			}
		}
		random_owned_state = {
			create_unit = {
				division = "name = \"Galician Brigada\" division_template = \"Galician Brigada\" start_experience_factor = 0.4" 
				owner = GLC
				count = 4
				allow_spawning_on_enemy_provs = yes
			}
		}
	}
}

#Юниты Астурии
country_event = {
	id = NWspain.904
	title = NWspain.904.t
	desc = NWspain.904.desc
	picture = GFX_report_event_ger_civil_war
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = NWspain.904.a
		division_template = {
			name = "Asturian Brigada"
			priority = 1
			is_locked = no
			regiments = {
				infantry = { x = 0 y = 0 }
				infantry = { x = 0 y = 1 }
				infantry = { x = 0 y = 2 }
			}
		}
		random_owned_state = {
			create_unit = {
				division = "name = \"Asturian Brigada\" division_template = \"Asturian Brigada\" start_experience_factor = 0.4" 
				owner = ASU
				count = 4
				allow_spawning_on_enemy_provs = yes
			}
		}
	}
}

#Юниты Сантадора
country_event = {
	id = NWspain.905
	title = NWspain.905.t
	desc = NWspain.905.desc
	picture = GFX_report_event_ger_civil_war
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = NWspain.905.a
		division_template = {
			name = "Santador Brigada"
			priority = 1
			is_locked = no
			regiments = {
				infantry = { x = 0 y = 0 }
				infantry = { x = 0 y = 1 }
				infantry = { x = 0 y = 2 }
			}
		}
		random_owned_state = {
			create_unit = {
				division = "name = \"Santador Brigada\" division_template = \"Santador Brigada\" start_experience_factor = 0.4" 
				owner = SNT
				count = 4
				allow_spawning_on_enemy_provs = yes
			}
		}
	}
}

#Юниты Валенсии
country_event = {
	id = NWspain.906
	title = NWspain.906.t
	desc = NWspain.906.desc
	picture = GFX_report_event_ger_civil_war
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = NWspain.906.a
		division_template = {
			name = "Valensia Brigada"
			priority = 1
			is_locked = no
			regiments = {
				infantry = { x = 0 y = 0 }
				infantry = { x = 0 y = 1 }
				infantry = { x = 0 y = 2 }
			}
		}
		random_owned_state = {
			create_unit = {
				division = "name = \"Valensia Brigada\" division_template = \"Valensia Brigada\" start_experience_factor = 0.4" 
				owner = VLA
				count = 4
				allow_spawning_on_enemy_provs = yes
			}
		}
	}
}

country_event = {
	id = NWspain.998
	title = NWspain.905.t
	desc = NWspain.905.desc
	picture = GFX_report_event_ger_civil_war
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = NWspain.905.a
		every_state = {
			limit = { is_claimed_by = ROOT }
			ROOT = { transfer_state = PREV }
		}
	}
	
	option = {
		name = NWspain.905.b
		set_country_flag = SPR_guarantee_autonomy_minorities_cat_flag
	}
	
	option = {
		name = NWspain.905.c
		SPA = {
			kill_country_leader = yes
			create_country_leader = {
				name = "Manuel Hedilla"
				desc = "POLITICS_MANUEL_HEDILLA_DESC"
				picture = "gfx/leaders/SPR/Portrait_Manuel_Hedilla.dds"
				expire = "1965.1.1"
				ideology = falangism
				traits = {
				    falangist_syndicalist
				}
			}
		}
	}
}



#ОТЛАДКА
country_event = {
	id = NWspain.999
	title = "TEST EVENT"
	desc = ""
	picture = GFX_report_event_ger_civil_war
	is_triggered_only = yes

	option = {
		name = "MAX AGRESSIVE"
		SPR = {
			set_variable = { f_agressive_level_var = 1 }
			set_variable = { f_influence_level_var = 3 }
			set_variable = { karl_agressive_level_var = 1 }
			set_variable = { karl_influence_level_var = 3 }
			set_variable = { nk_agressive_level_var = 1 }
			set_variable = { nk_influence_level_var = 3 }
			set_variable = { comm_agressive_level_var = 1 }
			set_variable = { comm_influence_level_var = 3 }
			set_variable = { sd_agressive_level_var = 1 }
			set_variable = { sd_influence_level_var = 3 }
			set_variable = { a_agressive_level_var = 1 }
			set_variable = { a_influence_level_var = 3 }
		}
	}
	
	option = {
		name = "LIBERAL WIN"
		set_global_flag = SPR_liberal_win_flag
	}
	
	option = {
		name = "КЕК"
		SOV = {
			every_owned_state = {
				PREV = { delete_unit = { state = PREV } }
			}
			add_ai_strategy = { type = build_army id = cavalry value = -6000 }
			add_ai_strategy = { type = build_army id = garrison value = -6000 }
			add_ai_strategy = { type = build_army id = paratroopers value = -6000 }
			add_ai_strategy = { type = build_army id = mountaineers value = -6000 }
			add_ai_strategy = { type = build_army id = marines value = -6000 }
			add_ai_strategy = { type = build_army id = armor value = -6000 }
			add_ai_strategy = { type = build_army id = light_armor value = -6000 }
			add_ai_strategy = { type = build_army id = heavy_armor value = -6000 }
			add_ai_strategy = { type = build_army id = medium_armor value = -6000 }
			add_ai_strategy = { type = build_army id = modern_armor value = -6000 }
			add_ai_strategy = { type = build_army id = infantry value = -6000 }
			set_cosmetic_tag = TUR_dictatorship_tag
		}
		every_country = {
			limit = {
				NOT = {
					tag = SPR
					tag = CAS
					tag = NAV
					tag = SEU
					tag = SPC
					tag = ANL
					tag = ARA
					tag = ASU
					tag = SNT
					tag = CAT
					tag = BAS
					tag = GLC
					tag = VLA
					tag = TNR
				}
			}
			SOV = {
				annex_country = {
					target = PREV
					transfer_troops = no
				}
			}
		}
	}
	
	option = {
		name = "TOTAL WAR BLAT"
		SPR = {
			ASU = {
				transfer_state = 790
				set_popularities = {
					democratic = 43
					communism = 10
					monarchy = 47
				}
				set_politics = {
					ruling_party = democratic
					last_election = "1935.1.1"
					election_frequency = 36
					elections_allowed = yes
				}
			}
			SNT = {
				transfer_state = 982
				set_popularities = {
					democratic = 20
					neutrality = 60
					fascism = 20
				}
				set_politics = {
					ruling_party = neutrality
					elections_allowed = no
				}
			}
			CAT = {
				transfer_state = 165
				set_country_flag = catalonia_focus_democrat_flag
				load_focus_tree = catalonia_focus_democrat
				set_popularities = {
					neutrality = 17
					trozkism = 53
					anarchism = 30
				}
				set_politics = {
					ruling_party = trozkism
					election_frequency = 36
					elections_allowed = yes
				}
			}
			ARA = {
				transfer_state = 166
				transfer_state = 794
				set_country_flag = aragon_focus_anarchist_flag
				load_focus_tree = aragon_focus_anarchist
				add_ideas = SPR_disbanded_army_1
				set_popularities = {
					democratic = 10
					monarchy = 5
					neutrality = 17
					trozkism = 3
					communism = 15
					anarchism = 50
				}
				set_politics = {
					ruling_party = anarchism
					elections_allowed = no
				}
			}
			BAS = {
				transfer_state = 792
				set_popularities = {
					democratic = 5
					neutrality = 75
					trozkism = 5
					communism = 15
				}
				set_politics = {
					ruling_party = neutrality
					elections_allowed = no
				}
			}
			GLC = {
				transfer_state = 171
				set_popularities = {
					democratic = 44
					monarchy = 1
					neutrality = 44
					communism = 11
				}
				set_politics = {
					ruling_party = neutrality
					elections_allowed = no
				}
			}
			CAS = { transfer_state = 176 }
			NAV = { transfer_state = 172 }
			SEU = {
				transfer_state = 290
				transfer_state = 175
				transfer_state = 41
				set_capital = { state =  41 }
			}
			SPC = { transfer_state = 170 }
			ANL = {
				transfer_state = 169
				transfer_state = 173
			}
			VLA = {
				transfer_state = 167
				set_popularities = {
					democratic = 50
					communism = 15
					neutrality = 20
					anarchism = 15
				}
				set_politics = {
					ruling_party = democratic
					last_election = "1935.1.1"
					election_frequency = 36
					elections_allowed = yes
				}
			}
		
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 10000
			}
			if = {
				limit = { NOT = {  has_template = "Militia Brigada" } }
				division_template = {
					name = "Militia Brigada"
					is_locked = no
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 0 y = 3 }
					}
				}
			}
			set_stability = 0.5
			set_war_support = 0.5
			country_event = { id = NWspain.9991 hours = 3 }
			country_event = { id = NWspain.9992 days = 3 }
			country_event = { id = NWspain.9993 hours = 6 }
		}
	}
}

country_event = {
	id = NWspain.9991
	title = NWspain.9991.t
	desc = NWspain.9991.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	hidden = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.9991" }
	
	option = {
		name = "11"
		CAT = {
			give_rifles_and_template = yes
			capital_scope = {
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
			}
		}
		BAS = {
			give_rifles_and_template = yes
			capital_scope = {
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
			}
		}
		ARA = {
			give_rifles_and_template = yes
			capital_scope = {
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
			}
		}
		GLC = {
			give_rifles_and_template = yes
			capital_scope = {
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
			}
		}
		ASU = {
			give_rifles_and_template = yes
			capital_scope = {
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
			}
		}
		SNT = {
			give_rifles_and_template = yes
			capital_scope = {
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
			}
		}
		CAS = {
			give_rifles_and_template = yes
			capital_scope = {
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
			}
		}
		NAV = {
			give_rifles_and_template = yes
			capital_scope = {
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
			}
		}
		SEU = {
			give_rifles_and_template = yes
			capital_scope = {
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
			}
		}
		SPC = {
			give_rifles_and_template = yes
			capital_scope = {
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
			}
		}
		ANL = {
			give_rifles_and_template = yes
			capital_scope = {
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
			}
		}
		VLA = {
			give_rifles_and_template = yes
			capital_scope = {
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
			}
		}
		SPR = {
			capital_scope = {
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
				spawn_five_divisions = yes
			}
			add_threat = -5
		}
	}
}

country_event = {
	id = NWspain.9992
	title = NWspain.9992.t
	desc = NWspain.9992.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	hidden = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.9992" }
	
	option = {
		name = NWspain.9992.a
		if = {
			limit = {
				country_exists = EQG
				EQG = { is_subject = no }
			}
			EQG = {
				if = {
					limit = { country_exists = CAT NOT = { has_war_with = CAT } }
					declare_war_on = {
						target = CAT
						type = civil_war
					}
					add_civil_war_target = CAT
				}
				if = {
					limit = { country_exists = BAS NOT = { has_war_with = BAS } }
					declare_war_on = {
						target = BAS
						type = civil_war
					}
					add_civil_war_target = BAS
				}
				if = {
					limit = { country_exists = ARA NOT = { has_war_with = ARA } }
					declare_war_on = {
						target = ARA
						type = civil_war
					}
					add_civil_war_target = ARA
				}
				if = {
					limit = { country_exists = GLC NOT = { has_war_with = GLC } }
					declare_war_on = {
						target = GLC
						type = civil_war
					}
					add_civil_war_target = GLC
				}
				if = {
					limit = { country_exists = ASU NOT = { has_war_with = ASU } }
					declare_war_on = {
						target = ASU
						type = civil_war
					}
					add_civil_war_target = ASU
				}
				if = {
					limit = { country_exists = SNT NOT = { has_war_with = SNT } }
					declare_war_on = {
						target = SNT
						type = civil_war
					}
					add_civil_war_target = SNT
				}
				if = {
					limit = { country_exists = CAS NOT = { has_war_with = CAS } }
					declare_war_on = {
						target = CAS
						type = civil_war
					}
					add_civil_war_target = CAS
				}
				if = {
					limit = { country_exists = NAV NOT = { has_war_with = NAV } }
					declare_war_on = {
						target = NAV
						type = civil_war
					}
					add_civil_war_target = NAV
				}
				if = {
					limit = { country_exists = SEU NOT = { has_war_with = SEU } }
					declare_war_on = {
						target = SEU
						type = civil_war
					}
					add_civil_war_target = SEU
				}
				if = {
					limit = { country_exists = SPC NOT = { has_war_with = SPC } }
					declare_war_on = {
						target = SPC
						type = civil_war
					}
					add_civil_war_target = SPC
				}
				if = {
					limit = { country_exists = ANL NOT = { has_war_with = ANL } }
					declare_war_on = {
						target = ANL
						type = civil_war
					}
					add_civil_war_target = ANL
				}
				if = {
					limit = { country_exists = VLA NOT = { has_war_with = VLA } }
					declare_war_on = {
						target = VLA
						type = civil_war
					}
					add_civil_war_target = VLA
				}
				if = {
					limit = { country_exists = SPR NOT = { has_war_with = SPR } }
					declare_war_on = {
						target = SPR
						type = civil_war
					}
					add_civil_war_target = SPR
				}
			}
		}
		if = {
			limit = {
				country_exists = WES
				WES = { is_subject = no }
			}
			WES = {
				if = {
					limit = { country_exists = CAT NOT = { has_war_with = CAT } }
					declare_war_on = {
						target = CAT
						type = civil_war
					}
					add_civil_war_target = CAT
				}
				if = {
					limit = { country_exists = BAS NOT = { has_war_with = BAS } }
					declare_war_on = {
						target = BAS
						type = civil_war
					}
					add_civil_war_target = BAS
				}
				if = {
					limit = { country_exists = ARA NOT = { has_war_with = ARA } }
					declare_war_on = {
						target = ARA
						type = civil_war
					}
					add_civil_war_target = ARA
				}
				if = {
					limit = { country_exists = GLC NOT = { has_war_with = GLC } }
					declare_war_on = {
						target = GLC
						type = civil_war
					}
					add_civil_war_target = GLC
				}
				if = {
					limit = { country_exists = ASU NOT = { has_war_with = ASU } }
					declare_war_on = {
						target = ASU
						type = civil_war
					}
					add_civil_war_target = ASU
				}
				if = {
					limit = { country_exists = SNT NOT = { has_war_with = SNT } }
					declare_war_on = {
						target = SNT
						type = civil_war
					}
					add_civil_war_target = SNT
				}
				if = {
					limit = { country_exists = CAS NOT = { has_war_with = CAS } }
					declare_war_on = {
						target = CAS
						type = civil_war
					}
					add_civil_war_target = CAS
				}
				if = {
					limit = { country_exists = NAV NOT = { has_war_with = NAV } }
					declare_war_on = {
						target = NAV
						type = civil_war
					}
					add_civil_war_target = NAV
				}
				if = {
					limit = { country_exists = SEU NOT = { has_war_with = SEU } }
					declare_war_on = {
						target = SEU
						type = civil_war
					}
					add_civil_war_target = SEU
				}
				if = {
					limit = { country_exists = SPC NOT = { has_war_with = SPC } }
					declare_war_on = {
						target = SPC
						type = civil_war
					}
					add_civil_war_target = SPC
				}
				if = {
					limit = { country_exists = ANL NOT = { has_war_with = ANL } }
					declare_war_on = {
						target = ANL
						type = civil_war
					}
					add_civil_war_target = ANL
				}
				if = {
					limit = { country_exists = VLA NOT = { has_war_with = VLA } }
					declare_war_on = {
						target = VLA
						type = civil_war
					}
					add_civil_war_target = VLA
				}
				if = {
					limit = { country_exists = SPR NOT = { has_war_with = SPR } }
					declare_war_on = {
						target = SPR
						type = civil_war
					}
					add_civil_war_target = SPR
				}
			}
		}
		if = {
			limit = {
				country_exists = CAT
				CAT = { is_subject = no }
			}
			CAT = {
				add_ideas = SPR_spain_civil_war
				if = {
					limit = { country_exists = BAS NOT = { has_war_with = BAS } }
					declare_war_on = {
						target = BAS
						type = civil_war
					}
					add_civil_war_target = BAS
				}
				if = {
					limit = { country_exists = ARA NOT = { has_war_with = ARA } }
					declare_war_on = {
						target = ARA
						type = civil_war
					}
					add_civil_war_target = ARA
				}
				if = {
					limit = { country_exists = GLC NOT = { has_war_with = GLC } }
					declare_war_on = {
						target = GLC
						type = civil_war
					}
					add_civil_war_target = GLC
				}
				if = {
					limit = { country_exists = ASU NOT = { has_war_with = ASU } }
					declare_war_on = {
						target = ASU
						type = civil_war
					}
					add_civil_war_target = ASU
				}
				if = {
					limit = { country_exists = SNT NOT = { has_war_with = SNT } }
					declare_war_on = {
						target = SNT
						type = civil_war
					}
					add_civil_war_target = SNT
				}
				if = {
					limit = { country_exists = CAS NOT = { has_war_with = CAS } }
					declare_war_on = {
						target = CAS
						type = civil_war
					}
					add_civil_war_target = CAS
				}
				if = {
					limit = { country_exists = NAV NOT = { has_war_with = NAV } }
					declare_war_on = {
						target = NAV
						type = civil_war
					}
					add_civil_war_target = NAV
				}
				if = {
					limit = { country_exists = SEU NOT = { has_war_with = SEU } }
					declare_war_on = {
						target = SEU
						type = civil_war
					}
					add_civil_war_target = SEU
				}
				if = {
					limit = { country_exists = SPC NOT = { has_war_with = SPC } }
					declare_war_on = {
						target = SPC
						type = civil_war
					}
					add_civil_war_target = SPC
				}
				if = {
					limit = { country_exists = ANL NOT = { has_war_with = ANL } }
					declare_war_on = {
						target = ANL
						type = civil_war
					}
					add_civil_war_target = ANL
				}
				if = {
					limit = { country_exists = VLA NOT = { has_war_with = VLA } }
					declare_war_on = {
						target = VLA
						type = civil_war
					}
					add_civil_war_target = VLA
				}
				if = {
					limit = { country_exists = SPR NOT = { has_war_with = SPR } }
					declare_war_on = {
						target = SPR
						type = civil_war
					}
					add_civil_war_target = SPR
				}
			}
		}
		if = {
			limit = {
				country_exists = BAS
				BAS = { is_subject = no }
			}
			BAS = {
				add_ideas = SPR_spain_civil_war
				if = {
					limit = { country_exists = ARA NOT = { has_war_with = ARA } }
					declare_war_on = {
						target = ARA
						type = civil_war
					}
					add_civil_war_target = ARA
				}
				if = {
					limit = { country_exists = GLC NOT = { has_war_with = GLC } }
					declare_war_on = {
						target = GLC
						type = civil_war
					}
					add_civil_war_target = GLC
				}
				if = {
					limit = { country_exists = ASU NOT = { has_war_with = ASU } }
					declare_war_on = {
						target = ASU
						type = civil_war
					}
					add_civil_war_target = ASU
				}
				if = {
					limit = { country_exists = SNT NOT = { has_war_with = SNT } }
					declare_war_on = {
						target = SNT
						type = civil_war
					}
					add_civil_war_target = SNT
				}
				if = {
					limit = { country_exists = CAS NOT = { has_war_with = CAS } }
					declare_war_on = {
						target = CAS
						type = civil_war
					}
					add_civil_war_target = CAS
				}
				if = {
					limit = { country_exists = NAV NOT = { has_war_with = NAV } }
					declare_war_on = {
						target = NAV
						type = civil_war
					}
					add_civil_war_target = NAV
				}
				if = {
					limit = { country_exists = SEU NOT = { has_war_with = SEU } }
					declare_war_on = {
						target = SEU
						type = civil_war
					}
					add_civil_war_target = SEU
				}
				if = {
					limit = { country_exists = SPC NOT = { has_war_with = SPC } }
					declare_war_on = {
						target = SPC
						type = civil_war
					}
					add_civil_war_target = SPC
				}
				if = {
					limit = { country_exists = ANL NOT = { has_war_with = ANL } }
					declare_war_on = {
						target = ANL
						type = civil_war
					}
					add_civil_war_target = ANL
				}
				if = {
					limit = { country_exists = VLA NOT = { has_war_with = VLA } }
					declare_war_on = {
						target = VLA
						type = civil_war
					}
					add_civil_war_target = VLA
				}
				if = {
					limit = { country_exists = SPR NOT = { has_war_with = SPR } }
					declare_war_on = {
						target = SPR
						type = civil_war
					}
					add_civil_war_target = SPR
				}
			}
		}
		if = {
			limit = {
				country_exists = ARA
				ARA = { is_subject = no }
			}
			ARA = {
				add_ideas = SPR_spain_civil_war
				if = {
					limit = { country_exists = GLC NOT = { has_war_with = GLC } }
					declare_war_on = {
						target = GLC
						type = civil_war
					}
					add_civil_war_target = GLC
				}
				if = {
					limit = { country_exists = ASU NOT = { has_war_with = ASU } }
					declare_war_on = {
						target = ASU
						type = civil_war
					}
					add_civil_war_target = ASU
				}
				if = {
					limit = { country_exists = SNT NOT = { has_war_with = SNT } }
					declare_war_on = {
						target = SNT
						type = civil_war
					}
					add_civil_war_target = SNT
				}
				if = {
					limit = { country_exists = CAS NOT = { has_war_with = CAS } }
					declare_war_on = {
						target = CAS
						type = civil_war
					}
					add_civil_war_target = CAS
				}
				if = {
					limit = { country_exists = NAV NOT = { has_war_with = NAV } }
					declare_war_on = {
						target = NAV
						type = civil_war
					}
					add_civil_war_target = NAV
				}
				if = {
					limit = { country_exists = SEU NOT = { has_war_with = SEU } }
					declare_war_on = {
						target = SEU
						type = civil_war
					}
					add_civil_war_target = SEU
				}
				if = {
					limit = { country_exists = SPC NOT = { has_war_with = SPC } }
					declare_war_on = {
						target = SPC
						type = civil_war
					}
					add_civil_war_target = SPC
				}
				if = {
					limit = { country_exists = ANL NOT = { has_war_with = ANL } }
					declare_war_on = {
						target = ANL
						type = civil_war
					}
					add_civil_war_target = ANL
				}
				if = {
					limit = { country_exists = VLA NOT = { has_war_with = VLA } }
					declare_war_on = {
						target = VLA
						type = civil_war
					}
					add_civil_war_target = VLA
				}
				if = {
					limit = { country_exists = SPR NOT = { has_war_with = SPR } }
					declare_war_on = {
						target = SPR
						type = civil_war
					}
					add_civil_war_target = SPR
				}
			}
		}
		if = {
			limit = {
				country_exists = GLC
				GLC = { is_subject = no }
			}
			GLC = {
				add_ideas = SPR_spain_civil_war
				if = {
					limit = { country_exists = ASU NOT = { has_war_with = ASU } }
					declare_war_on = {
						target = ASU
						type = civil_war
					}
					add_civil_war_target = ASU
				}
				if = {
					limit = { country_exists = SNT NOT = { has_war_with = SNT } }
					declare_war_on = {
						target = SNT
						type = civil_war
					}
					add_civil_war_target = SNT
				}
				if = {
					limit = { country_exists = CAS NOT = { has_war_with = CAS } }
					declare_war_on = {
						target = CAS
						type = civil_war
					}
					add_civil_war_target = CAS
				}
				if = {
					limit = { country_exists = NAV NOT = { has_war_with = NAV } }
					declare_war_on = {
						target = NAV
						type = civil_war
					}
					add_civil_war_target = NAV
				}
				if = {
					limit = { country_exists = SEU NOT = { has_war_with = SEU } }
					declare_war_on = {
						target = SEU
						type = civil_war
					}
					add_civil_war_target = SEU
				}
				if = {
					limit = { country_exists = SPC NOT = { has_war_with = SPC } }
					declare_war_on = {
						target = SPC
						type = civil_war
					}
					add_civil_war_target = SPC
				}
				if = {
					limit = { country_exists = ANL NOT = { has_war_with = ANL } }
					declare_war_on = {
						target = ANL
						type = civil_war
					}
					add_civil_war_target = ANL
				}
				if = {
					limit = { country_exists = VLA NOT = { has_war_with = VLA } }
					declare_war_on = {
						target = VLA
						type = civil_war
					}
					add_civil_war_target = VLA
				}
				if = {
					limit = { country_exists = SPR NOT = { has_war_with = SPR } }
					declare_war_on = {
						target = SPR
						type = civil_war
					}
					add_civil_war_target = SPR
				}
			}
		}
		if = {
			limit = {
				country_exists = ASU
				ASU = { is_subject = no }
			}
			ASU = {
				add_ideas = SPR_spain_civil_war
				if = {
					limit = { country_exists = SNT NOT = { has_war_with = SNT } }
					declare_war_on = {
						target = SNT
						type = civil_war
					}
					add_civil_war_target = SNT
				}
				if = {
					limit = { country_exists = CAS NOT = { has_war_with = CAS } }
					declare_war_on = {
						target = CAS
						type = civil_war
					}
					add_civil_war_target = CAS
				}
				if = {
					limit = { country_exists = NAV NOT = { has_war_with = NAV } }
					declare_war_on = {
						target = NAV
						type = civil_war
					}
					add_civil_war_target = NAV
				}
				if = {
					limit = { country_exists = SEU NOT = { has_war_with = SEU } }
					declare_war_on = {
						target = SEU
						type = civil_war
					}
					add_civil_war_target = SEU
				}
				if = {
					limit = { country_exists = SPC NOT = { has_war_with = SPC } }
					declare_war_on = {
						target = SPC
						type = civil_war
					}
					add_civil_war_target = SPC
				}
				if = {
					limit = { country_exists = ANL NOT = { has_war_with = ANL } }
					declare_war_on = {
						target = ANL
						type = civil_war
					}
					add_civil_war_target = ANL
				}
				if = {
					limit = { country_exists = VLA NOT = { has_war_with = VLA } }
					declare_war_on = {
						target = VLA
						type = civil_war
					}
					add_civil_war_target = VLA
				}
				if = {
					limit = { country_exists = SPR NOT = { has_war_with = SPR } }
					declare_war_on = {
						target = SPR
						type = civil_war
					}
					add_civil_war_target = SPR
				}
			}
		}
		if = {
			limit = {
				country_exists = SNT
				SNT = { is_subject = no }
			}
			SNT = {
				add_ideas = SPR_spain_civil_war
				if = {
					limit = { country_exists = CAS NOT = { has_war_with = CAS } }
					declare_war_on = {
						target = CAS
						type = civil_war
					}
					add_civil_war_target = CAS
				}
				if = {
					limit = { country_exists = NAV NOT = { has_war_with = NAV } }
					declare_war_on = {
						target = NAV
						type = civil_war
					}
					add_civil_war_target = NAV
				}
				if = {
					limit = { country_exists = SEU NOT = { has_war_with = SEU } }
					declare_war_on = {
						target = SEU
						type = civil_war
					}
					add_civil_war_target = SEU
				}
				if = {
					limit = { country_exists = SPC NOT = { has_war_with = SPC } }
					declare_war_on = {
						target = SPC
						type = civil_war
					}
					add_civil_war_target = SPC
				}
				if = {
					limit = { country_exists = ANL NOT = { has_war_with = ANL } }
					declare_war_on = {
						target = ANL
						type = civil_war
					}
					add_civil_war_target = ANL
				}
				if = {
					limit = { country_exists = VLA NOT = { has_war_with = VLA } }
					declare_war_on = {
						target = VLA
						type = civil_war
					}
					add_civil_war_target = VLA
				}
				if = {
					limit = { country_exists = SPR NOT = { has_war_with = SPR } }
					declare_war_on = {
						target = SPR
						type = civil_war
					}
					add_civil_war_target = SPR
				}
			}
		}
		if = {
			limit = {
				country_exists = CAS
				CAS = { is_subject = no }
			}
			CAS = {
				add_ideas = SPR_spain_civil_war
				if = {
					limit = { country_exists = NAV NOT = { has_war_with = NAV } }
					declare_war_on = {
						target = NAV
						type = civil_war
					}
					add_civil_war_target = NAV
				}
				if = {
					limit = { country_exists = SEU NOT = { has_war_with = SEU } }
					declare_war_on = {
						target = SEU
						type = civil_war
					}
					add_civil_war_target = SEU
				}
				if = {
					limit = { country_exists = SPC NOT = { has_war_with = SPC } }
					declare_war_on = {
						target = SPC
						type = civil_war
					}
					add_civil_war_target = SPC
				}
				if = {
					limit = { country_exists = ANL NOT = { has_war_with = ANL } }
					declare_war_on = {
						target = ANL
						type = civil_war
					}
					add_civil_war_target = ANL
				}
				if = {
					limit = { country_exists = VLA NOT = { has_war_with = VLA } }
					declare_war_on = {
						target = VLA
						type = civil_war
					}
					add_civil_war_target = VLA
				}
				if = {
					limit = { country_exists = SPR NOT = { has_war_with = SPR } }
					declare_war_on = {
						target = SPR
						type = civil_war
					}
					add_civil_war_target = SPR
				}
			}
		}
		if = {
			limit = {
				country_exists = NAV
				NAV = { is_subject = no }
			}
			NAV = {
				add_ideas = SPR_spain_civil_war
				if = {
					limit = { country_exists = SEU NOT = { has_war_with = SEU } }
					declare_war_on = {
						target = SEU
						type = civil_war
					}
					add_civil_war_target = SEU
				}
				if = {
					limit = { country_exists = SPC NOT = { has_war_with = SPC } }
					declare_war_on = {
						target = SPC
						type = civil_war
					}
					add_civil_war_target = SPC
				}
				if = {
					limit = { country_exists = ANL NOT = { has_war_with = ANL } }
					declare_war_on = {
						target = ANL
						type = civil_war
					}
					add_civil_war_target = ANL
				}
				if = {
					limit = { country_exists = VLA NOT = { has_war_with = VLA } }
					declare_war_on = {
						target = VLA
						type = civil_war
					}
					add_civil_war_target = VLA
				}
				if = {
					limit = { country_exists = SPR NOT = { has_war_with = SPR } }
					declare_war_on = {
						target = SPR
						type = civil_war
					}
					add_civil_war_target = SPR
				}
			}
		}
		if = {
			limit = {
				country_exists = SEU
				SEU = { is_subject = no }
			}
			SEU = {
				add_ideas = SPR_spain_civil_war
				if = {
					limit = { country_exists = SPC NOT = { has_war_with = SPC } }
					declare_war_on = {
						target = SPC
						type = civil_war
					}
					add_civil_war_target = SPC
				}
				if = {
					limit = { country_exists = ANL NOT = { has_war_with = ANL } }
					declare_war_on = {
						target = ANL
						type = civil_war
					}
					add_civil_war_target = ANL
				}
				if = {
					limit = { country_exists = VLA NOT = { has_war_with = VLA } }
					declare_war_on = {
						target = VLA
						type = civil_war
					}
					add_civil_war_target = VLA
				}
				if = {
					limit = { country_exists = SPR NOT = { has_war_with = SPR } }
					declare_war_on = {
						target = SPR
						type = civil_war
					}
					add_civil_war_target = SPR
				}
			}
		}
		if = {
			limit = {
				country_exists = SPC
				SPC = { is_subject = no }
			}
			SPC = {
				add_ideas = SPR_spain_civil_war
				if = {
					limit = { country_exists = ANL NOT = { has_war_with = ANL } }
					declare_war_on = {
						target = ANL
						type = civil_war
					}
					add_civil_war_target = ANL
				}
				if = {
					limit = { country_exists = VLA NOT = { has_war_with = VLA } }
					declare_war_on = {
						target = VLA
						type = civil_war
					}
					add_civil_war_target = VLA
				}
				if = {
					limit = { country_exists = SPR NOT = { has_war_with = SPR } }
					declare_war_on = {
						target = SPR
						type = civil_war
					}
					add_civil_war_target = SPR
				}
			}
		}
		if = {
			limit = {
				country_exists = ANL
				ANL = { is_subject = no }
			}
			ANL = {
				add_ideas = SPR_spain_civil_war
				if = {
					limit = { country_exists = VLA NOT = { has_war_with = VLA } }
					declare_war_on = {
						target = VLA
						type = civil_war
					}
					add_civil_war_target = VLA
				}
				if = {
					limit = { country_exists = SPR NOT = { has_war_with = SPR } }
					declare_war_on = {
						target = SPR
						type = civil_war
					}
					add_civil_war_target = SPR
				}
			}
		}
		if = {
			limit = {
				country_exists = VLA
				VLA = { is_subject = no }
			}
			VLA = {
				add_ideas = SPR_spain_civil_war
				if = {
					limit = { country_exists = SPR NOT = { has_war_with = SPR } }
					declare_war_on = {
						target = SPR
						type = civil_war
					}
					add_civil_war_target = SPR
				}
			}
		}
		SPR = { add_ideas = SPR_spain_civil_war }
	}
}

country_event = {
	id = NWspain.9993
	title = NWspain.9993.t
	desc = NWspain.9993.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	hidden = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWspain.9993" }
	
	option = {
		name = "11"
		CAT = {
			#AI
			#
			add_ai_strategy = {
				type = invade
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SPR"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "CAS"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "NAV"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SEU"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SPC"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ANL"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ARA"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ASU"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SNT"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "BAS"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "GLC"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "VLA"
				value = 500
			}
		}
		BAS = {
			#AI
			#
			add_ai_strategy = {
				type = invade
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SPR"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "CAS"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "NAV"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SEU"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SPC"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ANL"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ARA"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ASU"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SNT"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "CAT"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "GLC"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "VLA"
				value = 500
			}
		}
		ARA = {
			#AI
			#
			add_ai_strategy = {
				type = invade
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SPR"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "CAS"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "NAV"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SEU"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SPC"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ANL"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ASU"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SNT"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "CAT"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "BAS"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "GLC"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "VLA"
				value = 500
			}
		}
		GLC = {
			#AI
			#
			add_ai_strategy = {
				type = invade
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SPR"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "CAS"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "NAV"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SEU"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SPC"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ANL"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ARA"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ASU"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SNT"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "CAT"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "BAS"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "VLA"
				value = 500
			}
		}
		ASU = {
			#
			add_ai_strategy = {
				type = invade
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SPR"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "CAS"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "NAV"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SEU"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SPC"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ANL"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ARA"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SNT"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "CAT"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "BAS"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "GLC"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "VLA"
				value = 500
			}
		}
		SNT = {
			#AI
			#
			add_ai_strategy = {
				type = invade
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SPR"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "CAS"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "NAV"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SEU"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SPC"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ANL"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ARA"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ASU"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "CAT"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "BAS"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "GLC"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "VLA"
				value = 500
			}
		}
		CAS = {
			#AI
			#
			add_ai_strategy = {
				type = invade
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SPR"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "NAV"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SEU"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SPC"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ANL"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ARA"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ASU"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SNT"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "CAT"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "BAS"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "GLC"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "VLA"
				value = 500
			}
		}
		NAV = {
			#AI
			#
			add_ai_strategy = {
				type = invade
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SPR"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "NAV"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SEU"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SPC"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ANL"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ARA"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ASU"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SNT"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "CAT"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "BAS"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "GLC"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "VLA"
				value = 500
			}
		}
		SEU = {
			#AI
			#
			add_ai_strategy = {
				type = invade
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SPR"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "CAS"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "NAV"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SPC"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ANL"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ARA"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ASU"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SNT"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "CAT"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "BAS"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "GLC"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "VLA"
				value = 500
			}
		}
		SPC = {
			#AI
			#
			add_ai_strategy = {
				type = invade
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SPR"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "CAS"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "NAV"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SEU"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ANL"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ARA"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ASU"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SNT"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "CAT"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "BAS"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "GLC"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "VLA"
				value = 500
			}
		}
		ANL = {
			#AI
			#
			add_ai_strategy = {
				type = invade
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SPR"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "CAS"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "NAV"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SEU"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SPC"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ARA"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ASU"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SNT"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "CAT"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "BAS"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "GLC"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "VLA"
				value = 500
			}
		}
		VLA = {
			#AI
			#
			add_ai_strategy = {
				type = invade
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SPR"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SPR"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "CAS"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "NAV"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SEU"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SPC"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ANL"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ARA"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ASU"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SNT"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "CAT"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "BAS"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "GLC"
				value = 500
			}
		}
		SPR = {
			#AI
			#
			add_ai_strategy = {
				type = invade
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "CAS"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "CAS"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "NAV"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "NAV"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SEU"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SEU"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SPC"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SPC"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ANL"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ANL"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ARA"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ARA"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "ASU"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "ASU"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SNT"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "SNT"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "CAT"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "CAT"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "BAS"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "BAS"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "GLC"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "GLC"
				value = 500
			}
			#
			add_ai_strategy = {
				type = invade
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = antagonize
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "VLA"
				value = 500
			}
			add_ai_strategy = {
				type = consider_weak
				id = "VLA"
				value = 500
			}
		}
	}
}

