ideas = {

	mobilization_laws = {
		law = yes
		use_list_view = yes

		irregular_army = {
			removal_cost = -1
			level = 8

			allowed = {
				always = no
			}
			allowed_to_remove = {
				if = {
					limit = { has_focus_tree = generic_focus }
					has_focus_tree = generic_focus
				}
				else_if = {
					limit = { original_tag = SAU }
					has_completed_focus = SAU_abandon_irregulars 
				}
				else_if = {
					limit = { original_tag = BHU }
					has_completed_focus = BHU_start_creation_of_regular_army 
				}
				else_if = {
					limit = { original_tag = YEM }
					has_completed_focus = YEM_denied_irregular 
				}
			}
			on_add = {
				log = "[GetDateText] [Root.GetName]: add idea irregular_army"
				hidden_effect = {
					country_lock_all_division_template = yes
					if = {	#похоже, что оно не работает :(		НЕ ИСПОЛЬЗУЙТЕ has_variable, лучше check_variable на 0
						limit = { NOT = { has_variable = peoples_militia_var } }
						set_variable = { peoples_militia_var = 1 }
					}
				}
				custom_effect_tooltip = SPR_military_disloyalty_tt
			}
			on_remove = {
				hidden_effect = {
					country_lock_all_division_template = no
				}
			}
			modifier = {
				conscription = 0.15
				experience_gain_army_factor = -0.9 # TODO experience_gain_army_unit_factor ??
				experience_gain_navy_factor = -0.9
				experience_gain_air_factor  = -0.9
				custom_modifier_tooltip = irregular_army_tt
			}
			
			cancel_if_invalid = no
		}
		
		partial_regular_army = {
			removal_cost = -1
			level = 8

			allowed = {
				always = no
			}
			allowed_to_remove = {
				if = {
					limit = { has_focus_tree = generic_focus }
					has_focus_tree = generic_focus
				}
				else_if = {
					limit = { original_tag = AFG }
					has_completed_focus = AFG_creation_of_the_regular_army
				}
				else_if = {
					limit = { original_tag = SAU }
					has_completed_focus = SAU_abandon_irregulars 
				}
				else_if = {
					limit = { original_tag = BHU }
					has_completed_focus = BHU_start_creation_of_regular_army 
				}
				else_if = {
					limit = { original_tag = YEM }
					has_completed_focus = YEM_denied_irregular 
				}
			}
			on_add = {
				log = "[GetDateText] [Root.GetName]: add idea partial_regular_army"
				hidden_effect = {
					if = {
						limit = { check_variable = { peoples_militia_var < 1 } }
						set_variable = { peoples_militia_var = 1 }
					}
					if = {
						limit = { has_template = "Albanian Tribal Infantry Militia" }
						set_division_template_lock = { division_template = "Albanian Tribal Infantry Militia"	is_locked = yes }
					}
					if = {
						limit = { has_template = "Albanian Tribal Militia" }
						set_division_template_lock = { division_template = "Albanian Tribal Militia"			is_locked = yes }
					}
					if = {
						limit = { has_template = "Highlanders of Melisia" }
						set_division_template_lock = { division_template = "Highlanders of Melisia"				is_locked = yes }
					}
					if = {
						limit = { has_template = "Druk Gyal Khap sena" }
						set_division_template_lock = { division_template = "Druk Gyal Khap sena"				is_locked = yes }
					}
					if = {
						limit = { has_template = "Almilishiat Alqabalia" }
						set_division_template_lock = { division_template = "Almilishiat Alqabalia"				is_locked = yes }
					}
					if = {
						limit = { has_template = "Tribal Cavalry" }
						set_division_template_lock = { division_template = "Tribal Cavalry"						is_locked = yes }
					}
					if = {
						limit = { has_template = "Alfurqat Alfursan war" }
						set_division_template_lock = { division_template = "Alfurqat Alfursan war"				is_locked = yes }
					}
					if = {
						limit = { has_template = "Milishia Almadina" }
						set_division_template_lock = { division_template = "Milishia Almadina"					is_locked = yes }
					}
					if = {
						limit = { has_template = "Milishia Qabalia" }
						set_division_template_lock = { division_template = "Milishia Qabalia"					is_locked = yes }
					}
					if = {
						limit = { has_template = "Milishya alzaydi" }
						set_division_template_lock = { division_template = "Milishya alzaydi"					is_locked = yes }
					}
					if = {
						limit = { has_template = "Milishia" }
						set_division_template_lock = { division_template = "Milishia"							is_locked = yes }
					}
					if = {
						limit = { has_template = "Xikang Police Division" }
						set_division_template_lock = { division_template = "Xikang Police Division"				is_locked = yes }
					}
					if = {
						limit = { has_template = "Qinghai Clique Ma Muslim Division" }
						set_division_template_lock = { division_template = "Qinghai Clique Ma Muslim Division"	is_locked = yes }
					}
				}
			}
			modifier = {
				conscription = 0.10
				training_time_factor = 0.8
				experience_gain_army_factor = -0.6
				experience_gain_navy_factor = -0.6
				experience_gain_air_factor  = -0.6
				custom_modifier_tooltip = irregular_army_tt
			}
			
			cancel_if_invalid = no
		}
		
		peoples_black_militia = {
			removal_cost = -1
			level = 8

			allowed = {
				always = no
			}
			allowed_to_remove = {
				has_focus_tree = generic_focus
			}
			on_add = {
				log = "[GetDateText] [Root.GetName]: add idea peoples_black_militia"
			}
			on_remove = {
			}
			modifier = {
				conscription = 0.215
				production_speed_buildings_factor = -0.165
				industrial_capacity_factory = -0.165
				industrial_capacity_dockyard = -0.165
				training_time_factor = -0.1
				research_speed_factor = -0.075
				experience_gain_army_factor = -0.2
			}
			
			cancel_if_invalid = no
		}
		
	}
}
