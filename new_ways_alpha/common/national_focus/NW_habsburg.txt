focus_tree = {
	id = hbbrg_focus

	country = {
		factor = 0
		
		modifier = {
			add = 0
			#tag = HUN
		}
	}
	
	default = no
	
	continuous_focus_position = { x = 50 y = 1750 }
	
	shared_focus = HBBRG_revive_prom
	shared_focus = HBBRG_evaluation_army

	#######################
	#### CLAIM SECTION ####
	#######################
	
	focus = {
		id = HBBRG_earth_aus_crown
		icon = GFX_focus_rom_royal_dictatorship
		x = 3
		y = 0

		cost = 4.3
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 100
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_earth_aus_crown"
			every_state = {
				limit = {
					is_core_of = AUS
				}
				add_claim_by = ROOT
			}
			every_state = {
				limit = {
					is_core_of = CZE
				}
				add_claim_by = ROOT
			}
			every_state = {
				limit = {
					is_core_of = HUN
				}
				add_claim_by = ROOT
			}
			every_state = {
				limit = {
					is_core_of = CRO
				}
				add_claim_by = ROOT
			}
			every_state = {
				limit = {
					is_core_of = SLO
				}
				add_claim_by = ROOT
			}
			82 = { add_claim_by = ROOT }
			83 = { add_claim_by = ROOT }
			84 = { add_claim_by = ROOT }
			76 = { add_claim_by = ROOT }
			778 = { add_claim_by = ROOT }
			#ITA
			824 = { add_claim_by = ROOT }
			736 = { add_claim_by = ROOT }
			160 = { add_claim_by = ROOT }
			39 = { add_claim_by = ROOT }
			#POL
			768 = { add_claim_by = ROOT }
			937 = { add_claim_by = ROOT }
			88 = { add_claim_by = ROOT }
			908 = { add_claim_by = ROOT }
			89 = { add_claim_by = ROOT }
			91 = { add_claim_by = ROOT }
			1023 = { add_claim_by = ROOT }
			988 = { add_claim_by = ROOT }
		}
	}
	
	focus = {
		id = HBBRG_austrian
		icon = GFX_z_focus_habsburg_claim_austria
		prerequisite = { focus = HBBRG_earth_aus_crown }
		x = -2
		y = 1
		relative_position_id = HBBRG_earth_aus_crown

		cost = 1
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 8
			modifier = {
				factor = 10
				strength_ratio = {
					tag = AUS
					ratio > 1
				}
			}
		}
		available = {
			is_owner_neighbor_of = AUS
			NOT = { has_war_with = AUS }
			country_exists = AUS
			NOT = { has_government = democratic }
			is_subject = no
			has_civil_war = no
			hidden_trigger = {
				NOT = {
					any_other_country = {
						has_country_flag = hhnbrg_flag
						has_war_with = ROOT
					}
				}
			}
		}
		bypass = {
			OR = {
				ROOT = { original_tag = AUS }
				AUS = { is_subject_of = ROOT }
				NOT = { country_exists = AUS }
				AND = {
					has_full_control_of_state = 4
					has_full_control_of_state = 152
				}
			}
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_austrian"
			add_political_power = 10
			AUS = {
				add_popularity = {
					ideology = monarchy
					popularity = 0.20
				}
			}
			country_event = { id = NWmonarchy.1 days = 1 }
			custom_effect_tooltip = HBBRG_austrian_tt
			hidden_effect = {
				if = {
					limit = { ROOT = { is_ai = yes } }
					random_list = {
						10 = {
							AUS = {
								add_popularity = {
									ideology = monarchy
									popularity = 0.15
								}
							}
						}
						90 = {
							AUS = {
								add_popularity = {
									ideology = monarchy
									popularity = 0.41
								}
							}
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = HBBRG_italian
		icon = GFX_z_focus_habsburg_claim_italy
		prerequisite = { focus = HBBRG_austrian }
		x = 0
		y = 1
		relative_position_id = HBBRG_austrian

		cost = 1
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 10
				strength_ratio = {
					tag = ITA
					ratio > 1
				}
			}
			modifier = {
				factor = 0.5
				has_war = yes
			}
		}
		available = {
			is_owner_neighbor_of = ITA
			NOT = { has_war_with = ITA }
			country_exists = ITA
			NOT = { has_government = democratic }
			is_subject = no
			has_civil_war = no
			hidden_trigger = {
				NOT = {
					any_other_country = {
						has_country_flag = hhnbrg_flag
						has_war_with = ROOT
					}
				}
			}
		}
		bypass = {
			OR = {
				ITA = { is_subject_of = ROOT }
				NOT = { country_exists = ITA }
				AND = {
					has_full_control_of_state = 824
					has_full_control_of_state = 736
					has_full_control_of_state = 160
					has_full_control_of_state = 39
				}
			}
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_italian"
			add_political_power = 10
			country_event = { id = NWmonarchy.4 days = 1 }
		}
	}
	
	focus = {
		id = HBBRG_hungary
		icon = GFX_z_focus_habsburg_claim_hungaria
		prerequisite = { focus = HBBRG_earth_aus_crown }
		x = 0
		y = 1
		relative_position_id = HBBRG_earth_aus_crown

		cost = 1
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 8
			modifier = {
				factor = 10
				strength_ratio = {
					tag = HUN
					ratio > 1
				}
			}
		}
		available = {
			is_owner_neighbor_of = HUN
			NOT = { has_war_with = HUN }
			country_exists = HUN
			NOT = { has_government = democratic }
			is_subject = no
			has_civil_war = no
			hidden_trigger = {
				NOT = {
					any_other_country = {
						has_country_flag = hhnbrg_flag
						has_war_with = ROOT
					}
				}
			}
		}
		bypass = {
			OR = {
				ROOT = { original_tag = HUN }
				HUN = { is_subject_of = ROOT }
				NOT = { country_exists = HUN }
			}
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_hungary"
			add_political_power = 10
			HUN = {
				add_popularity = {
					ideology = monarchy
					popularity = 0.20
				}
			}
			country_event = { id = NWmonarchy.7 days = 1 }
			custom_effect_tooltip = HBBRG_hungary_tt
			hidden_effect = {
				if = {
					limit = { ROOT = { is_ai = yes } }
					random_list = {
						10 = {
							HUN = {
								add_popularity = {
									ideology = monarchy
									popularity = 0.15
								}
							}
						}
						90 = {
							HUN = {
								add_popularity = {
									ideology = monarchy
									popularity = 0.41
								}
							}
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = HBBRG_yugoslavia
		icon = GFX_z_focus_habsburg_claim_yugoslavia
		prerequisite = { focus = HBBRG_hungary }
		x = 0
		y = 1
		relative_position_id = HBBRG_hungary

		cost = 1
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 10
				strength_ratio = {
					tag = YUG
					ratio > 2
				}
			}
			modifier = {
				factor = 0
				YUG = { is_guaranteed_by = CZE }
			}
			modifier = {
				factor = 0.5
				has_war = yes
			}
		}
		available = {
			is_owner_neighbor_of = YUG
			NOT = { has_war_with = YUG }
			country_exists = YUG
			NOT = { has_government = democratic }
			is_subject = no
			has_civil_war = no
			hidden_trigger = {
				NOT = {
					any_other_country = {
						has_country_flag = hhnbrg_flag
						has_war_with = ROOT
					}
				}
			}
		}
		bypass = {
			OR = {
				YUG = { is_subject_of = ROOT }
				NOT = { country_exists = YUG }
			}
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_yugoslavia"
			add_political_power = 10
			country_event = { id = NWmonarchy.8 days = 1 }
		}
	}
	
	focus = {
		id = HBBRG_czechoslovakia
		icon = GFX_z_focus_habsburg_claim_czechoslovakia
		prerequisite = { focus = HBBRG_earth_aus_crown }
		x = 2
		y = 1
		relative_position_id = HBBRG_earth_aus_crown

		cost = 1
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 2.5
			modifier = {
				factor = 10
				strength_ratio = {
					tag = CZE
					ratio > 1
				}
			}
			modifier = {
				factor = 10
				CZE = { monarchy > 0.1 }
			}
		}
		available = {
			is_owner_neighbor_of = CZE
			NOT = { has_war_with = CZE }
			country_exists = CZE
			NOT = { has_government = democratic }
			is_subject = no
			has_civil_war = no
			hidden_trigger = {
				NOT = {
					any_other_country = {
						has_country_flag = hhnbrg_flag
						has_war_with = ROOT
					}
				}
			}
		}
		bypass = {
			OR = {
				ROOT = { original_tag = CZE }
				CZE = { is_subject_of = ROOT }
				NOT = { country_exists = CZE }
			}
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_czechoslovakia"
			add_political_power = 10
			CZE = {
				add_popularity = {
					ideology = monarchy
					popularity = 0.20
				}
			}
			country_event = { id = NWmonarchy.11 days = 1 }
			custom_effect_tooltip = HBBRG_czechoslovakia_tt
			hidden_effect = {
				if = {
					limit = { ROOT = { is_ai = yes } }
					random_list = {
						10 = {
							CZE = {
								add_popularity = {
									ideology = monarchy
									popularity = 0.15
								}
							}
						}
						90 = {
							CZE = {
								add_popularity = {
									ideology = monarchy
									popularity = 0.41
								}
							}
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = HBBRG_romania
		icon = GFX_z_focus_habsburg_claim_romania
		prerequisite = { focus = HBBRG_czechoslovakia }
		x = 0
		y = 1
		relative_position_id = HBBRG_czechoslovakia

		cost = 1
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 10
				strength_ratio = {
					tag = ROM
					ratio > 1.5
				}
			}
			modifier = {
				factor = 0.5
				has_war = yes
			}
		}
		available = {
			is_owner_neighbor_of = ROM
			NOT = { has_war_with = ROM }
			country_exists = ROM
			NOT = { has_government = democratic }
			is_subject = no
			has_civil_war = no
			hidden_trigger = {
				NOT = {
					any_other_country = {
						has_country_flag = hhnbrg_flag
						has_war_with = ROOT
					}
				}
			}
		}
		bypass = {
			OR = {
				ROM = { is_subject_of = ROOT }
				NOT = { country_exists = ROM }
			}
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_romania"
			add_political_power = 10
			country_event = { id = NWmonarchy.14 days = 1 }
		}
	}
	
	
	
	###########################
	#### POLITICAL SECTION ####
	###########################
	
	
	focus = {
		id = HBBRG_revive_empire
		icon = GFX_focus_generic_support_the_left_right
		x = 15 #15
		y = 0

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_revive_empire"
			add_political_power = 100
			add_popularity = {
				ideology = monarchy
				popularity = 0.05
			}
		}
	}
	
	focus = {
		id = HBBRG_confirm_power
		icon = GFX_focus_rom_handle_king
		prerequisite = { focus = HBBRG_revive_empire }
		x = 0
		y = 1
		relative_position_id = HBBRG_revive_empire

		cost = 4
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_confirm_power"
			add_popularity = {
				ideology = monarchy
				popularity = 0.15
			}
			add_ideas = HBBRG_confirm_power_idea
		}
	}
	
	focus = {
		id = HBBRG_structure_empire
		icon = GFX_goal_demand_sudetenland
		prerequisite = { focus = HBBRG_confirm_power }
		x = 0
		y = 1
		relative_position_id = HBBRG_confirm_power

		cost = 3
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 4
			modifier = {
				factor = 0.1
				has_global_flag = NW_HBBRG_AI_ANARCHIST
				NOT = {
					owns_state = 4
					owns_state = 152
				}
			}
		}
		available = {
		}
		bypass = {
		}
		
		select_effect = {
			if = {
				limit = {
					NOT = {
						country_exists = event_target:NW_hhnbrg_scope
						any_other_country = { has_country_flag = hhnbrg_flag }
					}
				}
				country_event = { id = NWhohenberg.1 days = 5 }
			}
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_structure_empire"
			add_stability = 0.05
		}
	}
	
	
	
	######################
	#### FASH SECTION ####
	######################
	
	focus = {
		id = HBBRG_catholic_empire
		icon = GFX_z_focus_habsburg_catholic_empire
		prerequisite = { focus = HBBRG_structure_empire }
		mutually_exclusive = { focus = HBBRG_austrian_hungary focus = HBBRG_new_look_empire }
		x = -5
		y = 1
		relative_position_id = HBBRG_structure_empire

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 20
			modifier = {
				add = 500
				has_global_flag = NW_HBBRG_AI_FASCIST
			}
			modifier = {
				add = 500
				has_country_flag = nobles_imposed_restrictions_on_otto
			}
			modifier = {
				factor = 0.1
				NOT = {
					has_completed_focus = HBBRG_austrian
					has_completed_focus = HBBRG_hungary
					has_completed_focus = HBBRG_czechoslovakia
				}
			}
			modifier = {
				factor = 0
				has_global_flag = NW_HBBRG_AI_AUSTRIA_HUNGARY
			}
			modifier = {
				factor = 0
				OR = {
					has_global_flag = NW_HBBRG_AI_DEMOCRATIC
					has_global_flag = NW_HBBRG_AI_DEMOCRATIC_ALTERNATE
				}
			}
		}
		available = {
			is_subject = no
			NOT = { has_country_flag = HHNBRG_block_fash_tree }
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_catholic_empire"
			add_named_threat = { threat = 2 name = HBBRG_catholic_empire }
			#hidden_effect = {		#goob bye my dear fascism leader Otto Von Bleat'
			#	create_country_leader = {
			#		name = "Otto von Habsburg"
			#		desc = "POLITICS_OTTO_VON_HABSBURG_DESC"
			#		picture = GFX_Portrait_hungary_otto_von_hapsburg
			#		expire = "1965.1.1"
			#		ideology = fascism_ideology
			#		traits = {
			#		}
			#	}
			#}
			add_popularity = {
				ideology = fascism
				popularity = 0.4
			}
			set_politics = {
				ruling_party = fascism
				elections_allowed = no
			}
			add_stability = -0.1
			add_timed_idea = { idea = HBBRG_catholic_empire1 days = 1095 }
			swap_ideas = {
				remove_idea = HUN_habsburg_restored
				add_idea = HUN_habsburg_restored_fash
			}
			if = {
				limit = { has_idea = HUN_treaty_of_triannon }
				remove_ideas = HUN_treaty_of_triannon
			}
			set_cosmetic_tag = HBBRG_AUS_tag
			if = {
				limit = { NOT = { has_country_flag = no_check_josef } }
				country_event = { id = NWmonarchy.101 }
			}
			hidden_effect = {
				VAT = { 
					set_variable = { habbrg_score = 0 }
					set_variable = { italian_score = 0 }
				}
				news_event = { hours = 6 id = trworldnews.43 }
			}
			if = {
				limit = { is_in_faction_with = GER }
				leave_faction = yes
			}
		}
	}
	
	focus = {
		id = HBBRG_catholic_league
		icon = GFX_z_goal_monarchism_9
		prerequisite = { focus = HBBRG_catholic_empire }
		mutually_exclusive = { focus = HBBRG_seek_support_in_italy }
		x = -6
		y = 1
		relative_position_id = HBBRG_catholic_empire

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 2
		}
		available = {
			is_subject = no
			is_in_faction = no
			if = {
				limit = { country_exists = event_target:NW_hhnbrg_scope }
				OR = {
					NOT = { has_war_with = event_target:NW_hhnbrg_scope }
					event_target:NW_hhnbrg_scope = { has_capitulated = yes }
				}
			}
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_catholic_league"
			set_rule = { can_create_factions = yes }
			if = {
				limit = { is_faction_leader = yes }
				set_faction_name = HBBRG_catholic_league
			}
			else = { create_faction = HBBRG_catholic_league }
			add_to_faction = VAT
			add_ai_strategy = {
				type = befriend
				id = "VAT"
				value = 200
			}
			add_ai_strategy = {
				type = alliance
				id = "VAT"
				value = 200
			}
			VAT = {
				add_ai_strategy = {
					type = befriend
					id = ROOT
					value = 200
				}
				add_ai_strategy = {
					type = alliance
					id = ROOT
					value = 200
				}
			}
			hidden_effect = {
				news_event = { hours = 6 id = trworldnews.47 }
			}
		}
	}
	
	focus = {
		id = HBBRG_seek_support_in_italy
		icon = GFX_z_goal_italy
		prerequisite = { focus = HBBRG_catholic_empire }
		mutually_exclusive = { focus = HBBRG_catholic_league  }
		x = -4
		y = 1
		relative_position_id = HBBRG_catholic_empire

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 4
			modifier = {
				factor = 8
				has_war = yes
			}
		}
		available = {
			is_subject = no
			NOT = { has_war_with = ITA }
			country_exists = ITA
			ITA = { is_subject = no }
			if = {
				limit = { country_exists = event_target:NW_hhnbrg_scope }
				OR = {
					NOT = { has_war_with = event_target:NW_hhnbrg_scope }
					event_target:NW_hhnbrg_scope = { has_capitulated = yes }
				}
			}
		}
		bypass = {
			is_in_faction_with = ITA
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_seek_support_in_italy"
			ITA = { country_event = { id = NWmonarchy.17 days = 1 } }
			add_ai_strategy = {
				type = alliance
				id = "ITA"
				value = 200
			}
			ITA = {
				add_ai_strategy = {
					type = alliance
					id = ROOT
					value = 200
				}
			}
		}
	}
	
	focus = {
		id = HBBRG_invite_iberian_catholic
		icon = GFX_z_goal_invite_iberian_catholic
		prerequisite = { focus = HBBRG_catholic_league focus = HBBRG_seek_support_in_italy }
		x = -1
		y = 1
		relative_position_id = HBBRG_catholic_league

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 8
				NOT = { has_global_flag = spanish_civil_war }
			}
		}
		available = {
			is_subject = no
			OR = {
				if = {
					limit = { country_exists = yes }
					SPR = {
						exists = yes
						is_subject = no
						OR = {
							has_government = fascism
							has_government = monarchy
						}
					}
				}
				else = {
					SPA = {
						exists = yes
						is_subject = no
						OR = {
							has_government = fascism
							has_government = monarchy
						}
					}
				}
				POR = {
					exists = yes
					is_subject = no
					OR = {
						has_government = fascism
						has_government = monarchy
					}
				}
			}
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_invite_iberian_catholic"
			if = {
				limit = { SPA = { exists = yes } }
				SPA = { country_event = { id = NWmonarchy.44 days = 1 } }
			}
			else_if = {
				limit = { SPR = { exists = yes } }
				SPR = { country_event = { id = NWmonarchy.44 days = 1 } }
			}
			if = {
				limit = { POR = { exists = yes } }
				POR = { country_event = { id = NWmonarchy.44 days = 1 } }
			}
		}
	}
	
	focus = {
		id = HBBRG_divide_switzerland
		icon = GFX_focus_attack_switzerland
		prerequisite = { focus = HBBRG_catholic_league focus = HBBRG_seek_support_in_italy }
		x = 1
		y = 1
		relative_position_id = HBBRG_catholic_league

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 2.5
			modifier = {
				factor = 8
				alliance_strength_ratio > 0.5
			}
			modifier = {
				add = 10
				strength_ratio = {
					tag = SWI
					ratio > 1
				}
			}
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_divide_switzerland"
			if = {
				limit = { ITA = { is_in_faction_with = ROOT } }
				every_state = {
					limit = {
						OR = {
							state = 775
							state = 151
							state = 859
						}
					}
					add_claim_by = ROOT
					add_core_of = ROOT
				}
				every_state = {
					limit = {
						OR = {
							state = 3
							state = 861
							state = 860
						}
					}
					add_claim_by = ITA
					add_core_of = ITA
				}
			}
			else = {
				every_state = {
					limit = {
						OR = {
							state = 775
							state = 151
							state = 859
							state = 3
							state = 861
							state = 860
						}
					}
					add_claim_by = ROOT
					add_core_of = ROOT
				}
			}
		}
	}
	
	focus = {
		id = HBBRG_support_church
		icon = GFX_z_goal_monarchism_6
		prerequisite = { focus = HBBRG_catholic_empire }
		x = -2
		y = 1
		relative_position_id = HBBRG_catholic_empire

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
			NOT = {
				has_government = communism
				has_government = trozkism
				has_government = anarchism
				has_government = technocracy
			}
		}
		bypass = {
		}
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_support_church"
			add_stability = 0.05
			if = {
				limit = { has_idea = HBBRG_catholic_empire1 }
				remove_ideas = HBBRG_catholic_empire1
			}
			add_timed_idea = { idea = HBBRG_catholic_empire2 days = 1095 }
			if = {
				limit = { has_idea = HBBRG_patchwork_empire_1 }
				swap_ideas = {
					remove_idea = HBBRG_patchwork_empire_1
					add_idea = HBBRG_patchwork_empire_religian
				}
			}
		}
	}
	
	focus = {
		id = HBBRG_militarization_workshops
		icon = GFX_z_goal_ammo_industry
		prerequisite = { focus = HBBRG_catholic_empire }
		x = 0
		y = 1
		relative_position_id = HBBRG_catholic_empire

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_militarization_workshops"
			random_owned_controlled_state = {
				limit = {
					is_capital = yes
				}
				add_extra_state_shared_building_slots = 6
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = HBBRG_ask_pope
		icon = GFX_z_goal_ask_pope
		prerequisite = { focus = HBBRG_support_church }
		x = -1
		y = 1
		relative_position_id = HBBRG_support_church

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
			is_subject = no
			if = {
				limit = { country_exists = event_target:NW_hhnbrg_scope }
				OR = {
					NOT = { has_war_with = event_target:NW_hhnbrg_scope }
					event_target:NW_hhnbrg_scope = { has_capitulated = yes }
				}
			}
			NOT = {
				has_government = communism
				has_government = trozkism
				has_government = anarchism
				has_government = technocracy
			}
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_ask_pope"
			if = {
				limit = { is_in_faction_with = GER }
				leave_faction = yes
				add_ai_strategy = {
					type = alliance
					id = "GER"
					value = -1000
				}
				add_ai_strategy = {
					type = antagonize
					id = "GER"
					value = 200
				}
				add_ai_strategy = {
					type = conquer
					id = "GER"
					value = 200
				}
			}
			if = {
				limit = { VAT = { exists = yes } }
				VAT = { country_event = { id = NWmonarchy.20 days = 1 } }
			}
			else = {
				every_state = {
					limit = {
						is_core_of = GER
					}
					add_claim_by = ROOT
				}
				create_wargoal = {
					type = annex_everything
					target = GER
				}
				if = {
					limit = { GER = { has_civil_war = yes } }
					random_country = {
						limit = {
							original_tag = GER
							NOT = { tag = GER }
						}
						ROOT = {
							create_wargoal = {
								type = annex_everything
								target = PREV
							}
						}
					}
				}
				hidden_effect = {
					news_event = { hours = 6 id = trworldnews.44 }
				}
			}
			if = {
				limit = {
					ITA = {
						has_government = fascism
						NOT = { is_in_faction_with = ROOT }
						any_owned_state = {
							is_claimed_by = ROOT
						}
					}
					VAT = {
						is_guaranteed_by = ITA
						is_guaranteed_by = ROOT
					}
				}
				ITA = { country_event = { id = NWmonarchy.22 days = 1 } }
			}
		}
	}
	focus = {
		id = HBBRG_appeal_youngmens
		icon = GFX_z_goal_appeal_youngmens
		prerequisite = { focus = HBBRG_support_church }
		x = 1
		y = 1
		relative_position_id = HBBRG_support_church

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
			NOT = {
				has_government = communism
				has_government = trozkism
				has_government = anarchism
				has_government = technocracy
			}
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_appeal_youngmens"
			add_ideas = HBBRG_appeal_youngmens_idea
		}
	}
	
	focus = {
		id = HBBRG_rome_for_pope
		icon = GFX_z_goal_rome_for_pope
		prerequisite = { focus = HBBRG_ask_pope }
		x = -3
		y = 1
		relative_position_id = HBBRG_ask_pope

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
			is_subject = no
			country_exists = VAT
			NOT = {
				has_war_with = VAT
				has_government = communism
				has_government = trozkism
				has_government = anarchism
				has_government = technocracy
			}
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_rome_for_pope"
			if = {
				limit = { ROOT = { is_in_faction_with = ITA } }
				ITA = { country_event = { id = NWmonarchy.28 days = 1 } }
			}
			if = {
				limit = { ROOT = { NOT = { is_in_faction_with = ITA } } }
				2 = {
					add_claim_by = ROOT
				}
				every_state = {
					limit = {
						is_core_of = ITA
					}
					add_core_of = VAT
					add_claim_by = VAT
				}
				ROOT = {
					create_wargoal = {
						type = take_state_focus
						target = ITA
						generator = { 2 }
					}
					country_event = { id = NWmonarchy.42 days = 1 }
					add_ai_strategy = {
						type = antagonize
						id = "ITA"
						value = 200
					}
					add_ai_strategy = {
						type = befriend
						id = "VAT"
						value = 200
					}
					add_ai_strategy = {
						type = alliance
						id = "VAT"
						value = 200
					}
				}
				VAT = {
					create_wargoal = {
						type = annex_everything
						target = ITA
					}
					add_ai_strategy = {
						type = antagonize
						id = "ITA"
						value = 200
					}
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 200
					}
					add_ai_strategy = {
						type = alliance
						id = ROOT
						value = 200
					}
				}
			}
		}
	}
	
	focus = {
		id = HBBRG_balkan_crusade
		icon = GFX_z_goal_balkan_crusade
		prerequisite = { focus = HBBRG_ask_pope }
		x = -5
		y = 1
		relative_position_id = HBBRG_ask_pope

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
			is_subject = no
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_balkan_crusade"
			if = {
				limit = {
					country_exists = YUG
					YUG = {
						NOT = {
							is_subject_of = ROOT
							is_in_faction_with = ROOT
							has_war_with = ROOT
						}
					}
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = YUG
				}
			}
			if = {
				limit = {
					country_exists = BUL
					BUL = {
						NOT = {
							is_subject_of = ROOT
							is_in_faction_with = ROOT
							has_war_with = ROOT
						}
					}
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = BUL
				}
			}
			if = {
				limit = {
					country_exists = ALB
					ALB = {
						NOT = {
							is_subject_of = ROOT
							is_in_faction_with = ROOT
							has_war_with = ROOT
						}
					}
					if = {
						limit = { ITA = { is_in_faction_with = ROOT } }
						ALB = { NOT = { is_subject_of = ITA } }
					}
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ALB
				}
			}
			every_state = {
				limit = {
					OR = {
						is_core_of = YUG
						is_core_of = BUL
						is_core_of = ALB
					}
				}
				add_claim_by = ROOT
			}
			if = {
				limit = {
					country_exists = GRE
					GRE = { NOT = { is_subject_of = ROOT } }
				}
				country_event = { id = NWmonarchy.30 days = 1 }
			}
		}
	}
	
	focus = {
		id = HBBRG_return_constantinople
		icon = GFX_z_goal_return_constantinople
		prerequisite = { focus = HBBRG_balkan_crusade }
		x = -1
		y = 1
		relative_position_id = HBBRG_balkan_crusade

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
			modifier = {
				factor = 0.75
				has_war = yes
			}
		}
		available = {
			is_subject = no
			NOT = {
				has_government = communism
				has_government = trozkism
				has_government = anarchism
				has_government = technocracy
			}
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_return_constantinople"
			341 = { add_claim_by = ROOT }
			341 = {
				owner = {
					ROOT = {
						add_ai_strategy = {
							type = antagonize
							id = PREV
							value = 1000
						}
						add_ai_strategy = {
							type = conquer
							id = PREV
							value = 1000
						}
						add_ai_strategy = {
							type = declare_war
							id = PREV
							value = 1000
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = HBBRG_return_holy_earth
		icon = GFX_z_goal_monarchism_19
		prerequisite = { focus = HBBRG_balkan_crusade }
		x = 1
		y = 1
		relative_position_id = HBBRG_balkan_crusade

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
			modifier = {
				factor = 0.75
				has_war = yes
			}
		}
		available = {
			is_subject = no
			NOT = {
				has_government = communism
				has_government = trozkism
				has_government = anarchism
				has_government = technocracy
			}
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_return_holy_earth"
			every_state = {
				limit = {
					is_core_of = BPL
				}
				add_claim_by = ROOT
				owner = {
					ROOT = {
						add_ai_strategy = {
							type = antagonize
							id = PREV
							value = 1000
						}
						add_ai_strategy = {
							type = conquer
							id = PREV
							value = 1000
						}
						add_ai_strategy = {
							type = declare_war
							id = PREV
							value = 1000
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = HBBRG_great_german_way
		icon = GFX_z_focus_habsburg_great_german_way
		prerequisite = { focus = HBBRG_ask_pope }
		x = -1
		y = 1
		relative_position_id = HBBRG_ask_pope

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			is_subject = no
			has_full_control_of_state = 52
			has_full_control_of_state = 53
			has_full_control_of_state = 64
			has_full_control_of_state = 66
			has_full_control_of_state = 67
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_great_german_way"
			add_political_power = 100
			if = {
				limit = { has_idea = HBBRG_catholic_empire2 }
				remove_ideas = HBBRG_catholic_empire2
			}
			add_timed_idea = { idea = HBBRG_catholic_empire3 days = 1095 }
		}
	}
	
	focus = {
		id = HBBRG_declare_himself_new_germany
		icon = GFX_z_goal_new_germany
		prerequisite = { focus = HBBRG_great_german_way }
		mutually_exclusive = { focus = HBBRG_holy_roman_empire }
		x = -1
		y = 1
		relative_position_id = HBBRG_great_german_way

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 2
				original_tag = AUS
			}
		}
		available = {
			is_subject = no
			has_full_control_of_state = 64
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_declare_himself_new_germany"
			every_state = {
				limit = {
					is_core_of = GER
					NOT = { is_claimed_by = VAT }
				}
				add_core_of = ROOT
			}
			set_cosmetic_tag = Habsburg_GER_tag
			country_event = { id = NWmonarchy.102 }
			hidden_effect = {
				news_event = { hours = 6 id = trworldnews.45 }
			}
		}
	}
	
	focus = {
		id = HBBRG_holy_roman_empire
		icon = GFX_z_goal_roman_empire
		prerequisite = { focus = HBBRG_great_german_way }
		mutually_exclusive = { focus = HBBRG_declare_himself_new_germany }
		x = 1
		y = 1
		relative_position_id = HBBRG_great_german_way

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 20
		}
		available = {
			is_subject = no
			has_full_control_of_state = 64
			NOT = {
				has_government = communism
				has_government = trozkism
				has_government = anarchism
				has_government = technocracy
			}
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_holy_roman_empire"
			custom_effect_tooltip = HBBRG_holy_roman_empire_tt
			hidden_effect = {
				#Прусс
				every_controlled_state = {
					limit = {
						OR = {
							is_core_of = PRS
							is_core_of = SLZ
							is_core_of = POM
							state = 885
							state = 63
							state = 803
							state = 62
							state = 804
							state = 64
							state = 800
							state = 66
							state = 67
						}
						NOT = { state = 768 }
					}
					add_core_of = PRS
					PRS = { transfer_state = PREV }
				}
				if = {
					limit = { 85 = { owner = { OR = { tag = ROOT is_subject_of = ROOT } } } }
					85 = { add_core_of = PRS }
					PRS = { transfer_state = 85 }
				}
				if = {
					limit = { 86 = { owner = { OR = { tag = ROOT is_subject_of = ROOT } } } }
					86 = { add_core_of = PRS }
					PRS = { transfer_state = 86 }
				}
				if = {
					limit = { has_government = fascism }
					set_autonomy = {
						target = PRS
						autonomy_state = autonomy_reichsprotectorate
					}
				}
				if = {
					limit = { has_government = monarchy }
					set_autonomy = {
						target = PRS
						autonomy_state = autonomy_habs_imperial_uniate
					}
				}
				if = {
					limit = { NOT = { has_government = fascism has_government = monarchy } }
					set_autonomy = {
						target = PRS
						autonomy_state = autonomy_puppet
					}
				}
				
				#Гесс
				every_controlled_state = {
					limit = {
						OR = {
							is_core_of = HES
							is_core_of = REI
							is_core_of = SAR
							state = 766
							state = 835
							state = 42
							state = 51
							state = 829
							state = 836
							state = 57
						}
					}
					add_core_of = HES
					HES = { transfer_state = PREV }
				}
				if = {
					limit = { has_government = fascism }
					set_autonomy = {
						target = HES
						autonomy_state = autonomy_reichsprotectorate
					}
				}
				if = {
					limit = { has_government = monarchy }
					set_autonomy = {
						target = HES
						autonomy_state = autonomy_habs_imperial_uniate
					}
				}
				if = {
					limit = { FROM = { NOT = { has_government = fascism has_government = monarchy } } }
					set_autonomy = {
						target = HES
						autonomy_state = autonomy_puppet
					}
				}
				
				#Бавария
				every_controlled_state = {
					limit = {
						is_core_of = BAV
					}
					BAV = { transfer_state = PREV }
				}
				if = {
					limit = { has_government = fascism }
					set_autonomy = {
						target = BAV
						autonomy_state = autonomy_reichsprotectorate
					}
				}
				if = {
					limit = { has_government = monarchy }
					set_autonomy = {
						target = BAV
						autonomy_state = autonomy_habs_imperial_uniate
					}
				}
				if = {
					limit = { FROM = { NOT = { has_government = fascism has_government = monarchy } } }
					set_autonomy = {
						target = BAV
						autonomy_state = autonomy_puppet
					}
				}
				
				#Вюртенберг
				every_controlled_state = {
					limit = {
						OR = {
							is_core_of = VUR
							is_core_of = BDN
						}
					}
					add_core_of = VUR
					VUR = { transfer_state = PREV }
				}
				if = {
					limit = { has_government = fascism }
					set_autonomy = {
						target = VUR
						autonomy_state = autonomy_reichsprotectorate
					}
				}
				if = {
					limit = { has_government = monarchy }
					set_autonomy = {
						target = VUR
						autonomy_state = autonomy_habs_imperial_uniate
					}
				}
				if = {
					limit = { FROM = { NOT = { has_government = fascism has_government = monarchy } } }
					set_autonomy = {
						target = VUR
						autonomy_state = autonomy_puppet
					}
				}
				
				#Саксония
				every_controlled_state = {
					limit = {
						OR = {
							is_core_of = SAX
							is_core_of = SOR
							is_core_of = TRN
						}
					}
					add_core_of = SAX
					SAX = { transfer_state = PREV }
				}
				if = {
					limit = { has_government = fascism }
					set_autonomy = {
						target = SAX
						autonomy_state = autonomy_reichsprotectorate
					}
				}
				if = {
					limit = { has_government = monarchy }
					set_autonomy = {
						target = SAX
						autonomy_state = autonomy_habs_imperial_uniate
					}
				}
				if = {
					limit = { FROM = { NOT = { has_government = fascism has_government = monarchy } } }
					set_autonomy = {
						target = SAX
						autonomy_state = autonomy_puppet
					}
				}
				
				#Ганновер
				every_controlled_state = {
					limit = {
						OR = {
							is_core_of = HNN
							is_core_of = WST
							is_core_of = OLD
							is_core_of = HAM
							is_core_of = SLE
							is_core_of = MKB
							state = 58
							state = 807
						}
					}
					add_core_of = HNN
					HNN = { transfer_state = PREV }
				}
				if = {
					limit = { has_government = fascism }
					set_autonomy = {
						target = HNN
						autonomy_state = autonomy_reichsprotectorate
					}
				}
				if = {
					limit = { has_government = monarchy }
					set_autonomy = {
						target = HNN
						autonomy_state = autonomy_habs_imperial_uniate
					}
				}
				if = {
					limit = { FROM = { NOT = { has_government = fascism has_government = monarchy } } }
					set_autonomy = {
						target = HNN
						autonomy_state = autonomy_puppet
					}
				}
				news_event = { hours = 6 id = trworldnews.46 }
				set_global_flag = form_hre_flag
				set_cosmetic_tag = HRE_UNIFIED
				every_other_country = {
					limit = { is_subject_of = ROOT }
					set_cosmetic_tag = HRE_subject_cosmetic
				}
			}
		}
	}
	
	focus = {
		id = HBBRG_deus_vult
		icon = GFX_z_goal_monarchism_21
		prerequisite = { focus = HBBRG_return_constantinople }
		prerequisite = { focus = HBBRG_return_holy_earth }
		prerequisite = { focus = HBBRG_declare_himself_new_germany focus = HBBRG_holy_roman_empire }
		
		x = -1
		y = 1
		relative_position_id = HBBRG_declare_himself_new_germany

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			is_subject = no
			NOT = {
				has_government = communism
				has_government = trozkism
				has_government = anarchism
				has_government = technocracy
			}
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_deus_vult"
			add_political_power = 100
			add_popularity = {
				ideology = fascism
				popularity = 0.15
			}
			add_ideas = HBBRG_deus_vult
			if = {
				limit = { has_idea = HBBRG_patchwork_empire_1 }
				remove_ideas = HBBRG_patchwork_empire_1
			}
			if = {
				limit = { has_idea = HBBRG_patchwork_empire_religian }
				remove_ideas = HBBRG_patchwork_empire_religian
			}
			add_ai_strategy = {
				type = antagonize
				id = SOV
				value = 400
			}
		}
	}
	
	focus = {
		id = HBBRG_polish_ally
		icon = GFX_focus_generic_polish_deal
		prerequisite = { focus = HBBRG_ask_pope }
		mutually_exclusive = { focus = HBBRG_invite_habbs_poland }
		x = 2
		y = 2
		relative_position_id = HBBRG_ask_pope

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 4
		}
		available = {
			is_subject = no
			is_in_faction = yes
		}
		bypass = {
			POL = { exists = no }
		}

		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_polish_ally"
			country_event = { id = NWmonarchy.32 days = 1 }
			if = {
				limit = { SOV = { exists = yes } }
				SOV = { country_event = { id = NWmonarchy.43 days = 3 } }
			}
		}
	}
	
	focus = {
		id = HBBRG_protect_faithful_baltic
		icon = GFX_z_goal_monarchism_10
		prerequisite = { focus = HBBRG_polish_ally }
		x = 0
		y = 1
		relative_position_id = HBBRG_polish_ally

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 8
		}
		available = {
			is_subject = no
			is_in_faction = yes
			OR = {
				country_exists = LIT
				country_exists = LAT
				country_exists = EST
			}
			OR = {
				LIT = {
					NOT = { has_war_with = ROOT }
					is_subject = no
				}
				LAT = {
					NOT = { has_war_with = ROOT }
					is_subject = no
				}
				EST = {
					NOT = { has_war_with = ROOT }
					is_subject = no
				}
			}
			NOT = {
				has_government = communism
				has_government = trozkism
				has_government = anarchism
				has_government = technocracy
			}
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_protect_faithful_baltic"
			every_other_country = {
				limit = {
					OR = {
						tag = LIT
						tag = LAT
						tag = EST
					}
					NOT = { has_war_with = ROOT }
					is_subject = no
				}
				country_event = { id = NWmonarchy.34 days = 1 }
			}
		}
	}
	
	
	#Пограничные фокусы
	focus = {
		id = HBBRG_invite_habbs_poland
		icon = GFX_z_goal_invite_poland
		prerequisite = { focus = HBBRG_ask_pope focus = HBBRG_give_autonomy_slavs }
		mutually_exclusive = { focus = HBBRG_polish_ally focus = HBBRG_annex_poland }
		x = 4
		y = 2
		relative_position_id = HBBRG_ask_pope

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 4
		}
		available = {
			is_subject = no
			POL = { exists = yes }
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_invite_habbs_poland"
			POL = { country_event = { id = NWmonarchy.35 days = 1 } }
			SOV = { country_event = { id = NWmonarchy.43 days = 3 } }
		}
	}
	
	focus = {
		id = HBBRG_ukrains_for_empire
		icon = GFX_z_goal_polish_ukrainian
		prerequisite = { focus = HBBRG_invite_habbs_poland focus = HBBRG_annex_poland }
		mutually_exclusive = { focus = HBBRG_annex_ukrainian }
		x = 0
		y = 1
		relative_position_id = HBBRG_invite_habbs_poland

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 2
		}
		available = {
			is_subject = no
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_ukrains_for_empire"
			if = {
				limit = {
					OR = {
						POL = { is_subject_of = ROOT }
						POL = { is_in_faction_with = ROOT }
					}
				}
				every_state = {
					limit = {
						is_core_of = UKR
					}
					add_core_of = POL
					add_claim_by = POL
					add_claim_by = ROOT
				}
			}
			else_if = {
				limit = {
					POL = {
						NOT = {
							is_subject_of = ROOT
							is_in_faction_with = ROOT
						}
					}
				}
				every_state = {
					limit = {
						is_core_of = UKR
					}
					add_claim_by = ROOT
				}
			}

			add_ai_strategy = {
				type = antagonize
				id = SOV
				value = 200
			}
			add_ai_strategy = {
				type = antagonize
				id = UKR
				value = 200
			}
		}
	}
	
	
	##########################
	#### MONARCHY SECTION ####
	##########################
	
	
	focus = {
		id = HBBRG_austrian_hungary
		icon = GFX_focus_proclaim_the_restauration_of_Austria_Hungary
		prerequisite = { focus = HBBRG_structure_empire }
		mutually_exclusive = { focus = HBBRG_catholic_empire focus = HBBRG_new_look_empire }
		x = 0
		y = 1
		relative_position_id = HBBRG_structure_empire

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
			modifier = {
				add = 500
				has_global_flag = NW_HBBRG_AI_AUSTRIA_HUNGARY
			}
			modifier = {
				factor = 0.1
				NOT = {
					has_completed_focus = HBBRG_austrian
					has_completed_focus = HBBRG_hungary
					has_completed_focus = HBBRG_czechoslovakia
				}
			}
			modifier = {
				factor = 0
				has_global_flag = NW_HBBRG_AI_FASCIST
			}
			modifier = {
				factor = 0
				OR = {
					has_global_flag = NW_HBBRG_AI_DEMOCRATIC
					has_global_flag = NW_HBBRG_AI_DEMOCRATIC_ALTERNATE
				}
			}
		}
		available = {
			is_subject = no
			NOT = { has_country_flag = nobles_imposed_restrictions_on_otto }
			NOT = { has_country_flag = HHNBRG_concessions_made_reactionaries }
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_austrian_hungary"
			if = {
				limit = { NOT = { has_government = monarchy } }
				set_politics = {
					ruling_party = monarchy
					elections_allowed = no
				}
			}
			if = {
				limit = { monarchy < 0.100 }
				add_popularity = {
					ideology = monarchy
					popularity = 0.4
				}
			}
			add_stability = 0.05
			add_timed_idea = { idea = HBBRG_monarchy_empire1 days = 1095 }
			if = {
				limit = { has_idea = HUN_treaty_of_triannon }
				remove_ideas = HUN_treaty_of_triannon
			}
			set_cosmetic_tag = HUN_EMPIRE
			hidden_effect = {
				create_country_leader = {
					name = "Otto von Habsburg"
					desc = "POLITICS_OTTO_VON_HABSBURG_DESC"
					picture = GFX_Portrait_hungary_otto_von_hapsburg
					expire = "1965.1.1"
					ideology = absolute_monarchy
					traits = {
					}
				}
				news_event = { hours = 6 id = trworldnews.49 }
			}
		}
	}
	
	focus = {
		id = HBBRG_return_national_council
		icon = GFX_z_goal_national_council
		prerequisite = { focus = HBBRG_austrian_hungary }
		x = -3
		y = 1
		relative_position_id = HBBRG_austrian_hungary

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_return_national_council"
			add_ideas = HBBRG_national_council
		}
	}
	
	focus = {
		id = HBBRG_support_national_economy
		icon = GFX_z_goal_monarchism_13
		prerequisite = { focus = HBBRG_return_national_council }
		x = 0
		y = 1
		relative_position_id = HBBRG_return_national_council

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_support_national_economy"
			random_owned_controlled_state = {
				limit = {
					is_capital = yes
				}
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = HBBRG_imperial_defense_industry
		icon = GFX_z_goal_monarchists_factories
		prerequisite = { focus = HBBRG_support_national_economy }
		x = 0
		y = 1
		relative_position_id = HBBRG_support_national_economy

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_imperial_defense_industry"
			random_owned_controlled_state = {
				limit = {
					is_capital = yes
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			add_ideas = HBBRG_imperial_defense_industry
		}
	}
	
	focus = {
		id = HBBRG_confirm_dualism
		icon = GFX_z_goal_confirm_dualism2
		prerequisite = { focus = HBBRG_austrian_hungary }
		x = -1
		y = 1
		relative_position_id = HBBRG_austrian_hungary

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			has_government = monarchy
			custom_trigger_tooltip = {
				tooltip = form_country_austria_required_states_tt
				NOT = {
					any_state = {
						is_core_of = AUS
						is_on_continent = europe
						NOT = { is_controlled_by = ROOT }
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = form_country_hungary_required_states_tt
				NOT = {
					any_state = {
						is_core_of = HUN
						is_on_continent = europe
						NOT = { is_controlled_by = ROOT }
					}
				}
			}
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_confirm_dualism"
			add_stability = 0.05
			set_country_leader_ideology = dual_monarchy
			custom_effect_tooltip = set_country_leader_ideology_dual_monarchy
			if = {
				limit = { has_idea = HBBRG_monarchy_empire1 }
				remove_ideas = HBBRG_monarchy_empire1
			}
			add_ideas = HBBRG_monarchy_empire2
			if = {
				limit = { has_idea = HBBRG_patchwork_empire_1 }
				swap_ideas = {
					remove_idea = HBBRG_patchwork_empire_1
					add_idea = HBBRG_patchwork_empire_dualism
				}
			}
			custom_effect_tooltip = form_country_hungary_coring_states_tt
			custom_effect_tooltip = form_country_austria_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						is_controlled_by = ROOT
						is_on_continent = europe
						NOT = { is_core_of = ROOT }
						OR = {
							is_core_of = AUS
							is_core_of = HUN
						}
					}
					add_core_of = ROOT
				}
			}
		}
	}
	
	focus = {
		id = HBBRG_revive_imperialism
		icon = GFX_z_goal_swing_the_sword
		prerequisite = { focus = HBBRG_confirm_dualism }
		x = 0
		y = 1
		relative_position_id = HBBRG_confirm_dualism

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_revive_imperialism"
			add_war_support = 0.1
			add_ideas = HBBRG_revive_imperialism
		}
	}
	
	focus = {
		id = HBBRG_give_autonomy_slavs
		icon = GFX_z_goal_autonomy_slavs
		prerequisite = { focus = HBBRG_revive_imperialism }
		x = 0
		y = 1
		relative_position_id = HBBRG_revive_imperialism

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = form_country_yugoslavia_required_states_tt
				controls_state = 45
				controls_state = 102
				controls_state = 103
				controls_state = 104
				controls_state = 105
				controls_state = 106
				controls_state = 107
				controls_state = 108
				controls_state = 109
				
				controls_state = 778
				controls_state = 779
				controls_state = 811
				controls_state = 812
				controls_state = 813
				controls_state = 814
				controls_state = 816
				controls_state = 817
				controls_state = 825
				controls_state = 826
				controls_state = 827
				controls_state = 828
				controls_state = 858
			}
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_give_autonomy_slavs"
			add_ideas = HBBRG_autonomy_slavs
			if = {
				limit = { has_idea = HBBRG_patchwork_empire_1 }
				remove_ideas = HBBRG_patchwork_empire_1
			}
			if = {
				limit = { has_idea = HBBRG_patchwork_empire_dualism }
				remove_ideas = HBBRG_patchwork_empire_dualism
			}
		}
	}
	
	focus = {
		id = HBBRG_annex_poland
		icon = GFX_z_goal_annex_poland
		prerequisite = { focus = HBBRG_give_autonomy_slavs }
		mutually_exclusive = { focus = HBBRG_invite_habbs_poland }
		x = -1
		y = 1
		relative_position_id = HBBRG_give_autonomy_slavs

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 3
				strength_ratio = {
					tag = POL
					ratio > 2
				}
			}
			modifier = {
				factor = 3
				alliance_strength_ratio > 3
			}
			modifier = {
				factor = 0.5
				has_war = yes
			}
		}
		available = {
			country_exists = POL
			is_subject = no
		}
		bypass = {
		
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_annex_poland"
			create_wargoal = {
				type = puppet_wargoal_focus
				target = POL
			}
			SOV = { country_event = { id = NWmonarchy.43 } }
		}
	}
	
	focus = {
		id = HBBRG_annex_ukrainian
		icon = GFX_z_goal_annex_ukrainian
		prerequisite = { focus = HBBRG_annex_poland }
		mutually_exclusive = { focus = HBBRG_ukrains_for_empire }
		x = 0
		y = 1
		relative_position_id = HBBRG_annex_poland

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0.1
				alliance_strength_ratio < 2
			}
			modifier = {
				factor = 0.1
				strength_ratio = {
					tag = SOV
					ratio < 1.5
				}
			}
		}
		available = {
			is_subject = no
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_annex_ukrainian"
			every_state = {
				limit = {
					is_core_of = UKR
				}
				add_claim_by = ROOT
			}
			add_ai_strategy = {
				type = antagonize
				id = SOV
				value = 200
			}
			add_ai_strategy = {
				type = antagonize
				id = UKR
				value = 200
			}
		}
	}
	
	focus = {
		id = HBBRG_exarticulate_slavia
		icon = GFX_z_focus_exarticulate_slavia
		prerequisite = { focus = HBBRG_give_autonomy_slavs }
		x = 1
		y = 1
		relative_position_id = HBBRG_give_autonomy_slavs

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_exarticulate_slavia"
			set_cosmetic_tag = HBBRG_HUN_AUS_SLAVIA_tag
			add_war_support = 0.1
			custom_effect_tooltip = form_country_yugoslavia_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						NOT = { is_core_of = ROOT }
						OR = {
							state = 45
							state = 102
							state = 103
							state = 104
							state = 105
							state = 106
							state = 107
							state = 108
							state = 109
							
							state = 778
							state = 779
							state = 811
							state = 812
							state = 813
							state = 814
							state = 816
							state = 817
							state = 825
							state = 826
							state = 827
							state = 828
							state = 858
						}
					}
					add_core_of = ROOT
				}
			}
		}
	}
	
	focus = {
		id = HBBRG_position_of_active_intervention
		icon = GFX_focus_generic_monarchy_1
		prerequisite = { focus = HBBRG_exarticulate_slavia }
		x = 0
		y = 1
		relative_position_id = HBBRG_exarticulate_slavia

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 15
		}
		available = {
			is_subject = no
			has_completed_focus = HBBRG_vanguard_monarchy
			has_government = monarchy
			is_faction_leader = yes
			any_other_country = {
				is_major = yes
				is_in_faction_with = ROOT
			}
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_position_of_active_intervention"
			unlock_decision_category_tooltip = generic_policy_interventions_category
			unlock_decision_category_tooltip = generic_interventions_start_civil_war_category
			custom_effect_tooltip = HBBRG_position_of_active_intervention_tt
			hidden_effect = {
				every_other_country = {
					limit = {
						has_government = monarchy
						capital_scope = { is_on_continent = europe }
					}
					add_to_array = { global.HBBRG_monarchy_of_europe_array = THIS }
				}
			}
		}
	}
	
	
	focus = {
		id = HBBRG_sacred_ally
		icon = GFX_z_goal_sacred_ally
		prerequisite = { focus = HBBRG_austrian_hungary }
		x = 3
		y = 1
		relative_position_id = HBBRG_austrian_hungary

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 12
		}
		available = {
			is_subject = no
			if = {
				limit = { country_exists = event_target:NW_hhnbrg_scope }
				OR = {
					NOT = { has_war_with = event_target:NW_hhnbrg_scope }
					event_target:NW_hhnbrg_scope = { has_capitulated = yes }
				}
			}
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_sacred_ally"
			set_rule = { can_create_factions = yes }
			if = {
				limit = { is_faction_leader = yes }
				set_faction_name = HBBRG_sacred_ally
			}
			else = { create_faction = HBBRG_sacred_ally }
			hidden_effect = {
				news_event = { hours = 6 id = trworldnews.50 }
			}
		}
	}
	
	focus = {
		id = HBBRG_invite_italia
		icon = GFX_z_goal_italy
		prerequisite = { focus = HBBRG_sacred_ally }
		mutually_exclusive = { focus = HBBRG_return_power_viktor }
		x = -2
		y = 1
		relative_position_id = HBBRG_sacred_ally

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
			modifier = {
				ITA = { has_government = monarchy }
				factor = 10
			}
		}
		available = {
			is_faction_leader = yes
			is_subject = no
			ITA = { has_government = monarchy }
		}
		bypass = {
			ITA = { is_in_faction_with = ROOT }
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_invite_italia"
			ITA = { country_event = { id = NWmonarchy.37 days = 1 } }
		}
	}
	
	focus = {
		id = HBBRG_invite_germany
		icon = GFX_z_goal_germany
		prerequisite = { focus = HBBRG_invite_italia focus = HBBRG_return_power_viktor }
		mutually_exclusive = { focus = HBBRG_return_power_wilhelm }
		x = 0
		y = 1
		relative_position_id = HBBRG_invite_italia

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
			modifier = {
				GER = { has_government = monarchy }
				factor = 10
			}
		}
		available = {
			is_faction_leader = yes
			is_subject = no
			GER = { has_government = monarchy }
		}
		bypass = {
			GER = { is_in_faction_with = ROOT }
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_invite_germany"
			GER = { country_event = { id = NWmonarchy.37 days = 1 } }
		}
	}
	
	focus = {
		id = HBBRG_return_power_viktor
		icon = GFX_z_goal_return_power_viktor
		prerequisite = { focus = HBBRG_sacred_ally }
		mutually_exclusive = { focus = HBBRG_invite_italia }
		x = 0
		y = 1
		relative_position_id = HBBRG_sacred_ally

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.5
				has_war = yes
			}
			modifier = {
				factor = 0.5
				date < 1938.1.1
			}
			modifier = {
				add = 15
				alliance_strength_ratio > 2.5
			}
			modifier = {
				add = 15
				strength_ratio = {
					tag = ITA
					ratio > 1.5
				}
			}
		}
		available = {
			ITA = { NOT = { has_government = monarchy } }
			is_subject = no
		}
		bypass = {
			has_war_with = ITA
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_return_power_viktor"
			create_wargoal = {
				type = puppet_wargoal_focus
				target = ITA
			}
		}
	}
	
	focus = {
		id = HBBRG_return_power_wilhelm
		icon = GFX_z_goal_return_power_wilhelm
		prerequisite = { focus = HBBRG_invite_italia focus = HBBRG_return_power_viktor }
		mutually_exclusive = { focus = HBBRG_invite_germany }
		x = 0
		y = 1
		relative_position_id = HBBRG_return_power_viktor

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.5
				has_war = yes
			}
			modifier = {
				factor = 0.5
				date < 1938.01.01
			}
			modifier = {
				add = 15
				alliance_strength_ratio > 2.5
			}
			modifier = {
				add = 15
				strength_ratio = {
					tag = GER
					ratio > 1.5
				}
			}
		}
		available = {
			GER = { NOT = { has_government = monarchy } }
			is_subject = no
		}
		bypass = {
			has_war_with = GER
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_return_power_wilhelm"
			create_wargoal = {
				type = puppet_wargoal_focus
				target = GER
			}
		}
	}
	
	focus = {
		id = HBBRG_return_power_romanovs
		icon = GFX_z_goal_return_power_romanovs
		prerequisite = { focus = HBBRG_invite_germany focus = HBBRG_return_power_wilhelm }
		x = -1
		y = 1
		relative_position_id = HBBRG_return_power_wilhelm

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.3
				has_war = yes
			}
			modifier = {
				add = 15
				alliance_strength_ratio > 2
			}
			modifier = {
				add = 15
				strength_ratio = {
					tag = SOV
					ratio > 1.5
				}
			}
		}
		available = {
			SOV = { NOT = { has_government = monarchy } }
			is_subject = no
		}
		bypass = {
			OR = {
				SOV = { has_government = monarchy }
				has_war_with = SOV
			}
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_return_power_romanovs"
			create_wargoal = {
				type = puppet_wargoal_focus
				target = SOV
			}
		}
	}
	
	focus = {
		id = HBBRG_vanguard_monarchy
		icon = GFX_z_goal_vanguard_monarchy
		prerequisite = { focus = HBBRG_sacred_ally }
		x = 2
		y = 1
		relative_position_id = HBBRG_sacred_ally

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 8
		}
		available = {
			is_subject = no
			is_faction_leader = yes
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_vanguard_monarchy"
			add_political_power = 100
			add_named_threat = { threat = 2 name = HBBRG_vanguard_monarchy }
			every_other_country = {
				limit = {
					OR = {
						AND = {
							NOT = {
								has_war_with = ROOT
								is_in_faction_with = ROOT
							}
							is_subject = no
							#capital_scope = { is_on_continent = europe }
							has_government = monarchy
							any_owned_state = {
								is_on_continent = europe
								is_core_of = PREV
							}
						}
						AND = {
							NOT = {
								has_war_with = ROOT
								is_in_faction_with = ROOT
							}
							has_government = monarchy
							is_subject = no
							is_ai = no
						}
					}
				}
				country_event = { id = NWmonarchy.37 days = 1 }
			}
		}
	}
	
	focus = {
		id = HBBRG_fate_yugoslavia
		icon = GFX_z_goal_fate_yugoslavia
		prerequisite = { focus = HBBRG_vanguard_monarchy }
		x = 0
		y = 1
		relative_position_id = HBBRG_vanguard_monarchy

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			is_subject = no
			country_exists = YUG
			YUG = {
				is_subject = no
				NOT = { is_in_faction_with = ROOT }
			}
		}
		bypass = {
			OR = {
				has_war_with = YUG
				NOT = { country_exists = YUG }
				YUG = {
					OR = {
						is_subject_of = ROOT
						is_in_faction_with = ROOT
					}
				}
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_fate_yugoslavia"
			country_event = { id = NWmonarchy.38 days = 1 }
		}
	}
	
	focus = {
		id = HBBRG_fate_greece
		icon = GFX_z_goal_fate_greece
		prerequisite = { focus = HBBRG_fate_yugoslavia }
		x = -1
		y = 1
		relative_position_id = HBBRG_fate_yugoslavia

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			is_subject = no
			country_exists = GRE
			GRE = {
				is_subject = no
				NOT = { is_in_faction_with = ROOT }
			}
		}
		bypass = {
			OR = {
				has_war_with = GRE
				NOT = { country_exists = GRE }
				GRE = {
					OR = {
						is_subject_of = ROOT
						is_in_faction_with = ROOT
					}
				}
			}
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_fate_greece"
			country_event = { id = NWmonarchy.39 days = 1 }
		}
	}
	
	focus = {
		id = HBBRG_return_european_lands
		icon = GFX_z_goal_return_european_lands
		prerequisite = { focus = HBBRG_return_power_romanovs focus = HBBRG_fate_greece }
		x = -1
		y = 1
		relative_position_id = HBBRG_fate_greece

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0.1
				OR = {
					41 = {
						controller = {
							strength_ratio = {
								tag = ROOT
								ratio > 1
							}
						}
					}
					6 = {
						controller = {
							strength_ratio = {
								tag = ROOT
								ratio > 1
							}
						}
					}
				}
			}
			modifier = {
				add = 15
				41 = {
					controller = {
						strength_ratio = {
							tag = ROOT
							ratio < 1.5
						}
					}
				}
				6 = {
					controller = {
						strength_ratio = {
							tag = ROOT
							ratio < 1.5
						}
					}
				}
			}
		}
		available = {
			is_subject = no
		}
		bypass = {
			has_full_control_of_state = 41
			has_full_control_of_state = 6
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_return_european_lands"
			if = {
				limit = { NOT = { has_full_control_of_state = 41 } }
				41 = {
					controller = {
						ROOT = {
							create_wargoal = {
								type = puppet_wargoal_focus
								target = PREV
							}
						}
					}
				}
			}
			if = {
				limit = { NOT = { has_full_control_of_state = 6 } }
				6 = {
					controller = {
						ROOT = {
							create_wargoal = {
								type = puppet_wargoal_focus
								target = PREV
							}
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = HBBRG_return_overseas_lands
		icon = GFX_z_goal_return_overseas_lands
		prerequisite = { focus = HBBRG_return_european_lands }
		x = 0
		y = 1
		relative_position_id = HBBRG_return_european_lands

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0.1
				strength_ratio = {
					tag = MEX
					ratio < 1
				}
			}
			modifier = {
				add = 15
				strength_ratio = {
					tag = MEX
					ratio > 1.5
				}
			}
			
		}
		available = {
			is_subject = no
		}
		bypass = {
			OR = {
				NOT = {
					country_exists = MEX
					country_exists = KMX
				}
				has_war_with = MEX
				has_war_with = KMX
			}
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_return_overseas_lands"
			if = {
				limit = { country_exists = MEX }
				create_wargoal = {
					type = puppet_wargoal_focus
					target = MEX
				}
			}
			if = {
				limit = { country_exists = KMX }
				create_wargoal = {
					type = puppet_wargoal_focus
					target = KMX
				}
			}
		}
	}
	
	
	
	
	############################
	#### DEMOCRATIC SECTION ####
	############################
	
	
	focus = {
		id = HBBRG_new_look_empire
		icon = GFX_goal_support_democracy
		prerequisite = { focus = HBBRG_structure_empire }
		mutually_exclusive = { focus = HBBRG_catholic_empire focus = HBBRG_austrian_hungary }
		x = 5
		y = 1
		relative_position_id = HBBRG_structure_empire

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
			modifier = {
				add = 500
				OR = {
					has_global_flag = NW_HBBRG_AI_DEMOCRATIC
					has_global_flag = NW_HBBRG_AI_DEMOCRATIC_ALTERNATE
				}
			}
			modifier = {
				factor = 0.1
				NOT = {
					has_completed_focus = HBBRG_austrian
					has_completed_focus = HBBRG_hungary
					has_completed_focus = HBBRG_czechoslovakia
				}
			}
			modifier = {
				factor = 0
				has_global_flag = NW_HBBRG_AI_FASCIST
			}
			modifier = {
				factor = 0
				has_global_flag = NW_HBBRG_AI_AUSTRIA_HUNGARY
			}
		}
		available = {
			is_subject = no
			NOT = { has_country_flag = HHNBRG_block_demo_tree }
			NOT = { has_country_flag = nobles_imposed_restrictions_on_otto }
			NOT = { has_country_flag = HHNBRG_block_demo_tree_2 }
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_new_look_empire"
			create_country_leader = {
				name = "Richard Nikolaus Coudenhove-Kalergi"
				desc = "POLITICS_COUDENHOVE_KALERGI_DESC"
				picture = "gfx/leaders/AUS/Portrait_Coudenhove_Kalergi.dds"
				expire = "1965.1.1"
				ideology = socialism
				traits = {
					father_of_europe
				}
			}
			set_politics = {
				ruling_party = democratic
				elections_allowed = no
			}
			add_popularity = {
				ideology = democratic
				popularity = 0.40
			}
			add_stability = -0.05
			if = {
				limit = { has_idea = HUN_treaty_of_triannon }
				remove_ideas = HUN_treaty_of_triannon
			}
			if = {
				limit = { has_idea = HUN_habsburg_restored }
				swap_ideas = {
					remove_idea = HUN_habsburg_restored
					add_idea = HBBRG_new_look_empire
				}
			}
			hidden_effect = {
				every_state = {
					limit = {
						is_claimed_by = ROOT
						NOT = { is_fully_controlled_by = ROOT }
					}
					remove_claim_by = ROOT
				}
			}
			if = {
				limit = {
					is_in_faction = yes
					any_country = {
						is_in_faction_with = ROOT
						is_faction_leader = yes
						NOT = {
							has_government = democratic
							has_government = neutrality
							has_government = technocracy
						}
					}
				}
				leave_faction = yes
			}
		}
	}
	
	focus = {
		id = HBBRG_adopt_democratic_constitution
		icon = GFX_focus_generic_treaty
		prerequisite = { focus = HBBRG_new_look_empire }
		x = 9
		y = 1
		relative_position_id = HBBRG_new_look_empire

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_adopt_democratic_constitution"
			add_popularity = {
				ideology = democratic
				popularity = 0.2
			}
			add_stability = 0.1
			add_ideas = HBBRG_democratic_constitution
			if = {
				limit = { has_idea = HBBRG_patchwork_empire_1 }
				remove_ideas = HBBRG_patchwork_empire_1
			}
		}
	}
	
	focus = {
		id = HBBRG_danube_project
		icon = GFX_z_focus_habsburg_danube_project
		prerequisite = { focus = HBBRG_adopt_democratic_constitution }
		mutually_exclusive = { focus = HBBRG_first_state_europe }
		x = -6
		y = 2
		relative_position_id = HBBRG_adopt_democratic_constitution

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
			modifier = {
				factor = 0
				has_global_flag = NW_HBBRG_AI_DEMOCRATIC_ALTERNATE
			}
		}
		available = {
		}
		bypass = {
		}
		
		select_effect = {
			if = {
				limit = {
					OR = {
						AND = {
							NOT = { original_tag = AUS }
							country_exists = AUS
						}
						AND = {
							NOT = { original_tag = CZE }
							country_exists = CZE
						}
						AND = {
							NOT = { original_tag = HUN }
							country_exists = HUN
						}
					}
				}
				country_event = { id = NWmonarchy.45 days = 25 }
			}
			if = {
				limit = {
					OR = {
						AND = {
							NOT = { original_tag = AUS }
							country_exists = AUS
							NOT = { has_country_flag = AUS_chosen }
						}
						AND = {
							NOT = { original_tag = CZE }
							country_exists = CZE
							NOT = { has_country_flag = CZE_chosen }
						}
						AND = {
							NOT = { original_tag = HUN }
							country_exists = HUN
							NOT = { has_country_flag = HUN_chosen }
						}
					}
				}
				country_event = { id = NWmonarchy.45 days = 50 }
			}
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_danube_project"
			add_political_power = 75
			add_stability = 0.05
			set_rule = { can_create_factions = yes }
			if = {
				limit = { is_faction_leader = yes }
				set_faction_name = HBBRG_danube_union
			}
			else = { create_faction = HBBRG_danube_union }
			country_event = { id = NWmonarchy.48 days = 1 }
			hidden_effect = {
				news_event = { hours = 6 id = trworldnews.54 }
			}
		}
	}
	
	focus = {
		id = HBBRG_friendship_britan
		icon = GFX_focus_chi_british_cooperation
		prerequisite = { focus = HBBRG_danube_project }
		mutually_exclusive = { focus = HBBRG_friendship_france }
		x = -2
		y = 2
		relative_position_id = HBBRG_danube_project

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
			ENG = {
				exists = yes
				has_government = ROOT
			}
			NOT = { has_war_with = ENG }
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_friendship_britan"
			add_opinion_modifier = {
				target = ENG
				modifier = antisoviet_tactic_1
			}
			add_opinion_modifier = {
				target = SOV
				modifier = antisoviet_tactic_2
			}
			diplomatic_relation = {
				country = ENG
				relation = non_aggression_pact
				active = yes
			}
			ENG = {
				add_opinion_modifier = {
					target = ROOT
					modifier = antisoviet_tactic_1
				}
				diplomatic_relation = {
					country = ROOT
					relation = non_aggression_pact
					active = yes
				}
				add_ai_strategy = {
					type = protect
					id = ROOT
					value = 100
				}
			}
			SOV = {
				add_opinion_modifier = {
					target = ROOT
					modifier = antisoviet_tactic_2
				}
				add_ai_strategy = {
					type = antagonize
					id = ROOT
					value = 200
				}
			}
			add_ai_strategy = {
				type = antagonize
				id = "SOV"
				value = 50
			}
		}
	}
	
	focus = {
		id = HBBRG_relations_balkans
		icon = GFX_z_goal_relations_balkans
		prerequisite = { focus = HBBRG_friendship_britan }
		x = -1
		y = 1
		relative_position_id = HBBRG_friendship_britan

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 3
		}
		available = {
		}
		bypass = {
			YUG = { exists = no }
			ROM = { exists = no }
			BUL = { exists = no }
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_relations_balkans"
			if = {
				limit = { YUG = { exists = yes } }
				add_opinion_modifier = {
					target = YUG
					modifier = HBBRG_danube
				}
				YUG = {
					add_timed_idea = { idea = HBBRG_democratic days = 730 }
					add_opinion_modifier = {
						target = ROOT
						modifier = HBBRG_danube
					}
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 200
					}
					add_ai_strategy = {
						type = alliance
						id = ROOT
						value = 200
					}
				}
				add_ai_strategy = {
					type = protect
					id = YUG
					value = 200
				}
			}
			if = {
				limit = { ROM = { exists = yes } }
				add_opinion_modifier = {
					target = ROM
					modifier = HBBRG_danube
				}
				ROM = {
					add_timed_idea = { idea = HBBRG_democratic days = 730 }
					add_opinion_modifier = {
						target = ROOT
						modifier = HBBRG_danube
					}
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 200
					}
					add_ai_strategy = {
						type = alliance
						id = ROOT
						value = 200
					}
				}
				add_ai_strategy = {
					type = protect
					id = ROM
					value = 200
				}
			}
			if = {
				limit = { BUL = { exists = yes } }
				add_opinion_modifier = {
					target = BUL
					modifier = HBBRG_danube
				}
				BUL = {
					add_timed_idea = { idea = HBBRG_democratic days = 730 }
					add_opinion_modifier = {
						target = ROOT
						modifier = HBBRG_danube
					}
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 200
					}
					add_ai_strategy = {
						type = alliance
						id = ROOT
						value = 200
					}
				}
				add_ai_strategy = {
					type = protect
					id = BUL
					value = 200
				}
			}
		}
	}
	
	focus = {
		id = HBBRG_expansion_balkan_danube_federation
		icon = GFX_z_goal_expansion_balkan_danube_federation
		prerequisite = { focus = HBBRG_relations_balkans }
		x = 1
		y = 1
		relative_position_id = HBBRG_relations_balkans

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 4
		}
		available = {
		}
		bypass = {
			ALB = { exists = no }
			TUR = { exists = no }
			GRE = { exists = no }
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_expansion_balkan_danube_federation"
			if = {
				limit = { ALB = { exists = yes } }
				add_opinion_modifier = {
					target = ALB
					modifier = HBBRG_danube
				}
				ALB = {
					add_timed_idea = { idea = HBBRG_democratic days = 730 }
					add_opinion_modifier = {
						target = ROOT
						modifier = HBBRG_danube
					}
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 200
					}
					add_ai_strategy = {
						type = alliance
						id = ROOT
						value = 200
					}
				}
				add_ai_strategy = {
					type = protect
					id = ALB
					value = 200
				}
			}
			if = {
				limit = { GRE = { exists = yes } }
				add_opinion_modifier = {
					target = GRE
					modifier = HBBRG_danube
				}
				GRE = {
					add_timed_idea = { idea = HBBRG_democratic days = 730 }
					add_opinion_modifier = {
						target = ROOT
						modifier = HBBRG_danube
					}
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 200
					}
					add_ai_strategy = {
						type = alliance
						id = ROOT
						value = 200
					}
				}
				add_ai_strategy = {
					type = protect
					id = GRE
					value = 200
				}
			}
			if = {
				limit = { TUR = { exists = yes } }
				add_opinion_modifier = {
					target = TUR
					modifier = HBBRG_danube
				}
				TUR = {
					add_timed_idea = { idea = HBBRG_democratic days = 730 }
					add_opinion_modifier = {
						target = ROOT
						modifier = HBBRG_danube
					}
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 200
					}
					add_ai_strategy = {
						type = alliance
						id = ROOT
						value = 200
					}
				}
				add_ai_strategy = {
					type = protect
					id = TUR
					value = 200
				}
			}
			set_rule = { can_create_factions = yes }
			if = {
				limit = {
					ROOT = {
						is_in_faction = yes
						is_faction_leader = yes
					}
				}
				set_faction_name = HBBRG_balkan_danube_union
			}
			else = {
				if = {
					limit = { is_in_faction = yes }
					leave_faction = yes
				}
				create_faction = HBBRG_balkan_danube_union
			}
		}
	}
	
	focus = {
		id = HBBRG_danube_defence_initiative
		icon = GFX_goal_generic_defence
		prerequisite = { focus = HBBRG_danube_project }
		x = 0
		y = 1
		relative_position_id = HBBRG_danube_project

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 4
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_danube_defence_initiative"
			if = {
				limit = {
					ROOT = { is_in_faction = no }
				}
				set_rule = { can_create_factions = yes }
				if = {
					limit = { is_faction_leader = yes }
					set_faction_name = HBBRG_danube_union
				}
				else = { create_faction = HBBRG_danube_union }
				hidden_effect = {
					news_event = { hours = 6 id = trworldnews.54 }
				}
			}
			add_ideas = HBBRG_danube_defence_initiative
		}
	}
	
	focus = {
		id = HBBRG_southern_defense_line
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = HBBRG_danube_defence_initiative }
		x = -1
		y = 2
		relative_position_id = HBBRG_danube_defence_initiative

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 3
		}
		available = {
		}
		bypass = {
			OR = {
				ITA = { exists = no }
				ITA = { is_subject_of = ROOT }
			}
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_southern_defense_line"
			hidden_effect = {
				every_owned_state = {
					limit = {
						is_controlled_by = ROOT
						any_neighbor_state = { 
							is_fully_controlled_by = ITA
						}
					}
					add_building_construction = {
						type = bunker
						level = 4
						instant_build = yes
						province = {
							limit_to_border = yes
						}
					}
				}
				every_other_country = {
					limit = {
						OR = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
						}
					}
					every_owned_state = {
						limit = {
							is_controlled_by = PREV
							any_neighbor_state = { 
								is_fully_controlled_by = ITA
							}
						}
						add_building_construction = {
							type = bunker
							level = 4
							instant_build = yes
							province = {
								limit_to_border = yes
							}
						}
					}
				}
			}
			custom_effect_tooltip = HBBRG_southern_defense_line_tt
		}
	}
	
	focus = {
		id = HBBRG_northern_defense_line
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = HBBRG_danube_defence_initiative }
		x = 1
		y = 2
		relative_position_id = HBBRG_danube_defence_initiative

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 3
		}
		available = {
		}
		bypass = {
			OR = {
				GER = { exists = no }
				GER = { is_subject_of = ROOT }
			}
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_northern_defense_line"
			hidden_effect = {
				every_owned_state = {
					limit = {
						is_controlled_by = ROOT
						any_neighbor_state = { 
							is_fully_controlled_by = GER
						}
					}
					add_building_construction = {
						type = bunker
						level = 4
						instant_build = yes
						province = {
							limit_to_border = yes
						}
					}
				}
				every_other_country = {
					limit = {
						OR = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
						}
					}
					every_owned_state = {
						limit = {
							is_controlled_by = PREV
							any_neighbor_state = { 
								is_fully_controlled_by = GER
							}
						}
						add_building_construction = {
							type = bunker
							level = 4
							instant_build = yes
							province = {
								limit_to_border = yes
							}
						}
					}
				}
			}
			custom_effect_tooltip = HBBRG_northern_defense_line_tt
		}
	}
	
	focus = {
		id = HBBRG_danube_military_industry
		icon = GFX_z_goal_factory_complex
		prerequisite = { focus = HBBRG_southern_defense_line }
		prerequisite = { focus = HBBRG_northern_defense_line }
		x = 1
		y = 1
		relative_position_id = HBBRG_southern_defense_line

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_danube_military_industry"
			add_ideas = HBBRG_danube_military_industry
			every_other_country = {
				limit = {
					OR = {
						is_in_faction_with = ROOT
						is_subject_of = ROOT
					}
				}
				add_ideas = HBBRG_danube_military_industry
			}
			custom_effect_tooltip = HBBRG_all_ally_tt
		}
	}
	
	focus = {
		id = HBBRG_friendship_france
		icon = GFX_focus_chi_reach_out_to_france
		prerequisite = { focus = HBBRG_danube_project }
		mutually_exclusive = { focus = HBBRG_friendship_britan }
		x = 2
		y = 2
		relative_position_id = HBBRG_danube_project

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 3
		}
		available = {
			event_target:NW_france_scope = {
				exists = yes
				has_government = ROOT
			}
			NOT = { has_war_with = event_target:NW_france_scope }
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_friendship_france"
			if = {
				limit = { event_target:NW_france_scope = { exists = yes } }
				add_opinion_modifier = {
					target = event_target:NW_france_scope
					modifier = antigerman_tactic_1
				}
				diplomatic_relation = {
					country = event_target:NW_france_scope
					relation = non_aggression_pact
					active = yes
				}
				event_target:NW_france_scope = {
					add_timed_idea = { idea = HBBRG_democratic days = 730 }
					add_opinion_modifier = {
						target = ROOT
						modifier = antigerman_tactic_1
					}
					diplomatic_relation = {
						country = ROOT
						relation = non_aggression_pact
						active = yes
					}
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 50
					}
					add_ai_strategy = {
						type = alliance
						id = ROOT
						value = 50
					}
					add_ai_strategy = {
						type = protect
						id = ROOT
						value = 100
					}
				}
			}
			if = {
				limit = { GER = { exists = yes } }
				add_opinion_modifier = {
					target = GER
					modifier = antigerman_tactic_2
				}
				GER = {
					add_opinion_modifier = {
						target = ROOT
						modifier = antigerman_tactic_2
					}
					add_ai_strategy = {
						type = antagonize
						id = ROOT
						value = 200
					}
				}
				add_ai_strategy = {
					type = antagonize
					id = "GER"
					value = 200
				}
			}
			if = {
				limit = { YUG = { exists = yes } }
				YUG = {
					add_timed_idea = { idea = HBBRG_democratic days = 730 }
					add_opinion_modifier = {
						target = ROOT
						modifier = HBBRG_danube
					}
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 50
					}
					add_ai_strategy = {
						type = alliance
						id = ROOT
						value = 50
					}
				}
				add_ai_strategy = {
					type = protect
					id = YUG
					value = 200
				}
			}
			if = {
				limit = { ROM = { exists = yes } }
				ROM = {
					add_timed_idea = { idea = HBBRG_democratic days = 730 }
					add_opinion_modifier = {
						target = ROOT
						modifier = HBBRG_danube
					}
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 50
					}
					add_ai_strategy = {
						type = alliance
						id = ROOT
						value = 50
					}
				}
				add_ai_strategy = {
					type = protect
					id = ROM
					value = 200
				}
			}
			if = {
				limit = { BUL = { exists = yes } }
				BUL = {
					add_timed_idea = { idea = HBBRG_democratic days = 730 }
					add_opinion_modifier = {
						target = ROOT
						modifier = HBBRG_danube
					}
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 50
					}
					add_ai_strategy = {
						type = alliance
						id = ROOT
						value = 50
					}
				}
				add_ai_strategy = {
					type = protect
					id = BUL
					value = 200
				}
			}
		}
	}
	
	focus = {
		id = HBBRG_friendship_poland
		icon = GFX_z_goal_friendship_poland
		prerequisite = { focus = HBBRG_friendship_france }
		x = 1
		y = 1
		relative_position_id = HBBRG_friendship_france

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 3
		}
		available = {
			POL = { exists = yes }
			NOT = { has_war_with = POL }
		}
		bypass = {
			OR = {
				POL = { exists = no }
				has_war_with = POL
			}
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_friendship_poland"
			add_opinion_modifier = {
				target = POL
				modifier = HBBRG_danube
			}
			POL = {
				add_timed_idea = { idea = HBBRG_democratic days = 730 }
				add_opinion_modifier = {
					target = ROOT
					modifier = HBBRG_danube
				}
				add_ai_strategy = {
					type = befriend
					id = ROOT
					value = 200
				}
				add_ai_strategy = {
					type = alliance
					id = ROOT
					value = 200
				}
			}
			add_ai_strategy = {
				type = protect
				id = POL
				value = 200
			}
			
			hidden_effect = {
				if = {
					limit = { event_target:NW_france_scope = { exists = yes } }
					event_target:NW_france_scope = {
						add_opinion_modifier = {
							target = ROOT
							modifier = antigerman_tactic_1
						}
						add_ai_strategy = {
							type = befriend
							id = ROOT
							value = 50
						}
						add_ai_strategy = {
							type = alliance
							id = ROOT
							value = 50
						}
					}
				}
				if = {
					limit = { YUG = { exists = yes } }
					YUG = {
						add_opinion_modifier = {
							target = ROOT
							modifier = HBBRG_danube
						}
						add_ai_strategy = {
							type = befriend
							id = ROOT
							value = 100
						}
						add_ai_strategy = {
							type = alliance
							id = ROOT
							value = 100
						}
					}
				}
				if = {
					limit = { ROM = { exists = yes } }
					ROM = {
						add_opinion_modifier = {
							target = ROOT
							modifier = HBBRG_danube
						}
						add_ai_strategy = {
							type = befriend
							id = ROOT
							value = 100
						}
						add_ai_strategy = {
							type = alliance
							id = ROOT
							value = 100
						}
					}
				}
				if = {
					limit = { BUL = { exists = yes } }
					BUL = {
						add_opinion_modifier = {
							target = ROOT
							modifier = HBBRG_danube
						}
						add_ai_strategy = {
							type = befriend
							id = ROOT
							value = 100
						}
						add_ai_strategy = {
							type = alliance
							id = ROOT
							value = 100
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = HBBRG_benelux
		icon = GFX_z_goal_benelux_2
		prerequisite = { focus = HBBRG_friendship_poland }
		x = -1
		y = 1
		relative_position_id = HBBRG_friendship_poland

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 3
		}
		available = {
			OR = {
				AND = {
					BEL = { exists = yes }
					NOT = { has_war_with = BEL }
				}
				AND = {
					LUX = { exists = yes }
					NOT = { has_war_with = LUX }
				}
				AND = {
					HOL = { exists = yes }
					NOT = { has_war_with = HOL }
				}
			}
		}
		bypass = {
			BEL = { exists = no }
			has_war_with = BEL
			LUX = { exists = no }
			has_war_with = LUX
			HOL = { exists = no }
			has_war_with = HOL
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_benelux"
			if = {
				limit = { BEL = { exists = yes } }
				add_opinion_modifier = {
					target = BEL
					modifier = HBBRG_danube
				}
				BEL = {
					add_timed_idea = { idea = HBBRG_democratic days = 730 }
					add_opinion_modifier = {
						target = ROOT
						modifier = HBBRG_danube
					}
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 200
					}
					add_ai_strategy = {
						type = alliance
						id = ROOT
						value = 200
					}
				}
				add_ai_strategy = {
					type = protect
					id = BEL
					value = 200
				}
			}
			if = {
				limit = { LUX = { exists = yes } }
				add_opinion_modifier = {
					target = LUX
					modifier = HBBRG_danube
				}
				LUX = {
					add_timed_idea = { idea = HBBRG_democratic days = 730 }
					add_opinion_modifier = {
						target = ROOT
						modifier = HBBRG_danube
					}
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 200
					}
					add_ai_strategy = {
						type = alliance
						id = ROOT
						value = 200
					}
				}
				add_ai_strategy = {
					type = protect
					id = LUX
					value = 200
				}
			}
			if = {
				limit = { LUX = { exists = yes } }
				add_opinion_modifier = {
					target = HOL
					modifier = HBBRG_danube
				}
				HOL = {
					add_timed_idea = { idea = HBBRG_democratic days = 730 }
					add_opinion_modifier = {
						target = ROOT
						modifier = HBBRG_danube
					}
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 200
					}
					add_ai_strategy = {
						type = alliance
						id = ROOT
						value = 200
					}
				}
				add_ai_strategy = {
					type = protect
					id = HOL
					value = 200
				}
			}
		}
	}
	
	focus = {
		id = HBBRG_discussion_switzerland
		icon = GFX_z_goal_discussion_switzerland
		prerequisite = { focus = HBBRG_expansion_balkan_danube_federation focus = HBBRG_benelux }
		x = 2
		y = 1
		relative_position_id = HBBRG_expansion_balkan_danube_federation

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 3
		}
		available = {
			SWI = { exists = yes }
			NOT = { has_war_with = SWI }
		}
		bypass = {
			OR = {
				SWI = { exists = no }
				has_war_with = SWI
			}
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_discussion_switzerland"
			add_opinion_modifier = {
				target = SWI
				modifier = HBBRG_danube
			}
			SWI = {
				add_timed_idea = { idea = HBBRG_democratic days = 730 }
				add_opinion_modifier = {
					target = ROOT
					modifier = HBBRG_danube
				}
				add_ai_strategy = {
					type = befriend
					id = ROOT
					value = 200
				}
				add_ai_strategy = {
					type = alliance
					id = ROOT
					value = 200
				}
			}
			add_ai_strategy = {
				type = protect
				id = SWI
				value = 200
			}
		}
	}
	
	focus = {
		id = HBBRG_expanded_integration
		icon = GFX_z_goal_expanded_integration_danube_federation
		prerequisite = { focus = HBBRG_discussion_switzerland }
		x = 0
		y = 1
		relative_position_id = HBBRG_discussion_switzerland

		cost = 15
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			is_subject = no
		}
		bypass = {
		}
		
		select_effect = {
			if = {
				limit = { has_completed_focus = HBBRG_friendship_britan }
				every_country = {
					limit = {
						NOT = { original_tag = ROOT }
						NOT = { is_in_faction_with = ROOT }
						OR = {
							original_tag = AUS
							original_tag = HUN
							original_tag = CZE
							original_tag = YUG
							original_tag = ROM
							original_tag = BUL
							original_tag = ALB
							original_tag = GRE
							original_tag = TUR
							original_tag = SWI
						}
					}
					country_event = { id = NWmonarchy.93 days = 30 }
				}
			}
			if = {
				limit = { has_completed_focus = HBBRG_friendship_france }
				every_country = {
					limit = {
						NOT = { original_tag = ROOT }
						NOT = { is_in_faction_with = ROOT }
						OR = {
							original_tag = AUS
							original_tag = HUN
							original_tag = CZE
							original_tag = YUG
							original_tag = ROM
							original_tag = BUL
							original_tag = POL
							original_tag = BEL
							original_tag = LUX
							original_tag = HOL
							original_tag = SWI
						}
					}
					country_event = { id = NWmonarchy.93 days = 30 }
				}
			}
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_expanded_integration"
			add_ideas = HBBRG_expanded_integration
			if = {
				limit = { has_completed_focus = HBBRG_friendship_britan }
				set_cosmetic_tag = HBBRG_balcan_danube_tag
				every_other_country = {
					limit = {
						OR = {
							AND = {
								is_in_faction_with = ROOT
								OR = {
									original_tag = AUS
									original_tag = HUN
									original_tag = CZE
									original_tag = YUG
									original_tag = ROM
									original_tag = BUL
									original_tag = ALB
									original_tag = GRE
									original_tag = TUR
									original_tag = SWI
								}
							}
							is_subject_of = ROOT
						}
					}
					ROOT = {
						if = {
							limit = { PREV = { is_ai = no } }
							change_tag_from = PREV
						}
						annex_country = {
							target = PREV
							transfer_troops = yes
						}
					}
					every_unit_leader = {
						set_nationality = ROOT
					}
				}
				custom_effect_tooltip = HBBRG_expanded_integration_tt
				hidden_effect = {
					news_event = { hours = 6 id = trworldnews.51 }
					every_owned_state = {
						limit = {
							OR = {
								is_core_of = AUS
								is_core_of = HUN
								is_core_of = CZE
								is_core_of = YUG
								is_core_of = ROM
								is_core_of = BUL
								is_core_of = ALB
								is_core_of = GRE
								is_core_of = TUR
								is_core_of = SWI
							}
							NOT = { is_core_of = ROOT }
						}
						add_core_of = ROOT
					}
					every_state = {
						limit = {
							OR = {
								is_core_of = AUS
								is_core_of = HUN
								is_core_of = CZE
								is_core_of = YUG
								is_core_of = ROM
								is_core_of = BUL
								is_core_of = ALB
								is_core_of = GRE
								is_core_of = TUR
								is_core_of = SWI
							}
							NOT = {
								is_core_of = ROOT
								is_owned_by = ROOT
							}
						}
						add_claim_by = ROOT
					}
				}
			}
			if = {
				limit = { has_completed_focus = HBBRG_friendship_france }
				every_other_country = {
					limit = {
						OR = {
							AND = {
								is_in_faction_with = ROOT
								OR = {
									original_tag = AUS
									original_tag = HUN
									original_tag = CZE
									original_tag = YUG
									original_tag = ROM
									original_tag = BUL
									original_tag = POL
									original_tag = BEL
									original_tag = LUX
									original_tag = HOL
									original_tag = SWI
								}
							}
							is_subject_of = ROOT
						}
					}
					ROOT = {
						if = {
							limit = { PREV = { is_ai = no } }
							change_tag_from = PREV
						}
						annex_country = {
							target = PREV
							transfer_troops = yes
						}
					}
					every_unit_leader = {
						set_nationality = ROOT
					}
				}
				if = {
					limit = { event_target:NW_france_scope = { is_in_faction = no } }
					event_target:NW_france_scope = { country_event = { id = NWmonarchy.93 days = 30 } }
				}
				custom_effect_tooltip = HBBRG_expanded_integration_ttt
				hidden_effect = {
					news_event = { hours = 6 id = trworldnews.52 }
					every_owned_state = {
						limit = {
							OR = {
								is_core_of = AUS
								is_core_of = HUN
								is_core_of = CZE
								is_core_of = YUG
								is_core_of = ROM
								is_core_of = BUL
								is_core_of = POL
								is_core_of = BEL
								is_core_of = LUX
								is_core_of = HOL
								is_core_of = SWI
							}
							NOT = { is_core_of = ROOT }
						}
						add_core_of = ROOT
					}
					every_state = {
						limit = {
							OR = {
								is_core_of = AUS
								is_core_of = HUN
								is_core_of = CZE
								is_core_of = YUG
								is_core_of = ROM
								is_core_of = BUL
								is_core_of = POL
								is_core_of = BEL
								is_core_of = LUX
								is_core_of = HOL
								is_core_of = SWI
							}
							NOT = {
								is_core_of = ROOT
								is_owned_by = ROOT
							}
						}
						add_claim_by = ROOT
					}
				}
			}
			if = {
				limit = { NOT = { has_government = democratic } }
				set_politics = {
					ruling_party = democratic
					elections_allowed = no
				}
			}
		}
	}
	
	focus = {
		id = HBBRG_reload_diplomatic
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = HBBRG_adopt_democratic_constitution }
		x = 0
		y = 1
		relative_position_id = HBBRG_adopt_democratic_constitution

		cost = 14.3
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
			has_completed_focus = HBBRG_earth_aus_crown
		}
		bypass = {
		}
		
		select_effect = {
			if = {
				limit = {
					NOT = { original_tag = AUS }
					AUS = { exists = yes }
				}
				ROOT = { country_event = { id = NWmonarchy.49 days = 20 } }
			}
			if = {
				limit = {
					NOT = { original_tag = CZE }
					CZE = { exists = yes }
				}
				ROOT = { country_event = { id = NWmonarchy.49 days = 40 } }
			}
			if = {
				limit = {
					NOT = { original_tag = HUN }
					HUN = { exists = yes }
				}
				ROOT = { country_event = { id = NWmonarchy.49 days = 60 } }
			}
			if = {
				limit = { ROM = { exists = yes } }
				ROOT = { country_event = { id = NWmonarchy.49 days = 60 } }
			}
			if = {
				limit = { YUG = { exists = yes } }
				ROOT = { country_event = { id = NWmonarchy.49 days = 80 } }
			}
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_reload_diplomatic"
			add_political_power = 50
			add_stability = 0.05
		}
	}
	
	focus = {
		id = HBBRG_neither_red_nor_brown
		icon = GFX_z_goal_neither_red_nor_brown
		prerequisite = { focus = HBBRG_adopt_democratic_constitution }
		x = -1
		y = 3
		relative_position_id = HBBRG_adopt_democratic_constitution

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_neither_red_nor_brown"
			add_timed_idea = { idea = HBBRG_neither_red_nor_brown days = 1095 }
			every_other_country = {
				limit = {
					is_subject_of = ROOT
				}
				add_timed_idea = { idea = HBBRG_neither_red_nor_brown days = 1095 }
			}
			if = {
				limit = {
					ROOT = {
						is_in_faction = yes
						is_faction_leader = yes
					}
				}
				every_other_country = {
					limit = {
						is_in_faction_with = ROOT
					}
					add_timed_idea = { idea = HBBRG_neither_red_nor_brown days = 1095 }
				}
			}
			custom_effect_tooltip = HBBRG_all_ally_tt
		}
	}
	
	focus = {
		id = HBBRG_anticommunist_rhetoric
		icon = GFX_goal_anti_comintern_pact
		prerequisite = { focus = HBBRG_neither_red_nor_brown }
		x = 0
		y = 1
		relative_position_id = HBBRG_neither_red_nor_brown

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
			NOT = { has_government = communism }
			NOT = { has_government = trozkism }
		}
		bypass = {
			OR = {
				has_government = communism
				has_government = trozkism
			}
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_anticommunist_rhetoric"
			add_popularity = {
				ideology = communism
				popularity = -0.05
			}
			add_popularity = {
				ideology = trozkism
				popularity = -0.05
			}
			if = {
				limit = { SOV = { exists = yes } }
				add_opinion_modifier = {
					target = SOV
					modifier = anti_sov_ritor
				}
				SOV = {
					add_opinion_modifier = {
						target = ROOT
						modifier = anti_sov_ritor
					}
				}
			}
			if = {
				limit = { KMX = { exists = yes } }
				add_opinion_modifier = {
					target = KMX
					modifier = HBBRG_anti_troz_ritor
				}
				KMX = {
					add_opinion_modifier = {
						target = ROOT
						modifier = HBBRG_anti_troz_ritor
					}
				}
			}
		}
	}
	
	focus = {
		id = HBBRG_red_menace
		icon = GFX_z_goal_broken_red_star
		prerequisite = { focus = HBBRG_anticommunist_rhetoric }
		x = 0
		y = 1
		relative_position_id = HBBRG_anticommunist_rhetoric

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
			country_exists = SOV
			SOV = { has_government = communism }
		}
		bypass = {
			OR = {
				SOV = { exists = no }
				SOV = { has_government = democratic }
				SOV = { is_subject_of = ROOT }
			}
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_red_menace"
			create_wargoal = {
				type = topple_government
				target = SOV
			}
		}
	}
	
	focus = {
		id = HBBRG_orange_menace
		icon = GFX_z_goal_orange_menace
		prerequisite = { focus = HBBRG_red_menace }
		x = 0
		y = 1
		relative_position_id = HBBRG_red_menace

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
			is_subject = no
			if = {
				limit = {
					any_other_country = {
						has_government = trozkism
						OR = {
							has_country_flag = CURRENT_LEADER_FOUR_INTERNATIONAL_FLAG
							has_country_leader = { name = "Leon Trotsky" ruling_only = yes }
						}
					}
				}
				any_other_country = {
					has_government = trozkism
					OR = {
						has_country_flag = CURRENT_LEADER_FOUR_INTERNATIONAL_FLAG
						has_country_leader = { name = "Leon Trotsky" ruling_only = yes }
					}
					NOT = { has_war_with = ROOT }
				}
			}
			any_other_country = {
				exists = yes
				has_government = trozkism
				NOT = { has_war_with = ROOT }
			}
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_orange_menace"
			if = {
				limit = {
					any_other_country = {
						has_government = trozkism
						OR = {
							has_country_flag = CURRENT_LEADER_FOUR_INTERNATIONAL_FLAG
							has_country_leader = { name = "Leon Trotsky" ruling_only = yes }
						}
					}
				}
				random_other_country = {
					limit = {
						has_government = trozkism
						OR = {
							has_country_flag = CURRENT_LEADER_FOUR_INTERNATIONAL_FLAG
							has_country_leader = { name = "Leon Trotsky" ruling_only = yes }
						}
					}
					ROOT = {
						create_wargoal = {
							type = topple_government
							target = PREV
						}
						add_ai_strategy = {
							type = antagonize
							id = PREV
							value = 200
						}
					}
				}
			}
			else_if = {
				limit = {
					country_exists = MEX
					MEX = { has_government = trozkism }
				}
				create_wargoal = {
					type = topple_government
					target = MEX
				}
				add_ai_strategy = {
					type = antagonize
					id = "MEX"
					value = 200
				}
			}
			else_if = {
				limit = {
					country_exists = GER
					GER = { has_government = trozkism }
				}
				create_wargoal = {
					type = topple_government
					target = GER
				}
				add_ai_strategy = {
					type = antagonize
					id = "GER"
					value = 200
				}
			}
			else_if = {
				limit = {
					country_exists = FRC
					FRC = { has_government = trozkism }
				}
				create_wargoal = {
					type = topple_government
					target = FRC
				}
				add_ai_strategy = {
					type = antagonize
					id = "FRC"
					value = 200
				}
			}
			else = {
				every_other_country = {
					limit = {
						has_government = trozkism
						NOT = { has_war_with = ROOT }
					}
					ROOT = {
						create_wargoal = {
							type = topple_government
							target = PREV
						}
						add_ai_strategy = {
							type = antagonize
							id = PREV
							value = 200
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = HBBRG_overcoming_rudiments_feudalism
		icon = GFX_focus_CZE_german_puppet
		prerequisite = { focus = HBBRG_adopt_democratic_constitution }
		x = 1
		y = 3
		relative_position_id = HBBRG_adopt_democratic_constitution

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_overcoming_rudiments_feudalism"
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = HBBRG_reorganization_economy
		icon = GFX_goal_generic_positive_trade_relations
		prerequisite = { focus = HBBRG_overcoming_rudiments_feudalism }
		x = 0
		y = 1
		relative_position_id = HBBRG_overcoming_rudiments_feudalism

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_reorganization_economy"
			add_ideas = HBBRG_reorganization_economy
		}
	}
	
	focus = {
		id = HBBRG_develop_infrastructure
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = HBBRG_reorganization_economy }
		x = 0
		y = 1
		relative_position_id = HBBRG_reorganization_economy

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_develop_infrastructure"
			random_owned_controlled_state = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = HBBRG_industrial_modernization
		icon = GFX_focus_generic_the_giant_wakes
		prerequisite = { focus = HBBRG_develop_infrastructure }
		x = 0
		y = 1
		relative_position_id = HBBRG_develop_infrastructure

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_industrial_modernization"
			add_ideas = HBBRG_industrial_modernization
		}
	}
	
	
	focus = {
		id = HBBRG_first_state_europe
		icon = GFX_z_focus_habsburg_first_state_of_europe
		prerequisite = { focus = HBBRG_adopt_democratic_constitution }
		mutually_exclusive = { focus = HBBRG_danube_project }
		x = 6
		y = 2
		relative_position_id = HBBRG_adopt_democratic_constitution

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
			modifier = {
				factor = 0
				has_global_flag = NW_HBBRG_AI_DEMOCRATIC
			}
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_first_state_europe"
			set_rule = { can_create_factions = yes }
			if = {
				limit = { is_faction_leader = yes }
				set_faction_name = HBBRG_use_faction
			}
			else = { create_faction = HBBRG_use_faction }
			set_cosmetic_tag = HBBRG_uss_tag
		}
	}
	
	focus = {
		id = HBBRG_provide_support_USA
		icon = GFX_focus_chi_mission_to_the_us
		prerequisite = { focus = HBBRG_first_state_europe }
		mutually_exclusive = { focus = HBBRG_against_USA }
		x = -2
		y = 1
		relative_position_id = HBBRG_first_state_europe

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 8
				GER = {
					OR = {
						has_government = fascism
						has_government = trozkism
						has_government = communism
					}
				}
			}
		}
		available = {
			USA = { exists = yes }
			USA = { has_government = ROOT }
			NOT = { has_war_with = USA }
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_provide_support_USA"
			add_opinion_modifier = {
				target = USA
				modifier = HBBRG_usa_friend_1
			}
			USA = {
				add_opinion_modifier = {
					target = ROOT
					modifier = HBBRG_usa_friend_1
				}
			}
			if = {
				limit = { SOV = { exists = yes } }
				add_opinion_modifier = {
					target = SOV
					modifier = HBBRG_usa_friend_2
				}
				SOV = {
					add_opinion_modifier = {
						target = ROOT
						modifier = HBBRG_usa_friend_2
					}
				}
			}
			if = {
				limit = { GER = { exists = yes } }
				add_opinion_modifier = {
					target = GER
					modifier = HBBRG_usa_friend_2
				}
				GER = {
					add_opinion_modifier = {
						target = ROOT
						modifier = HBBRG_usa_friend_2
					}
				}
			}
			if = {
				limit = { KMX = { exists = yes } }
				add_opinion_modifier = {
					target = KMX
					modifier = HBBRG_usa_friend_2
				}
				KMX = {
					add_opinion_modifier = {
						target = ROOT
						modifier = HBBRG_usa_friend_2
					}
				}
			}
			USA = { country_event = { id = NWmonarchy.54 days = 1 } }
			effect_tooltip = {
				add_offsite_building = { type = industrial_complex level = 2 }
			}
			custom_effect_tooltip = HBBRG_USA_need_accept_tt
		}
	}
	
	focus = {
		id = HBBRG_handshake_across_ocean
		icon = GFX_z_goal_handshake_across_ocean
		prerequisite = { focus = HBBRG_provide_support_USA }
		x = 0
		y = 1
		relative_position_id = HBBRG_provide_support_USA

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 6
		}
		available = {
			USA = { exists = yes }
			NOT = { has_war_with = USA }
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_handshake_across_ocean"
			add_opinion_modifier = {
				target = USA
				modifier = HBBRG_handshake_across_ocean_1
			}
			USA = {
				add_opinion_modifier = {
					target = ROOT
					modifier = HBBRG_handshake_across_ocean_1
				}
			}
			USA = { country_event = { id = NWmonarchy.57 days = 1 } }
			effect_tooltip = {
				add_ideas = HBBRG_handshake_across_ocean_1
				add_offsite_building = { type = industrial_complex level = 2 }
			}
			custom_effect_tooltip = HBBRG_USA_need_accept_tt
		}
	}
	
	focus = {
		id = HBBRG_coop_resourses
		icon = GFX_z_goal_coop_resourses
		prerequisite = { focus = HBBRG_handshake_across_ocean focus = HBBRG_new_markets }
		x = 1
		y = 1
		relative_position_id = HBBRG_handshake_across_ocean

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 6
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_coop_resourses"
			if = { 
				limit = { has_completed_focus = HBBRG_provide_support_USA }
				ROOT = { add_ideas = HBBRG_coop_resourses }
				USA = { add_ideas = HBBRG_coop_resourses }
			}
			
			if = {
				limit = { has_completed_focus = HBBRG_against_USA }
				every_other_country = {
					limit = {
						NOT = { has_war_with = ROOT }
						capital_scope = { is_on_continent = europe }
						has_guaranteed = ROOT
					}
					add_ideas = HBBRG_coop_resourses
				}
				ROOT = {
					add_ideas = HBBRG_coop_resourses
				}
			}
		}
	}
	
	focus = {
		id = HBBRG_atlantic_cooperation_program
		icon = GFX_z_goal_atlantic_cooperation_program
		prerequisite = { focus = HBBRG_coop_resourses }
		prerequisite = { focus = HBBRG_handshake_across_ocean }
		x = -1
		y = 1
		relative_position_id = HBBRG_coop_resourses

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 6
		}
		available = {
			USA = { exists = yes }
			NOT = { has_war_with = USA }
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_atlantic_cooperation_program"
			if = {
				limit = { USA = { is_in_faction = no } }
				ROOT = { add_to_faction = USA }
			}
			ROOT = { add_to_tech_sharing_group = HBBRG_atlantic_cooperation_program_group }
			USA = { add_to_tech_sharing_group = HBBRG_atlantic_cooperation_program_group }
			
			every_other_country = {
				limit = {
					AND = {
						is_in_faction_with = ROOT
						is_faction_leader = no
					}
				}
				add_to_tech_sharing_group = HBBRG_atlantic_cooperation_program_group
			}
		}
	}
	
	focus = {
		id = HBBRG_against_USA
		icon = GFX_z_goal_against_USA
		prerequisite = { focus = HBBRG_first_state_europe }
		mutually_exclusive = { focus = HBBRG_provide_support_USA }
		x = 0
		y = 1
		relative_position_id = HBBRG_first_state_europe

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 8
				GER = {
					OR = {
						has_government = democratic
						has_government = monarchy
					}
				}
			}
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_against_USA"
			add_war_support = 0.1
			add_opinion_modifier = {
				target = USA
				modifier = HBBRG_usa_opponents_1
			}
			USA = {
				add_opinion_modifier = {
					target = ROOT
					modifier = HBBRG_usa_opponents_1
				}
			}
			
			every_other_country = {
				limit = {
					NOT = { has_war_with = ROOT }
					capital_scope = { is_on_continent = europe }
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = HBBRG_usa_opponents_2
				}
			}
			ROOT = {
				add_opinion_modifier = {
					target = PREV
					modifier = HBBRG_usa_opponents_2
				}
			}
		}
	}
	
	focus = {
		id = HBBRG_new_markets
		icon = GFX_goal_generic_trade
		prerequisite = { focus = HBBRG_against_USA }
		x = 0
		y = 1
		relative_position_id = HBBRG_against_USA

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_new_markets"
			every_other_country = {
				limit = {
					NOT = { has_war_with = ROOT }
					capital_scope = { is_on_continent = europe }
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = HBBRG_new_markets_1
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = HBBRG_new_markets_2
				}
			}
			ROOT = {
				add_opinion_modifier = {
					target = PREV
					modifier = HBBRG_new_markets_1
				}
				add_opinion_modifier = {
					target = PREV
					modifier = HBBRG_new_markets_2
				}
				add_ideas = HBBRG_new_markets
			}
		}
	}
	
	
	
	focus = {
		id = HBBRG_vienna_circle
		icon = GFX_z_goal_vienna_circle
		prerequisite = { focus = HBBRG_new_markets }
		prerequisite = { focus = HBBRG_coop_resourses }
		x = 1
		y = 1
		relative_position_id = HBBRG_coop_resourses

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_vienna_circle"
			ROOT = { add_to_tech_sharing_group = HBBRG_vienna_circle_group }
			every_other_country = {
				limit = {
					AND = {
						is_in_faction_with = ROOT
						is_faction_leader = no
					}
				}
				add_to_tech_sharing_group = HBBRG_vienna_circle_group
			}
		}
	}
	
	focus = {
		id = HBBRG_economic_expansion_balkans
		icon = GFX_z_goal_economic_expansion_balkans
		prerequisite = { focus = HBBRG_first_state_europe }
		x = 2
		y = 1
		relative_position_id = HBBRG_first_state_europe

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 6
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_economic_expansion_balkans"
			if = {
				limit = {
					CZE = {
						exists = yes
						NOT = { has_war_with = ROOT }
					}
					ROOT = { NOT = { original_tag = CZE } }
				}
				CZE = { country_event = { id = NWmonarchy.60 } }
			}
			if = {
				limit = {
					AUS = {
						exists = yes
						NOT = { has_war_with = ROOT }
					}
					ROOT = { NOT = { original_tag = AUS } }
				}
				AUS = { country_event = { id = NWmonarchy.60 } }
			}
			if = {
				limit = {
					HUN = {
						exists = yes
						NOT = { has_war_with = ROOT }
					}
					ROOT = { NOT = { original_tag = HUN } }
				}
				HUN = { country_event = { id = NWmonarchy.60 } }
			}
			if = {
				limit = {
					YUG = {
						exists = yes
						NOT = { has_war_with = ROOT }
					}
				}
				YUG = { country_event = { id = NWmonarchy.60 } }
			}
			if = {
				limit = {
					ROM = {
						exists = yes
						NOT = { has_war_with = ROOT }
					}
				}
				ROM = { country_event = { id = NWmonarchy.60 } }
			}
			if = {
				limit = {
					BUL = {
						exists = yes
						NOT = { has_war_with = ROOT }
					}
				}
				BUL = { country_event = { id = NWmonarchy.60 } }
			}
			if = {
				limit = {
					ALB = {
						exists = yes
						NOT = { has_war_with = ROOT }
					}
				}
				ALB = { country_event = { id = NWmonarchy.60 } }
			}
			if = {
				limit = {
					GRE = {
						exists = yes
						NOT = { has_war_with = ROOT }
					}
				}
				GRE = { country_event = { id = NWmonarchy.60 } }
			}
			ROOT = { add_ideas = HBBRG_balcan_expan }
			hidden_effect = {
				country_event = { id = NWmonarchy.61 days = 4 }
			}
		}
	}
	
	focus = {
		id = HBBRG_polish_market
		icon = GFX_z_goal_polish_market
		prerequisite = { focus = HBBRG_economic_expansion_balkans }
		x = 0
		y = 1
		relative_position_id = HBBRG_economic_expansion_balkans

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 6
		}
		available = {
			country_exists = POL
			NOT = { has_war_with = POL }
		}
		bypass = {
			OR = {
				NOT = { country_exists = POL }
				has_war_with = POL
			}
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_polish_market"
			POL = { country_event = { id = NWmonarchy.63 days = 1 } }
		}
	}
	
	focus = {
		id = HBBRG_economic_integration_france
		icon = GFX_z_goal_economic_integration_france
		prerequisite = { focus = HBBRG_polish_market }
		x = 0
		y = 1
		relative_position_id = HBBRG_polish_market

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 6
		}
		available = {
			country_exists = event_target:NW_france_scope
			NOT = { has_war_with = event_target:NW_france_scope }
		}
		bypass = {
			OR = {
				NOT = { country_exists = event_target:NW_france_scope }
				has_war_with = event_target:NW_france_scope
			}
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_economic_integration_france"
			event_target:NW_france_scope = { country_event = { id = NWmonarchy.68 days = 1 } }
		}
	}
	
	focus = {
		id = HBBRG_beneluxs_economy
		icon = GFX_z_goal_benelux_economic
		prerequisite = { focus = HBBRG_economic_integration_france }
		x = 0
		y = 1
		relative_position_id = HBBRG_economic_integration_france

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 6
		}
		available = {
			OR = {
				AND = {
					BEL = { exists = yes }
					NOT = { has_war_with = BEL }
				}
				AND = {
					LUX = { exists = yes }
					NOT = { has_war_with = LUX }
				}
				AND = {
					HOL = { exists = yes }
					NOT = { has_war_with = HOL }
				}
			}
		}
		bypass = {
			BEL = { exists = no }
			has_war_with = BEL
			LUX = { exists = no }
			has_war_with = LUX
			HOL = { exists = no }
			has_war_with = HOL
		}
		
		completion_reward = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_beneluxs_economy"
			BEL = { country_event = { id = NWmonarchy.73 days = 0 } }
			HOL = { country_event = { id = NWmonarchy.73 days = 0 } }
			LUX = { country_event = { id = NWmonarchy.73 days = 0 } }
			hidden_effect = {
				country_event = { id = NWmonarchy.74 days = 3 }
			}
		}
	}
	
	focus = {
		id = HBBRG_european_family
		icon = GFX_z_goal_european_family
		prerequisite = { focus = HBBRG_atlantic_cooperation_program focus = HBBRG_vienna_circle }
		prerequisite = { focus = HBBRG_beneluxs_economy }
		x = 0
		y = 1
		relative_position_id = HBBRG_vienna_circle

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			is_subject = no
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HBBRG_european_family"
			add_stability = 0.1
			add_war_support = 0.1
			add_political_power = 150
			set_cosmetic_tag = HBBRG_use_tag
			hidden_effect = {
				every_other_country = {
					limit = { is_subject_of = ROOT }
					set_cosmetic_tag = HBBRG_use_subject
				}
			}
			set_rule = {
				can_declare_war_on_same_ideology = yes
				can_only_justify_war_on_threat_country = no
				can_guarantee_other_ideologies = yes
				can_send_volunteers = yes
				can_create_factions = yes
			}
			if = {
				limit = {
					GER = {
						OR = {
							has_government = democratic
							has_government = neutrality
							has_government = monarchy
						}
					}
				}
				GER = { country_event = { id = NWmonarchy.91 } }
			}
			if = {
				limit = {
					ITA = {
						OR = {
							has_government = democratic
							has_government = neutrality
							has_government = monarchy
						}
					}
				}
				ITA = { country_event = { id = NWmonarchy.92 } }
			}
			if = {
				limit = { has_completed_focus = HBBRG_against_USA }
				country_event = { id = NWmonarchy.77 days = 5 }
			}
			else_if = {
				limit = { has_completed_focus = HBBRG_provide_support_USA }
				country_event = { id = NWmonarchy.78 days = 5 }
			}
			effect_tooltip = {
				create_faction = HBBRG_use_faction_1
			}
			custom_effect_tooltip = HBBRG_european_family_tt
			hidden_effect = {
				set_country_flag = USE_accept_form
				news_event = { hours = 6 id = trworldnews.53 }
				if = {
					limit = {
						ROOT = {
							is_in_faction = yes
							is_faction_leader = yes
						}
					}
					set_faction_name = HBBRG_use_faction_1
				}
				else = {
					if = {
						limit = { is_in_faction = yes }
						leave_faction = yes
					}
					create_faction = HBBRG_use_faction_1
				}
			}
		}
	}
	
}
