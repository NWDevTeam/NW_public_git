scripted_gui = {
	
	nw_MAN_KwantungArmyGui = {
		context_type = decision_category
		window_name = "NW_MAN_KwantungArmyGui_window"
		
		properties = {
			leader = { image = "GFX_portrait_[?MAN.MAN_kwantung_army_commander_token.GetTokenKey]" }
		}
	}
	
	nw_JAP_KwantungArmyGui = {
		context_type = selected_country_context
		parent_window_token = selected_country_view
		window_name = "NW_JAP_KwantungArmyGui_window"
		
		visible = {
			ROOT = { original_tag = JAP }
			tag = MAN
			has_start_date < 1936.01.02
		}
		ai_enabled = { always = no }
		
		triggers = {
			leader_visible = { NOT = { has_country_flag = NW_JAP_KwantungArmyGui_swap } }
			# diplo_leader_frame_visible = { NOT = { has_country_flag = NW_JAP_KwantungArmyGui_swap } }
		}
		effects = {
			swap_click = {
				if = {
					limit = { has_country_flag = NW_JAP_KwantungArmyGui_swap }
					clr_country_flag = NW_JAP_KwantungArmyGui_swap
				}
				else = {
					set_country_flag = NW_JAP_KwantungArmyGui_swap
				}
			}
		}
		properties = {
			leader = { image = "GFX_portrait_[?MAN.MAN_kwantung_army_commander_token.GetTokenKey]" }
		}
	}
	
	###
	
	MAN_opium_empire_gui = {
		context_type = decision_category
		window_name = "MAN_opium_empire_window"
	}
	
	MAN_ayukawa_vs_matsuoka_gui = {
		context_type = decision_category
		window_name = "MAN_ayukawa_vs_matsuoka_gui_gui_window"
		
		properties = {
			ayukawa_side = { frame = MAN.MAN_ayukawa_vs_matsuoka_var }
			matsuoka_side = { frame = MAN.MAN_ayukawa_vs_matsuoka_var }
			JAP_flag = { image = "[JAP.GetFlag]" }
		}
		triggers = {
			ayukawa_side_visible = { check_variable = { MAN.MAN_ayukawa_vs_matsuoka_var < 50 } }
			matsuoka_side_visible = { check_variable = { MAN.MAN_ayukawa_vs_matsuoka_var > 50 } }
			JAP_flag_visible = { JAP = { is_ai = yes } }
			flag_border_thick_visible = { JAP = { is_ai = yes } }
		}
	}
	
	MAN_mongolian_asian_railway_gui = {
		context_type = decision_category
		window_name = "MAN_mongolian_asian_railway_window"
		
		properties = {
			mukden_chahar = { frame = 716.MAN_mongolian_asian_railway_project_line_progress }
			chahar_bailinmyao = { frame = 611.MAN_mongolian_asian_railway_project_line_progress }
			bailinmyao_mongolia = { frame = 1136.MAN_mongolian_asian_railway_project_line_progress }
			mongolia_kumul = { frame = 957.MAN_mongolian_asian_railway_project_line_progress }
			bailinmyao_kumul = { frame = 1161.MAN_mongolian_asian_railway_project_line_progress }
			kumul_kazakhstan = { frame = 760.MAN_mongolian_asian_railway_project_line_progress }
			kumul_kashgar = { frame = 1198.MAN_mongolian_asian_railway_project_line_progress }
			kashgar_pakistan = { frame = 1122.MAN_mongolian_asian_railway_project_line_progress }
			pakistan_afganistan = { frame = 442.MAN_mongolian_asian_railway_project_line_progress }
			kazakhstan_turkmenistan = { frame = 586.MAN_mongolian_asian_railway_project_line_progress }
			turkmenistan_iran = { frame = 584.MAN_mongolian_asian_railway_project_line_progress }
			iran_bagdad = { frame = 266.MAN_mongolian_asian_railway_project_line_progress }
			pakistan_iran = { frame = 444.MAN_mongolian_asian_railway_project_line_progress }
		}

		effects = {
			mukden_chahar_click = {
				event_option_tooltip = nw_manchukou_economy.16.a
			}
			chahar_bailinmyao_click = {
				event_option_tooltip = nw_manchukou_economy.17.a
			}
			bailinmyao_mongolia_click = {
				event_option_tooltip = nw_manchukou_economy.18.a
			}
			mongolia_kumul_click = {
				event_option_tooltip = nw_manchukou_economy.19.a
			}
			bailinmyao_kumul_click = {
				event_option_tooltip = nw_manchukou_economy.20.a
			}
			kumul_kazakhstan_click = {
				event_option_tooltip = nw_manchukou_economy.21.a
			}
			kumul_kashgar_click = {
				event_option_tooltip = nw_manchukou_economy.22.a
			}
			kashgar_pakistan_click = {
				event_option_tooltip = nw_manchukou_economy.23.a
			}
			pakistan_afganistan_click = {
				event_option_tooltip = nw_manchukou_economy.24.a
			}
			kazakhstan_turkmenistan_click = {
				event_option_tooltip = nw_manchukou_economy.25.a
			}
			turkmenistan_iran_click = {
				event_option_tooltip = nw_manchukou_economy.26.a
			}
			iran_bagdad_click = {
				event_option_tooltip = nw_manchukou_economy.27.a
			}
			pakistan_iran_click = {
				event_option_tooltip = nw_manchukou_economy.28.a
			}
		}
	}
	
	MAN_land_reform = {
		context_type = decision_category
		window_name = "NW_MAN_land_reform_window"

		properties = {
			progress = { frame = land_reform_progress_var }
		}
	}
	
	MAN_asian_prosperity_lab_graph = {
		window_name = "MAN_apl_graph_window"
		context_type = decision_category
		dirty = MAN.MAN_apl_graph_dirty

		# Set up dynamic list to generate one line segment per point
		dynamic_lists = {
			MAN_line_segments = {
				array = MAN.MAN_apl_graph_offsets
				index = segment_idx
				
				entry_container = MAN_graph_line_segment_entry
			}
			JAP_line_segments = {
				array = JAP.MAN_apl_graph_offsets
				index = segment_idx
				
				entry_container = JAP_graph_line_segment_entry
			}
		}

		properties = {
			MAN_segment = {
				# Sets they position of the line segment to the graph offset
				# Equal to -y1
				y = MAN.MAN_apl_graph_offsets^segment_idx

				# Tells the shader how steep to draw the line
				# Must be equal to (y2 - y1) / 2 + 50
				frame = MAN.MAN_apl_graph_slopes^segment_idx
			}
			JAP_segment = {
				# Sets they position of the line segment to the graph offset
				# Equal to -y1
				y = JAP.MAN_apl_graph_offsets^segment_idx

				# Tells the shader how steep to draw the line
				# Must be equal to (y2 - y1) / 2 + 50
				frame = JAP.MAN_apl_graph_slopes^segment_idx
			}
		}
	}
	
	MAN_pressure_on_emperor_Puyi = {
		context_type = decision_category
		window_name = "NW_MAN_pressure_on_emperor_window"
		
		effects = {
			political_stand_Bureaucrats_effect_click = {
				custom_effect_tooltip = effects_tooltip
				if = {
					limit = { NOT = { check_variable = { MAN_psB_command_power_gain_mult = 0 } } }
					set_variable = { MAN_psB_command_power_gain_mult = MAN_psB_command_power_gain_mult tooltip = command_power_gain_mult_tooltip }
				}
				if = {
					limit = { NOT = { check_variable = { MAN_psB_production_speed_buildings_factor = 0 } } }
					set_variable = { MAN_psB_production_speed_buildings_factor = MAN_psB_production_speed_buildings_factor tooltip = production_speed_buildings_tooltip }
				}
				if = {
					limit = { NOT = { check_variable = { MAN_psB_conscription_factor = 0 } } }
					set_variable = { MAN_psB_conscription_factor = MAN_psB_conscription_factor tooltip = conscription_factor_tooltip }
				}
				if = {
					limit = { NOT = { check_variable = { MAN_psB_resistance_growth = 0 } } }
					set_variable = { MAN_psB_resistance_growth = MAN_psB_resistance_growth tooltip = resistance_growth_tooltip }
				}
				if = {
					limit = { NOT = { check_variable = { MAN_psB_compliance_growth = 0 } } }
					set_variable = { MAN_psB_compliance_growth = MAN_psB_compliance_growth tooltip = compliance_growth_tooltip }
				}
				if = {
					limit = { NOT = { check_variable = { MAN_psB_political_power_factor = 0 } } }
					set_variable = { MAN_psB_political_power_factor = MAN_psB_political_power_factor tooltip = political_power_factor_tooltip }
				}
			}
			political_stand_Government_effect_click = {
				custom_effect_tooltip = effects_tooltip
				if = {
					limit = { NOT = { check_variable = { MAN_psG_defensive_war_stability_factor = 0 } } }
					set_variable = { MAN_psG_defensive_war_stability_factor = MAN_psG_defensive_war_stability_factor tooltip = defensive_war_stability_factor_tooltip }
				}
				if = {
					limit = { NOT = { check_variable = { MAN_psG_party_popularity_stability_factor = 0 } } }
					set_variable = { MAN_psG_party_popularity_stability_factor = MAN_psG_party_popularity_stability_factor tooltip = party_popularity_stability_factor_tooltip }
				}
				if = {
					limit = { NOT = { check_variable = { MAN_psG_monthly_population = 0 } } }
					set_variable = { MAN_psG_monthly_population = MAN_psG_monthly_population tooltip = monthly_population_tooltip }
				}
				if = {
					limit = { NOT = { check_variable = { MAN_psG_max_command_power_mult = 0 } } }
					set_variable = { MAN_psG_max_command_power_mult = MAN_psG_max_command_power_mult tooltip = max_command_power_mult_tooltip }
				}
				if = {
					limit = { NOT = { check_variable = { MAN_psG_agency_upgrade_time = 0 } } }
					set_variable = { MAN_psG_agency_upgrade_time = MAN_psG_agency_upgrade_time tooltip = agency_upgrade_time_tooltip }
				}
				if = {
					limit = { NOT = { check_variable = { MAN_psG_civilian_factory_use = 0 } } }
					set_variable = { MAN_psG_civilian_factory_use = MAN_psG_civilian_factory_use tooltip = civilian_factory_use_tooltip }
				}
			}
			political_stand_Military_effect_click = {
				custom_effect_tooltip = effects_tooltip
				if = {
					limit = { NOT = { check_variable = { MAN_psM_army_core_attack_factor = 0 } } }
					set_variable = { MAN_psM_army_core_attack_factor = MAN_psM_army_core_attack_factor tooltip = army_core_attack_factor_tooltip }
				}
				if = {
					limit = { NOT = { check_variable = { MAN_psM_army_core_defence_factor = 0 } } }
					set_variable = { MAN_psM_army_core_defence_factor = MAN_psM_army_core_defence_factor tooltip = army_core_defence_factor_tooltip }
				}
				if = {
					limit = { NOT = { check_variable = { MAN_psM_army_morale = 0 } } }
					set_variable = { MAN_psM_army_morale = MAN_psM_army_morale tooltip = army_morale_factor_tooltip }
				}
				if = {
					limit = { NOT = { check_variable = { MAN_psM_army_org = 0 } } }
					set_variable = { MAN_psM_army_org = MAN_psM_army_org tooltip = army_org_factor_tooltip }
				}
				if = {
					limit = { NOT = { check_variable = { MAN_psM_special_forces_cap = 0 } } }
					set_variable = { MAN_psM_special_forces_cap = MAN_psM_special_forces_cap tooltip = special_forces_cap_tooltip }
				}
				if = {
					limit = { NOT = { check_variable = { MAN_psM_special_forces_training_time_factor = 0 } } }
					set_variable = { MAN_psM_special_forces_training_time_factor = MAN_psM_special_forces_training_time_factor tooltip = special_forces_training_time_factor_tooltip }
				}
			}
		}
	}
}