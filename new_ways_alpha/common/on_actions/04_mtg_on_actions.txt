on_actions = {
	on_new_term_election = {
	}
	
	#Root is exile
	#From is new host
	#FromFrom is old host
	on_host_changed_from_capitulation = {
		effect = {
			#Transfer exile leaders to new host
			From.From = {
				every_army_leader = {
					limit = { is_exiled_leader_from = Root }
					set_nationality = Root.From
				}
			}
		}
	}

	#Root is exile
	#From is old host
	on_exile_government_reinstated = {
		effect = {
			From = {
				every_army_leader = {
					limit = { is_exiled_leader_from = Root }
					set_nationality = Root
				}
			}
			Root = {
				every_army_leader = {
					limit = { is_exiled_leader_from = Root }
					remove_unit_leader_trait = exiled_leader
					remove_exile_tag = yes
				}
			}
		}
	}

	on_unit_leader_created = {
		effect = {
			if = {
				limit = { is_exiled_leader = yes }
				From.From = { save_event_target_as = exile_nation }
				add_unit_leader_trait = exiled_leader
				
				add_random_trait = {
					old_guard
					brilliant_strategist
					inflexible_strategist
					war_hero
					trait_cautious
					trait_reckless
					media_personality
					harsh_leader
					infantry_officer
					cavalry_officer
					armor_officer
				}

				add_random_trait = {
					organizer
					panzer_leader
					cavalry_leader
					trait_engineer
					infantry_leader
					naval_invader						
					commando
					skilled_staffer
					trickster					
				}

				unit_leader_event = { id = mtg_exile_leader_added.1 }
			}
		}
	}

	#ROOT is winner #FROM gets annexed - This will also fire on_annex
	on_civil_war_end = {
		
	}

	#ROOT is winner #FROM gets annexed - This fires just before FROM gets annexed, meaning the country and everything it owns still exists. It will also fire on_annex and on_civil_war_end
	on_civil_war_end_before_annexation = {

	}

	#FROM is war target
	on_declare_war = {
		effect = {
			# In case of Turkish civil war with field marshal Ataturk out on the field
			if = {
        	    limit = { 
        	        original_tag = TUR
        	        has_civil_war = yes
        	        FROM = {
        	            original_tag = TUR
        	            has_civil_war = yes
        	        }
        	    }
        	    hidden_effect = { 
        	        if = { 
        	            limit = {
        	            	FROM = { has_government = neutrality } 
        	            }
        	            every_unit_leader = {
        	                limit = { 
        	                    has_id = 59
        	                }
        	                set_nationality = FROM
        	            }
        	        }
        	    }
        	}
		}
	}

	on_government_exiled = {

	}

	#ROOT = nation being puppeted, FROM = overlord
	on_puppet = {
		
	}

	on_startup = {
		effect = {
			#Mexican oil concessions
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				MEX = {
					give_resource_rights = { receiver = ENG state = 476 }
					give_resource_rights = { receiver = ENG state = 477 }
					give_resource_rights = { receiver = USA state = 479 }
					give_resource_rights = { receiver = USA state = 480 }
				}
			}
			#Persian oil concessions
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				PER = {
					give_resource_rights = { receiver = ENG state = 413 }
					give_resource_rights = { receiver = ENG state = 1187 }
				}
				ENG = { set_country_flag = resource_rights_from_per_flag }
				413 = { set_state_flag = resource_rights_state_flag }
				1187 = { set_state_flag = resource_rights_state_flag }
			}
			# Game Rules - Decolonization
			if = {
				limit = {
					has_game_rule = {
						rule = americas_colonization_status
						option = AMERICAS_DECOLONIZED
					}
				}
				299 = { add_core_of = ARG }
				720 = { add_core_of = ARG }
				270 = { add_core_of = CHL }
				ENG = {
					release = BLZ
					release = BAH
					release = GYA
					release = JAM
					release = TRI
					release = BWI
					release = CAN
				}
				ARG = {
					transfer_state = 299
					transfer_state = 720
				}
				HOL = {
					release = CRC
					release = SUR
				}
				CHL = {
					transfer_state = 270
				}
				730 = { add_core_of = CAN }
				event_target:NW_france_scope = {
					release = GDL
					release = CAY
					release = CAN
				}
				USA = {
					delete_unit = { state = 686 }
					release = PUE
				}
				PAN = {
					transfer_state = 685
				}
				ENG = {
					set_autonomy = { target = CAN autonomy_state = autonomy_free }
					set_autonomy = { target = BMD autonomy_state = autonomy_free }
					set_autonomy = { target = NFL autonomy_state = autonomy_free }
				}
				CAN = {
					abandon_colony_tag = yes
				}
				
			}
			if = {
				limit = {
					has_game_rule = {
						rule = africa_colonization_status
						option = AFRICA_DECOLONIZED
					}
				}
				713 = { add_core_of = MAD }
				event_target:NW_france_scope = {
					delete_unit = { state = 272 }
					delete_unit = { state = 539 }
					delete_unit = { state = 543 }
					delete_unit = { state = 461 }
					delete_unit = { state = 458 }
					delete_unit = { state = 459 }
					release = MOR
					release = ALG
					release = TUN
					release = DJI
					release = MAD
					release = GAB
					release = RCG
					release = CMR
					release = CAR
					release = CHA
					release = DAH
					release = TOG
					release = IVO
					release = VOL
					release = MLI
					release = GNA
					release = SEN
					release = NGR
					release = MRT
					release = TUN
					release = MOR
				}
				CMR = {
					transfer_state = 1020
				}
				ITA = {
					release = LBA
					release = ERI
					release = SOM
					set_autonomy = { target = TIG autonomy_state = autonomy_free }
					transfer_units_fraction = {
						target = SOM
						size = 1
					}
				}
				SOM = {
					transfer_state = 269
					transfer_units_fraction = {
						target = ITA
						size = 1
					}
				}
				707 = { add_core_of = MAD }
				709 = { add_core_of = MAD }
				703 = { add_core_of = SAF }
				704 = { add_core_of = SAF }
				ENG = {
					delete_unit = { state = 447 }
					delete_unit = { state = 446 }
					delete_unit = { state = 453 }
					delete_unit = { state = 551 }
					delete_unit = { state = 547 }
					delete_unit = { state = 546 }
					delete_unit = { state = 558 }
					delete_unit = { state = 274 }
					set_autonomy = { target = EGY autonomy_state = autonomy_free }
					release = SUD
					release = UGA
					release = TZN
					release = ZAM
					release = MLW
					release = KEN
					release = ZIM
					release = BOT
					release = NGA
					release = GHA
					release = SIE
					release = GAM
					release = MAD
					release = SAF
					release = LES
					release = ESW
					release = ZAN
					release = ANG
					set_autonomy = { target = ZIM autonomy_state = autonomy_free }
				}
				BEL = {
					delete_unit = { state = 295 }
					release = RWA
					release = BRD
					release = COG
					set_autonomy = { target = COG autonomy_state = autonomy_free }
				}
				COG = {
					release = RWA
					release = BRD
				}
				SAF = {
					release = NMB
				}
				702 = { add_core_of = GNB }
				POR = {
					delete_unit = { state = 540 }
					delete_unit = { state = 544 }
					release = MZB
					release = ANG
					release = GNB
				}
				SPR = {
					delete_unit = { state = 290 }
					release = EQG
					release = MRT
				}
				ITA = {
					white_peace = ETH
				}
				MOR = {
					transfer_state = 290
					transfer_state = 699					
					transfer_state = 1015
				}
				ENG = {
					set_autonomy = { target = SAF autonomy_state = autonomy_free }
					set_autonomy = { target = EGY autonomy_state = autonomy_free }
				}
				SAF = {
					retire_country_leader = yes
				}
			}
			if = {
				limit = {
					has_game_rule = {
						rule = oceania_colonization_status
						option = OCEANIA_DECOLONIZED
					}
				}
				ENG = {
					release = FIJ
				}
				USA = {
					delete_unit = { state = 629 }
					delete_unit = { state = 630 }
					delete_unit = { state = 631 }
					delete_unit = { state = 632 }
					delete_unit = { state = 638 }
					delete_unit = { state = 642 }
					delete_unit = { state = 727 }
					release = HAW
					release = GUM
				}
				JAP = {
					delete_unit = { state = 684 }
					delete_unit = { state = 633 }
					delete_unit = { state = 647 }
					delete_unit = { state = 646 }
					delete_unit = { state = 648 }
					delete_unit = { state = 645 }
					release = GUM
					release = FSM
				}
				FRA = {
					release = TAH
				}
				AST = {
					release = PNG
					release = SOL
				}
				NZL = {
					release = SAM
				}
				ENG = {
					set_autonomy = { target = AST autonomy_state = autonomy_free }
					set_autonomy = { target = NZL autonomy_state = autonomy_free }
				}
			}
			if = {
				limit = {
					has_game_rule = {
						rule = oceania_colonization_status
						option = OCEANIA_UNITED
					}
				}
				284 = { 
					add_core_of = HAW
				}
				629 = {
					add_core_of = HAW
				}
				630 = {
					add_core_of = HAW
				}
				631 = {
					add_core_of = HAW
				}
				632 = {
					add_core_of = HAW
				}
				633 = {
					add_core_of = HAW
				}
				634 = {
					add_core_of = HAW
				}
				635 = {
					add_core_of = HAW
				}
				636 = {
					add_core_of = HAW
				}
				638 = {
					add_core_of = HAW
				}
				639 = {
					add_core_of = HAW
				}
				641 = {
					add_core_of = HAW
				}
				642 = {
					add_core_of = HAW
				}
				643 = {
					add_core_of = HAW
				}
				646 = {
					add_core_of = HAW
				}
				647 = {
					add_core_of = HAW
				}
				648 = { 
					add_core_of = HAW 
				}
				684 = {
					add_core_of = HAW
				}
				723 = {
					add_core_of = HAW
				}
				725 = {
					add_core_of = HAW
				}
				726 = {
					add_core_of = HAW
				}
				727 = {
					add_core_of = HAW
				}
				734 = {
					add_core_of = HAW
				}
				645 = {
					add_core_of = HAW
				} #Iwo Jima
				ENG = {
					release = HAW
					set_autonomy = { target = AST autonomy_state = autonomy_free }
				}
				USA = {
					delete_unit = { state = 629 }
					delete_unit = { state = 630 }
					delete_unit = { state = 631 }
					delete_unit = { state = 632 }
					delete_unit = { state = 638 }
					delete_unit = { state = 642 }
					delete_unit = { state = 727 }
					release = HAW
				}
				JAP = {
					delete_unit = { state = 684 }
					delete_unit = { state = 633 }
					delete_unit = { state = 647 }
					delete_unit = { state = 646 }
					delete_unit = { state = 648 }
					delete_unit = { state = 645 }
					release = HAW
				}
				FRA = {
					release = HAW
				}
				AST = {
					release = HAW
					release = PNG
				}
				HAW = {
					change_tag_from = NZL
				}
				set_global_flag = form_polynesia_flag
				
				524 = { add_core_of = HAW } #Taiwan
				
				284 = { 
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				629 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				631 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				633 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				634 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				635 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				636 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
				638 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				639 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				641 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
				642 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
				643 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				646 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
				647 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
				684 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				723 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				725 = {
					add_extra_state_shared_building_slots = 1
				}
				726 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				727 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				734 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				645 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				} #Iwo Jima
				
				HAW = {
					set_cosmetic_tag = united_polynesia
					country_event = tfv_new_zealand.8
				}
			}
			if = {
				limit = {
					has_game_rule = {
						rule = asia_colonization_status
						option = ASIA_DECOLONIZED
					}
				}
				710 = { add_core_of = MLD }
				711 = { add_core_of = MAL }
				712 = { add_core_of = MAL }
				733 = { add_core_of = MAL }
				ENG = {
					delete_unit = { state = 454 }
					delete_unit = { state = 659 }
					delete_unit = { state = 422 }
					delete_unit = { state = 326 }
					delete_unit = { state = 336 }
					release = FIJ
					release = MLD
					release = MAL
					release = SRL
					release = QAT
					release = BAH
					release = KUW
					release = UAE
					release = PAL
					release = JOR
					release = SRL
				}
				RAJ = {
					release = BRM
					release = BAN
					release = PAK
				}
				AST = {
					release = PNG
				}
				ENG = {
					set_autonomy = { target = RAJ autonomy_state = autonomy_free }
					set_autonomy = { target = AST autonomy_state = autonomy_free }
					set_autonomy = { target = NZL autonomy_state = autonomy_free }
					set_autonomy = { target = MAL autonomy_state = autonomy_free }
					set_autonomy = { target = JOR autonomy_state = autonomy_free }
					set_autonomy = { target = BPL autonomy_state = autonomy_free }
					set_autonomy = { target = SRL autonomy_state = autonomy_free }
				}
				MAL = {
					abandon_colony_tag = yes
					retire_country_leader = yes
				}
				RAJ = {
					abandon_colony_tag = yes
					retire_country_leader = yes
				}
				HOL = {
					set_autonomy = { target = INS autonomy_state = autonomy_free }
				}
				MAL = {
					transfer_state = 721
				}
				INS = {
					abandon_colony_tag = yes
					retire_country_leader = yes
				}
				USA = {
					delete_unit = { state = 327 }
					set_autonomy = { target = PHI autonomy_state = autonomy_free }
				}
				event_target:NW_france_scope = { ### FRA
					delete_unit = { state = 553 }
					delete_unit = { state = 741 }
					delete_unit = { state = 286 }
					delete_unit = { state = 671 }
					set_autonomy = { target = LEB autonomy_state = autonomy_free }
					set_autonomy = { target = SYR autonomy_state = autonomy_free }
					set_autonomy = { target = FIC autonomy_state = autonomy_free }
				}
				FIC = {
					release = VIN
					release = CAM
					release = LAO
				}
				YEM = {
					transfer_state = 659
					transfer_state = 944
					transfer_state = 1052
					transfer_state = 1170
					transfer_state = 803
					add_state_core = 659
					add_state_core = 944
					add_state_core = 1052
					add_state_core = 1170
					add_state_core = 803
				}
				RAJ = {
					transfer_state = 321
					transfer_state = 320
				}
				728 = { add_core_of = GXC }
				729 = { add_core_of = GXC }
				326 = { add_core_of = GXC }
				GXC = {
					transfer_state = 728
					transfer_state = 729
					transfer_state = 326
				}
				JAP = {
					set_autonomy = { target = MAN autonomy_state = autonomy_free }
					set_autonomy = { target = MEN autonomy_state = autonomy_free }
					set_autonomy = { target = EHB autonomy_state = autonomy_free }
					release = KOR
					transfer_units_fraction = {
						target = KOR
						size = 1
					}
				}
				MAN = {
					transfer_state = 745
				}
				CHI = {
					transfer_state = 609
					transfer_state = 816
					transfer_state = 524
				}
				MEN = {
					transfer_state = 611
					transfer_state = 612
				}
				KOR = {
					transfer_units_fraction = {
						target = JAP
						size = 1
					}
				}
				BPL = {
					drop_cosmetic_tag = yes
					retire_country_leader = yes
				}
				LEB = {
					retire_country_leader = yes
				}
				PAK = {
					transfer_state = 936
					add_state_core = 936
				}
				SRL = {
					drop_cosmetic_tag = yes
					retire_country_leader = yes
				}
			}
			# Game Rules - Fragmentation
			if = {
				limit = {
					has_game_rule = {
						rule = eng_fragmentation_status
						option = ENG_FRAGMENTED
					}
				}
				ENG = {
					delete_unit = { state = 116 }
					release = SCO
					release = WLS
					release = NIR
					release = MLT
					release = CYP
					set_cosmetic_tag = ENG_england
					set_global_flag = ENG_became_england
				}
			}
			if = {
				limit = {
					has_game_rule = {
						rule = spr_fragmentation_status
						option = SPR_EU4
					}
				}
				173 = { add_core_of = ADU }
				118 = { add_core_of = ADU }
				167 = { add_core_of = CAT }
				177 = { add_core_of = CAT }
				166 = { add_core_of = CAT }
				114 = { add_core_of = CAT }
				115 = { add_core_of = CAT }
				116 = { add_core_of = CAT }
				794 = { add_core_of = CAT }
				1102 = { add_core_of = CAT }
				1043 = { add_core_of = CAT }				
				1095 = { remove_core_of = NAV }
				SPR = {
					delete_unit = { state = 177 }
					release = CAT
					release = NAV
					ADU = { 
						transfer_state = 173 
						transfer_state = 118
					}
					POR = { 
						transfer_state = 1040 
						add_state_core = 1040
					}					
					set_cosmetic_tag = SPR_castille
					set_politics = {
						ruling_party = neutrality
						elections_allowed = yes
					}
					set_political_party = {
						ideology = neutrality
						popularity = 85
					}
					transfer_units_fraction = {
						target = CAT
						size = 0.2
					}
					transfer_units_fraction = {
						target = GLC
						size = 0.025
					}
					transfer_units_fraction = {
						target = NAV
						size = 0.025
					}
					transfer_units_fraction = {
						target = ADU
						size = 0.1
					}
				}
				SPA = {
					set_cosmetic_tag = SPR_nationalist_castille
				}
				SPB = {
					set_cosmetic_tag = SPR_carlist_castille
				}
				SPC = {
					set_cosmetic_tag = SPR_anarchist_castille
				}
				SPD = {
					set_cosmetic_tag = SPR_republican_castille
				}
				ENG = {
					delete_unit = { state = 118 }
					release = CAT
				}
				ITA = {
					release = CAT
				}
				FRA = {
					release = CAT
				}				
				CAT = {
					set_politics = {
						ruling_party = neutrality
						elections_allowed = no
					}
					set_political_party = {
						ideology = neutrality
						popularity = 85
					}
					set_cosmetic_tag = CAT_aragon
				}
				NAV = {
					set_politics = {
						ruling_party = neutrality
					}
					set_political_party = {
						ideology = neutrality
						popularity = 85
					}
				}
				GLC = {
					set_politics = {
						ruling_party = neutrality
					}
					set_political_party = {
						ideology = neutrality
						popularity = 85
					}
				}
				ADU = {
					set_country_flag = country_formed_andalusia_flag
				}
				set_global_flag = form_andalusia_flag
				1095 = { add_core_of = NAV }
				165 = { add_core_of = ADU }
				171 = { add_core_of = ADU }
				1095 = { add_core_of = ADU }
				172 = { add_core_of = ADU }
				789 = { add_core_of = ADU }
				41 = { add_core_of = ADU }
				169 = { add_core_of = ADU }
				168 = { add_core_of = ADU }
				167 = { add_core_of = ADU }
				793 = { add_core_of = ADU }
				981 = { add_core_of = ADU }
				788 = { add_core_of = ADU }
				178 = { add_core_of = ADU }
				177 = { add_core_of = ADU }
				176 = { add_core_of = ADU }
				175 = { add_core_of = ADU }
				174 = { add_core_of = ADU }
				170 = { add_core_of = ADU }
				166 = { add_core_of = ADU }
				112 = { add_core_of = ADU }
				179 = { add_core_of = ADU }
				180 = { add_core_of = ADU }
				181 = { add_core_of = ADU }
				697 = { add_core_of = ADU }
				698 = { add_core_of = ADU }
				795 = { add_core_of = ADU }
				173 = { add_core_of = ADU }
				118 = { add_core_of = ADU }
				
				165 = { add_core_of = SPR }
				167 = { add_core_of = SPR }
				177 = { add_core_of = SPR }
				171 = { add_core_of = SPR }
				172 = { add_core_of = SPR }
				173 = { add_core_of = SPR }
				166 = { add_core_of = SPR }
				
				#Italy should keep their cores on the Med. Islands
				114 = { add_core_of = ITA }
				115 = { add_core_of = ITA }
				
				#Kingdom of Naples
				117 = { add_core_of = CAT }
				156 = { add_core_of = CAT }
			}
			if = {
				limit = {
					has_game_rule = {
						rule = spr_fragmentation_status
						option = SPR_FRAGMENTED
					}
				}
				SPR = {
					release = CAT
					release = NAV
					release = GLC
				}
				165 = { add_core_of = SPR }
				171 = { add_core_of = SPR }
				172 = { add_core_of = SPR }
				1095 = { add_core_of = SPR }
			}
			if = { ### France fragmentation
				limit = {
					has_game_rule = {
						rule = fra_fragmentation_status
						option = FRA_FRAGMENTED
					}
				}
				FRA = {
					release = OCC
					release = BRI
					release = COR
					release = ESS
					transfer_units_fraction = {
						target = OCC
						size = 0.4
					}
					transfer_units_fraction = {
						target = BRI
						size = 0.1
					}
					transfer_units_fraction = {
						target = ESS
						size = 0.02
					}
					transfer_units_fraction = {
						target = COR
						size = 0.01
					}
				}
				1 = { add_core_of = FRA }
				14 = { add_core_of = FRA }
				19 = { add_core_of = FRA }
				20 = { add_core_of = FRA }
				21 = { add_core_of = FRA }
				22 = { add_core_of = FRA }
				25 = { add_core_of = FRA }
				26 = { add_core_of = FRA }
				31 = { add_core_of = FRA }
				32 = { add_core_of = FRA }
				735 = { add_core_of = FRA }
			}
			if = {
				limit = {
						has_game_rule = {
							rule = yug_fragmentation_status
							option = YUG_FRAGMENTED
						}
					}
					if = {
						limit = { country_exists = FIU }
						transfer_state = 904
						else = { YUG = { release = FIU } FIU = { load_oob = "FIU_fragmented" } }
					}
					YUG = {
						release = SLV
						SLV = { 
							set_technology = {
								gw_artillery = 1
							}
							load_oob = "SLV_fragmented" 
						}
						release = CRO
						CRO = {
							set_political_party = {
								ideology = democratic
								popularity = 50
							}
							set_politics = {
								ruling_party = democratic
								last_election = "1936.1.1"
								election_frequency = 48
								elections_allowed = yes
							}
							set_technology = {
								gw_artillery = 1
							}
							load_oob = "CRO_fragmented" 
						}
						release = BOS
						BOS = { 
							set_technology = {
								gw_artillery = 1
							}
							load_oob = "BOS_fragmented" 
						}
						release = MAC
						MAC = {  
							set_technology = {
								gw_artillery = 1
							}
							load_oob = "MAC_fragmented" 
						}
						release = MNT
						MNT = {  
							set_technology = {
								gw_artillery = 1
							}
							load_oob = "MNT_fragmented" 
						}
						release = KOS
						KOS = {  
							set_technology = {
								gw_artillery = 1
							}
							load_oob = "KOS_fragmented" 
						}
						release = VOJ
						VOJ = { 
							set_technology = {
								gw_artillery = 1
							}
							load_oob = "VOJ_fragmented" 
						}
						release = SER
						SER = { 
							set_technology = {
								gw_artillery = 1
							}
							load_oob = "SER_fragmented" 
						}
					}
					VOJ = {
						annex_country = {
							target = YUG
						}
					}
			}
			if = {
				limit = {
					has_game_rule = {
						rule = cze_fragmentation_status
						option = CZE_FRAGMENTED
					}
				}
				CZE = {
					release = SDT
					SDT = { 
						set_technology = {
							gw_artillery = 1
						}
						load_oob = "SDT_fragmented" 
					}
					if = {
						limit = { 89 = { is_owned_by = UKR } }
						UKR = {
							transfer_state = 73
							transfer_state = 815
							transfer_state = 990
						}
						else = {
							release = KPR
							KPR = {  
								set_technology = {
									gw_artillery = 1
								}
								load_oob = "KPR_fragmented" 
							}
						}
					}
					release = SLO
					POL = {
						transfer_state = 72
					}
				}
				SLO = { 
					set_technology = { gw_artillery = 1 }
					load_oob = "SLO_fragmented" 
				}
			}
			if = {
				limit = {
					has_game_rule = {
						rule = pol_fragmentation_status
						option = POL_FRAGMENTED
					}
				}
				POL = {
					set_autonomy = { target = DNZ autonomy_state = autonomy_free }
					UKR = {
						transfer_state = 997
						transfer_state = 908
						transfer_state = 93
						transfer_state = 91
						transfer_state = 89
						transfer_state = 1023
					}
					BLR = {
						transfer_state = 94
						transfer_state = 95
						transfer_state = 96
						transfer_state = 97
						transfer_state = 771
						transfer_state = 774
						transfer_state = 939
						transfer_state = 1029
					}
				}
			}
			if = {
				limit = {
					has_game_rule = {
						rule = sov_fragmentation_status
						option = SOV_FRAGMENTED
					}
				}
				SOV = {
					release = UKR
					UKR = { load_oob = "UKR_fragmented" }
					release = BLR
					BLR = { load_oob = "BLR_fragmented" }
					release = GEO
					release = AZR
					release = ARM
					release = UZB
					release = TAJ
					release = KYR
					release = TMS
					release = KAZ
					release = MDA
					MDA = { load_oob = "MDA_fragmented" }
					retire_country_leader = yes                   
					set_cosmetic_tag = SOV_russia
					set_global_flag = SOV_became_russia
				}
				set_variable = { random_crimea = random }
				if = {
					limit = { check_variable = { random_crimea = 1 } }
					UKR = {
						transfer_state = 137
						add_state_core = 137
					}
				}
			}
			if = {
				limit = {
					has_game_rule = {
						rule = sov_fragmentation_status
						option = SOV_FULLY_FRAGMENTED
					}
				}
				SOV = {
					every_owned_state = {
						SOV = { delete_unit = { state = PREV } }
					}
					release = MOL
					MOL = {  
						set_technology = {
							gw_artillery = 1
						}
						load_oob = "MOL_fragmented" 
					}
					release = UKR
					UKR = { load_oob = "UKR_fragmented" }
					release = BLR
					BLR = { load_oob = "BLR_fragmented" }
					release = GEO
					release = AZR
					release = ARM
					release = UZB
					release = TAJ
					release = KYR
					release = TMS
					release = KAZ
					release = ADY
					ADY = { load_oob = "ADY_fragmented" }
					release = MDA
					MDA = { load_oob = "MDA_fragmented" }
					release = VGE
					VGE = { load_oob = "VGE_fragmented" }
					release = TAT
					TAT = { load_oob = "TAT_fragmented" }
					release = KAR
					release = BYA
					release = FER
					release = SIB
					release = ING
					release = ICH
					release = DAG
					release = OAL
					release = KBA
					release = KCH
				}
				load_oob = "RUS_fragmented"
				set_cosmetic_tag = SOV_russia
				set_variable = { random_crimea = random }
				if = {
					limit = { check_variable = { random_crimea = 0 } }
					MDA = {
						transfer_state = 137
						add_state_core = 137
					}
				}
				else = {
					UKR = {
						transfer_state = 137
						add_state_core = 137
					}
				}
			}
			if = {
				limit = {
					has_game_rule = {
						rule = raj_fragmentation_status
						option = RAJ_FRAGMENTED
					}
				}
				RAJ = {
					release = BAN
					release = PAK
					release = BRM
				}
			}
			if = {
					limit = {
						has_game_rule = {
							rule = ita_fragmentation_status
							option = ITA_FRAGMENTED
						}
					}
					ITA = {
						# africa
						release = LBA
						release = ERI
						release = ETH					
						white_peace = ETH
						ETH = { 
							transfer_state = 1080 
						}							

						# europe
						release = ALB
						release = SRD
						SRD = { 
							transfer_state = 158 
							transfer_state = 987 
							transfer_state = 1032
							transfer_state = 1033
							transfer_state = 1034							
							add_state_core = 158
							add_state_core = 987
							add_state_core = 1032
							add_state_core = 1033
							add_state_core = 1034								
						}						
						SRD = { 
							set_technology = {
								gw_artillery = 1
							}
							load_oob = "SRD_fragmented" 
						}
						LOM = { 
							transfer_state = 159 
							add_state_core = 159
						}
						LOM = {  
							set_technology = {
								gw_artillery = 1
							}
							load_oob = "LOM_fragmented" 
						}
						MDN = { 
							transfer_state = 985 
							add_state_core = 985
						}
						MDN = {  
							set_technology = {
								gw_artillery = 1
							}
							load_oob = "MDN_fragmented" 
						}
						TUS = { 
							transfer_state = 162 
							add_state_core = 162
						}
						TUS = {  
							set_technology = {
								gw_artillery = 1
							}
							load_oob = "TUS_fragmented" 
						}						
						release = SIC
						SIC = {
							transfer_state = 117						
							transfer_state = 156  
							transfer_state = 157 							
							add_state_core = 117
							add_state_core = 156
							add_state_core = 157							
						}						
						SIC = {  
							set_technology = {
								gw_artillery = 1
							}
							load_oob = "SIC_fragmented" 
						}
						release = TRT
						release = VNC
						VNC = {  
							set_technology = {
								gw_artillery = 1
							}
							load_oob = "VNC_fragmented" 
						}
					}
					GRE = { transfer_state = 164 }
					if = {
						limit = { country_exists = SOM }
						SOM = { transfer_state = 559 }
						else = { ITA = { release = SOM } }
					}
					if = {
						limit = { country_exists = FIU }
						FIU = { transfer_state = 824 }
						else = { ITA = { release = FIU } 
							FIU = {  
								set_technology = {
									gw_artillery = 1
								}
								load_oob = "FIU_fragmented" 
							} 
						}
					}
					if = {
						limit = { YUG = { owns_state = 811 } }
						YUG = { transfer_state = 163 }
					}
					if = {
						limit = { YUG = { owns_state = 904 } }
						YUG = { transfer_state = 824 }
					}
					if = {
						limit = { YUG = { owns_state = 858 } }
						YUG = { transfer_state = 736 }
					}						
					if = {
						limit = { CRO = { owns_state = 811 } }
						CRO = { transfer_state = 163 }
					}
					if = {
						limit = { CRO = { owns_state = 904 } }
						CRO = { transfer_state = 824 }
					}	
					if = {
						limit = { SLV = { owns_state = 858 } }
						SLV = { transfer_state = 736 }
					}						
					VAT = {
						transfer_state = 2
						transfer_state = 161						
						transfer_state = 986						

						add_state_core = 2
						add_state_core = 161						
						add_state_core = 986
					}
					AUS = { 
						transfer_state = 39
						transfer_state = 846
					}
					SIC = {
						annex_country = {
							target = ITA
						}
					}
			}
			if = {
				limit = {
					OR = {
						has_game_rule = {
							rule = historical_border_status
							option = POSTWAR_BORDER
						}
						has_game_rule = {
							rule = historical_border_status
							option = POSTWAR_POLITIC_BORDER
						}
					}
				}
				every_state = {
					limit = { is_demilitarized_zone = yes }
					set_demilitarized_zone = no
				}
				SOV = {
					annex_country = { target = EST }
					annex_country = { target = LIT }
					annex_country = { target = LAT }
					annex_country = { target = TAN }
					transfer_state = 73
					transfer_state = 78
					transfer_state = 80
					transfer_state = 89
					transfer_state = 91
					transfer_state = 93
					transfer_state = 94
					transfer_state = 95
					transfer_state = 96
					transfer_state = 97
					transfer_state = 146
					transfer_state = 147
					transfer_state = 537
					transfer_state = 555
					transfer_state = 722
					transfer_state = 762
					transfer_state = 771
					transfer_state = 780
					transfer_state = 815
					transfer_state = 818
					transfer_state = 939
					transfer_state = 997
					transfer_state = 1023
					transfer_state = 1029
				}
				POL = {
					annex_country = { target = DNZ }
					transfer_state = 5
					transfer_state = 63
					transfer_state = 885
					transfer_state = 66
					transfer_state = 67
					transfer_state = 72
					transfer_state = 981
					transfer_state = 800
				}
				GRE = {
					transfer_state = 164
				}
				BUL = {
					transfer_state = 77
				}
				PRU = {
					transfer_state = 490
				}
				YUG = {
					transfer_state = 163
					transfer_state = 736
					transfer_state = 824
				}
				event_target:NW_france_scope = {
					transfer_state = 273
					transfer_state = 448
					transfer_state = 449
					transfer_state = 450
					transfer_state = 451
					transfer_state = 661
					transfer_state = 662
					transfer_state = 663
					transfer_state = 1057
					transfer_state = 1059
				}
				ETH = {
					transfer_state = 550
					transfer_state = 1080
					white_peace = ITA
				}
				ENG = {
					transfer_state = 559
				}
				TUR = {
					transfer_state = 945
					add_state_core = 945
				}
				DDR = {
					transfer_state = 60
					transfer_state = 61
					transfer_state = 62
					transfer_state = 64
					transfer_state = 65
					transfer_state = 68
					transfer_state = 804
				}
				WGR = {
					annex_country = { target = GER }
					release = SAR
				}
				FRA = {
					puppet = SAR
				}
				SPA = { annex_country = { target = SPR } }
				PRC = {
					annex_country = { target = CHI }
					annex_country = { target = SIH }
					annex_country = { target = SHX }
					annex_country = { target = XIK }
					annex_country = { target = GXC }
					annex_country = { target = YUN }
					annex_country = { target = XSM }
					annex_country = { target = MEN }
					annex_country = { target = SIK }
					annex_country = { target = TIB }
					annex_country = { target = MAN }
					annex_country = { target = SHA }
					annex_country = { target = TNG }
					annex_country = { target = KUM }
					annex_country = { target = NEA }
					annex_country = { target = KAS }
					annex_country = { target = DZH }
					transfer_state = 609
					transfer_state = 816
					transfer_state = 745
				}
				CHI = {
					transfer_state = 524
				}
				USA = {
					transfer_state = 526
					transfer_state = 633
					transfer_state = 646
					transfer_state = 647
					transfer_state = 648
					transfer_state = 645
					transfer_state = 684
				}
				DEN = {
					release = ICE
				}
				JAP = {
					release = KOR
				}
				KOR = {
					load_oob = "KOR_1936"
				}
				every_state = {
					limit = {
						OR = {
							is_core_of = ETH
							state = 550
						}
					}
					ETH = { transfer_state = PREV }
				}
				525 = {
					create_unit = {
						division = "name = \"1. Daehanminguk Yuk-gun\" division_template = \"Daehanminguk Yuk-gun\" start_experience_factor = 0.5 start_equipment_factor = 0.8"
						owner = KOR
					}
					create_unit = {
						division = "name = \"2. Daehanminguk Yuk-gun\" division_template = \"Daehanminguk Yuk-gun\" start_experience_factor = 0.4 start_equipment_factor = 0.78"
						owner = KOR
					}
					create_unit = {
						division = "name = \"3. Daehanminguk Yuk-gun\" division_template = \"Daehanminguk Yuk-gun\" start_experience_factor = 0.38 start_equipment_factor = 0.7"
						owner = KOR
					}
					create_unit = {
						division = "name = \"4. Daehanminguk Yuk-gun\" division_template = \"Daehanminguk Yuk-gun\" start_experience_factor = 0.38 start_equipment_factor = 0.7"
						owner = KOR
					}
					create_unit = {
						division = "name = \"5. Daehanminguk Yuk-gun\" division_template = \"Daehanminguk Yuk-gun\" start_experience_factor = 0.38 start_equipment_factor = 0.6"
						owner = KOR
					}
					create_unit = {
						division = "name = \"6. Daehanminguk Yuk-gun\" division_template = \"Daehanminguk Yuk-gun\" start_experience_factor = 0.38 start_equipment_factor = 0.6"
						owner = KOR
					}
				}
				KOR = {
					start_civil_war = {
						ruling_party = democratic
						ideology = communism
						size = 0.5
						capital = 282
						states = { 
							527
						}
					}
				}
				random_country = {
					limit = {
						original_tag = KOR
						has_government = communism
					}
					set_province_controller = 4004
					set_province_controller = 11958
				}
				random_country = {
					limit = {
						original_tag = KOR
						NOT = { has_government = communism }
					}
					set_province_controller = 12040
					set_province_controller = 1003
					set_province_controller = 4107
				}
				every_state = {
					limit = {
						is_owned_by = SOV
						NOT = { is_core_of = SOV }
					}
					add_core_of = SOV
				}
				every_state = {
					limit = {
						is_owned_by = POL
						NOT = { is_core_of = POL }
					}
					add_core_of = POL
				}
				every_state = {
					limit = {
						NOT = { is_owned_by = POL }
						is_core_of = POL
					}
					remove_core_of = POL
				}
				every_state = {
					limit = {
						NOT = { is_owned_by = CZE }
						is_core_of = CZE
					}
					remove_core_of = CZE
				}
				every_state = {
					limit = {
						NOT = { is_owned_by = JAP }
						is_core_of = JAP
					}
					remove_core_of = JAP
				}
				every_state = {
					limit = {
						NOT = { is_owned_by = SIH }
						is_core_of = SIH
					}
					remove_core_of = SIH
				}
				every_state = {
					limit = {
						NOT = { is_owned_by = SHX }
						is_core_of = SHX
					}
					remove_core_of = SHX
				}
				every_state = {
					limit = {
						NOT = { is_owned_by = XIK }
						is_core_of = XIK
					}
					remove_core_of = XIK
				}
				every_state = {
					limit = {
						NOT = { is_owned_by = GXC }
						is_core_of = GXC
					}
					remove_core_of = GXC
				}
				every_state = {
					limit = {
						NOT = { is_owned_by = YUN }
						is_core_of = YUN
					}
					remove_core_of = YUN
				}
				every_state = {
					limit = {
						NOT = { is_owned_by = XSM }
						is_core_of = XSM
					}
					remove_core_of = XSM
				}
				every_state = {
					limit = {
						NOT = { is_owned_by = MEN }
						is_core_of = MEN
					}
					remove_core_of = MEN
				}
				every_state = {
					limit = {
						NOT = { is_owned_by = SIK }
						is_core_of = SIK
					}
					remove_core_of = SIK
				}
				every_state = {
					limit = {
						NOT = { is_owned_by = SHA }
						is_core_of = SHA
					}
					remove_core_of = SHA
				}
				every_state = {
					limit = {
						NOT = { is_owned_by = TNG }
						is_core_of = TNG
					}
					remove_core_of = TNG
				}
				every_state = {
					limit = {
						NOT = { is_owned_by = NEA }
						is_core_of = NEA
					}
					remove_core_of = NEA
				}
				every_state = {
					limit = {
						NOT = { is_owned_by = KAS }
						is_core_of = KAS
					}
					remove_core_of = KAS
				}
				every_state = {
					limit = {
						NOT = { is_owned_by = DZH }
						is_core_of = DZH
					}
					remove_core_of = DZH
				}
				every_state = {
					limit = {
						NOT = { is_owned_by = UYG }
						is_core_of = UYG
					}
					remove_core_of = UYG
				}
				every_state = {
					limit = {
						NOT = { is_owned_by = ITA }
						is_core_of = ITA
					}
					remove_core_of = ITA
				}
				every_state = {
					limit = {
						NOT = { is_owned_by = GER }
						is_core_of = GER
					}
					remove_core_of = GER
				}
				every_state = {
					limit = {
						is_owned_by = DDR
						NOT = { is_core_of = DDR }
					}
					add_core_of = DDR
				}
				every_state = {
					limit = {
						is_owned_by = WGR
						NOT = { is_core_of = WGR }
					}
					add_core_of = WGR
				}
				
				if = {
					limit = {
						has_game_rule = {
							rule = historical_border_status
							option = POSTWAR_POLITIC_BORDER
						}
					}
					JAP = {
						set_politics = {
							ruling_party = democratic
						}
						set_popularities = {
							democratic = 83
							neutrality = 17
						}
						complete_national_focus = JAP_strengthen_civilian_government
					}
					YUG = {
						set_popularities = {
							communism = 83
							neutrality = 17
						}
						set_politics = {
							ruling_party = communism
						}
						complete_national_focus = YUG_recognize_the_soviet_union
					}
					POL = {
						set_popularities = {
							communism = 83
							neutrality = 17
						}
						set_politics = {
							ruling_party = communism
						}
						load_focus_tree = generic_focus
					}
					BUL = {
						set_popularities = {
							communism = 83
							neutrality = 17
						}
						set_politics = {
							ruling_party = communism
						}
						load_focus_tree = generic_focus
						remove_ideas = {
							BUL_economic_german_idea
							BUL_agrar_country
							BUL_peace_great_war_idea
							BUL_protectionism_idea
						}
					}
					ROM = {
						set_popularities = {
							communism = 83
							neutrality = 17
						}
						set_politics = {
							ruling_party = communism
						}
						load_focus_tree = generic_focus
						remove_ideas = neutrality_idea
						remove_ideas = ROM_king_carol_ii_hedonist
					}
					HUN = {
						set_popularities = {
							communism = 83
							neutrality = 17
						}
						set_politics = {
							ruling_party = communism
						}
						load_focus_tree = generic_focus
						remove_ideas = HUN_treaty_of_triannon
					}
					ITA = {
						set_popularities = {
							democratic = 83
							neutrality = 17
						}
						set_politics = {
							ruling_party = democratic
						}
						load_focus_tree = generic_focus
						remove_ideas = vittoria_mutilata
					}
					SOV = { 
						add_to_faction = POL
						add_to_faction = YUG
						add_to_faction = DDR
						add_to_faction = ROM
						add_to_faction = CZE
						add_to_faction = HUN
						add_to_faction = BUL
						add_to_faction = ALB
						add_to_faction = PRC
						
						set_autonomy = { target = POL autonomy_state = autonomy_dominion }
						set_autonomy = { target = DDR autonomy_state = autonomy_dominion }
						set_autonomy = { target = YUG autonomy_state = autonomy_dominion }
						set_autonomy = { target = ROM autonomy_state = autonomy_dominion }
						set_autonomy = { target = CZE autonomy_state = autonomy_dominion }
						set_autonomy = { target = HUN autonomy_state = autonomy_dominion }
						set_autonomy = { target = BUL autonomy_state = autonomy_dominion }
						set_autonomy = { target = ALB autonomy_state = autonomy_dominion }
					}
					ENG = {
						add_to_faction = event_target:NW_france_scope
						add_to_faction = ETH
						add_to_faction = USA
						add_to_faction = MEX
						add_to_faction = BEL
						add_to_faction = LUX
						add_to_faction = HOL
						add_to_faction = DEN
						add_to_faction = ITA
						add_to_faction = GRE
						add_to_faction = TUR
						add_to_faction = JAP
						add_to_faction = BRA
						add_to_faction = NOR
						add_to_faction = IRL
					}
				}
			}
			#NUM_OF_MAXIMUM_OPERATIVE_STATUS
			if = {
				limit = {
					has_game_rule = {
						rule = num_of_maximum_operative_status
						option = NUM_OF_MAXIMUM_OPERATIVE_5
					}
				}
				set_variable = { global.global_setup_maximum_operative = 5 }
			}
			if = {
				limit = {
					has_game_rule = {
						rule = num_of_maximum_operative_status
						option = NUM_OF_MAXIMUM_OPERATIVE_10
					}
				}
				set_variable = { global.global_setup_maximum_operative = 10 }
			}
			if = {
				limit = {
					has_game_rule = {
						rule = num_of_maximum_operative_status
						option = NUM_OF_MAXIMUM_OPERATIVE_15
					}
				}
				set_variable = { global.global_setup_maximum_operative = 15 }
			}
			if = {
				limit = {
					has_game_rule = {
						rule = num_of_maximum_operative_status
						option = NUM_OF_MAXIMUM_OPERATIVE_20
					}
				}
				set_variable = { global.global_setup_maximum_operative = 20 }
			}
			if = {
				limit = {
					has_game_rule = {
						rule = num_of_maximum_operative_status
						option = NUM_OF_MAXIMUM_OPERATIVE_25
					}
				}
				set_variable = { global.global_setup_maximum_operative = 25 }
			}
			if = {
				limit = {
					has_game_rule = {
						rule = num_of_maximum_operative_status
						option = NUM_OF_MAXIMUM_OPERATIVE_30
					}
				}
				set_variable = { global.global_setup_maximum_operative = 30 }
			}
			if = {
				limit = {
					has_game_rule = {
						rule = num_of_maximum_operative_status
						option = NUM_OF_MAXIMUM_OPERATIVE_50
					}
				}
				set_variable = { global.global_setup_maximum_operative = 50 }
			}
			if = {
				limit = {
					has_game_rule = {
						rule = num_of_maximum_operative_status
						option = NUM_OF_MAXIMUM_OPERATIVE_75
					}
				}
				set_variable = { global.global_setup_maximum_operative = 75 }
			}
			if = {
				limit = {
					has_game_rule = {
						rule = num_of_maximum_operative_status
						option = NUM_OF_MAXIMUM_OPERATIVE_100
					}
				}
				set_variable = { global.global_setup_maximum_operative = 100 }
			}
			if = {
				limit = {
					has_game_rule = {
						rule = num_of_maximum_operative_status
						option = NUM_OF_MAXIMUM_OPERATIVE_150
					}
				}
				set_variable = { global.global_setup_maximum_operative = 150 }
			}
			if = {
				limit = {
					has_game_rule = {
						rule = num_of_maximum_operative_status
						option = NUM_OF_MAXIMUM_OPERATIVE_200
					}
				}
				set_variable = { global.global_setup_maximum_operative = 200 }
			}
			
			#NUM_OF_OPERATIVE_SLOT_STATUS
			if = {
				limit = {
					has_game_rule = {
						rule = num_of_operative_slot_status
						option = PER_5
					}
				}
				set_variable = { global.global_setup_operative = 5 }
			}
			if = {
				limit = {
					has_game_rule = {
						rule = num_of_operative_slot_status
						option = PER_10
					}
				}
				set_variable = { global.global_setup_operative = 10 }
			}
			if = {
				limit = {
					has_game_rule = {
						rule = num_of_operative_slot_status
						option = PER_15
					}
				}
				set_variable = { global.global_setup_operative = 15 }
			}
			if = {
				limit = {
					has_game_rule = {
						rule = num_of_operative_slot_status
						option = PER_20
					}
				}
				set_variable = { global.global_setup_operative = 20 }
			}
			if = {
				limit = {
					has_game_rule = {
						rule = num_of_operative_slot_status
						option = PER_30
					}
				}
				set_variable = { global.global_setup_operative = 30 }
			}
			if = {
				limit = {
					has_game_rule = {
						rule = num_of_operative_slot_status
						option = PER_50
					}
				}
				set_variable = { global.global_setup_operative = 50 }
			}
			if = {
				limit = {
					NOT = { has_game_rule = { rule = num_of_operative_slot_status option = PER_0 } }
				}
				every_country = {
					limit = { has_intelligence_agency = yes }
					if = {
						limit = { NOT = { has_dynamic_modifier = { modifier = operative_slot_idea_dyn } } }
						add_dynamic_modifier = { modifier = operative_slot_idea_dyn }
					}
					set_temp_variable = { operative_slot_temp = num_of_factories }
					divide_temp_variable = { operative_slot_temp = global.global_setup_operative }
					set_variable = { operative_slot_var = operative_slot_temp }
					round_variable = operative_slot_var
					if = {
						limit = {
							NOT = { has_game_rule = { rule = num_of_maximum_operative_status option = DEFAULT } }
							check_variable = { operative_slot_var > global.global_setup_maximum_operative }
						}
						set_variable = { operative_slot_var = global.global_setup_maximum_operative }
					}
				}
			}
			
			#if = {
			#	limit = {
			#		has_game_rule = {
			#			rule = presence_of_fantastic_elements_status
			#			option = PRESENCE_OF_FANTASTIC_ELEMENTS_ON
			#		}
			#	}
			#	set_global_flag = PRESENCE_OF_FANTASTIC_ELEMENTS_FLAG
			#}
		}
	}

	# ROOT is capitulated country, FROM is winner
	on_capitulation = {

	}

	#ROOT is winner #FROM is loser
	on_peaceconference_ended = {
	
	}

	#ROOT is new controller #FROM is old controller #FROM.FROM is state ID
	on_state_control_changed = {

	}

	on_nuke_drop = {
	
	}

	# FROM is the sinker, ROOT is the owner of the ship being sunk
	on_pride_of_the_fleet_sunk = {

	}

	on_leave_faction = {
		effect = {
			if = {
				limit = { 
					original_tag = HOL
					has_country_flag = HOL_joined_germany_flag
				}
				FROM = {
					create_wargoal = {
						type = take_state_focus
						target = ROOT
						generator = { 7 }
					}
				}
			}
		}
	}

	# ROOT is the new faction leader FROM is the old faction leader
	on_assume_faction_leadership = {
	
	}
}
