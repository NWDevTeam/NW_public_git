spain_civil_war_category = {
	GER_support_SPA_infantry_weapons = {

		icon = generic_prepare_civil_war
		
		allowed = {
			original_tag = GER
		}

		available = {
			has_equipment = { infantry_equipment > 1000 }
		}
	
		cost = 50
		days_re_enable = 60
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision GER_support_SPA_infantry_weapons"
			
			send_equipment = {
				equipment = infantry_equipment
				amount = 1000
				target = SPA
			}
		}
		
		ai_will_do = {
			factor = 20
		}
	}
	GER_support_SPA_air_light_fighter = {

		icon = generic_air
		
		allowed = {
			original_tag = GER
		}

		available = {
			has_equipment = { small_plane_airframe > 500 }
		}

		cost = 100
		days_re_enable = 90
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision GER_support_SPA_air_light_fighter"
			
			send_equipment = {
				equipment = small_plane_airframe
				amount = 500
				target = SPA
			}
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	GER_support_SPA_light_tanks = {

		icon = generic_tank
		
		allowed = {
			original_tag = GER
		}

		available = {
			has_equipment = { light_tank_chassis > 250 }
		}

		cost = 100
		days_re_enable = 90
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision GER_support_SPA_light_tanks"
			
			send_equipment = {
				equipment = light_tank_chassis
				amount = 250
				target = SPA
			}
		}
		
		ai_will_do = {
			factor = 15
		}
	}
	GER_support_SPA_motorized = {

		icon = generic_industry
		
		allowed = {
			original_tag = GER
		}

		available = {
			has_equipment = { motorized_equipment > 500 }
		}

		cost = 50
		days_re_enable = 60
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision GER_support_SPA_motorized"
			
			send_equipment = {
				equipment = motorized_equipment
				amount = 500
				target = SPA
			}
		}
		
		ai_will_do = {
			factor = 20
		}
	}
}

ger_greece_war_category = {
	ger_greece_spawn = {

		icon = decision_ger_reichskommissariats

		available = {
			ITA = { NOT = { is_in_faction_with = GER } }
			OR = {
				AND = {
					GER = { has_war_with = GRE }
					any_of_scopes = {
						array = global.majors
						tooltip = is_major_tt
						has_war_together_with = GRE
						has_capitulated = no
					}
				}
				AND = {
					GER = { has_war_with = CRE }
					any_of_scopes = {
						array = global.majors
						tooltip = is_major_tt
						has_war_together_with = CRE
						has_capitulated = no
					}
				}
			}
		}

		visible = {
			tag = GER
			has_government = fascism
			OR = {
				has_war_with = GRE
				has_war_with = CRE
			}
		}
		
		fire_only_once = yes
		cost = 50
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision ger_greece_spawn"
			
			set_global_flag = ger_form_hel_flag
		}
		
		ai_will_do = {
			factor = 200
		}
	}
}

GER_fighting_remnants_of_nazis_category = {
	GER_spend_sweep_of_cities = {
		icon = decision_eng_install_government
		cancel_trigger = {
			check_variable = { var_nazi_resistance < 1 }
		}
		custom_cost_trigger = {
			set_temp_variable = { var_has_manpower_temp = 500 }
			set_temp_variable = { var_infantry_equipment_temp = 300 }
			has_manpower > var_has_manpower_temp
			has_equipment = { infantry_equipment > var_infantry_equipment_temp }
		}
		custom_cost_text = infantry_equipment_and_manpower_cost
		days_remove = 30
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): remove decision GER_spend_sweep_of_cities"
			set_temp_variable = { var_nazi_resistance_temp = -7 }
			add_to_variable = { var_nazi_resistance = var_nazi_resistance_temp }
			custom_effect_tooltip = GER_var_nazi_resistance_tt
			force_update_dynamic_modifier = yes
			hidden_effect = {
				if = {
					limit = {
						check_variable = { var_nazi_resistance < 1 }
					}
					country_event = { id = NWgermany.34 hours = 4 }
				}
			}
		}
		complete_effect = {
			hidden_effect = {
				add_manpower = -500
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -300
				}
			}
		}
		ai_will_do = {
			factor = 200
		}
	}
	
	GER_arrange_raids_in_rural_areas = {
		icon = decision_generic_scorched_earth
		cancel_trigger = {
			check_variable = { var_nazi_resistance < 1 }
		}
		custom_cost_trigger = {
			set_temp_variable = { var_has_manpower_temp = 750 }
			set_temp_variable = { var_infantry_equipment_temp = 250 }
			has_manpower > var_has_manpower_temp
			has_equipment = { infantry_equipment > var_infantry_equipment_temp }
		}
		custom_cost_text = infantry_equipment_and_manpower_cost
		days_remove = 50
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): remove decision GER_arrange_raids_in_rural_areas"
			set_temp_variable = { var_nazi_resistance_temp = -5 }
			add_to_variable = { var_nazi_resistance = var_nazi_resistance_temp }
			custom_effect_tooltip = GER_var_nazi_resistance_tt
			force_update_dynamic_modifier = yes
			hidden_effect = {
				if = {
					limit = {
						check_variable = { var_nazi_resistance < 1 }
					}
					country_event = { id = NWgermany.34 hours = 4 }
				}
			}
		}
		complete_effect = {
			hidden_effect = {
				add_manpower = -750
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -250
				}
			}
		}
		ai_will_do = {
			factor = 200
		}
	}
	
	GER_spread_anti_nazi_agitation = {
		icon = decision_generic_police_action
		cancel_trigger = {
			check_variable = { var_nazi_resistance < 1 }
		}
		cost = 25
		days_remove = 15
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): remove decision GER_spread_anti_nazi_agitation"
			set_temp_variable = { var_nazi_resistance_temp = -3 }
			add_to_variable = { var_nazi_resistance = var_nazi_resistance_temp }
			custom_effect_tooltip = GER_var_nazi_resistance_tt
			force_update_dynamic_modifier = yes
			hidden_effect = {
				if = {
					limit = {
						check_variable = { var_nazi_resistance < 1 }
					}
					country_event = { id = NWgermany.34 hours = 4 }
				}
			}
		}
		ai_will_do = {
			factor = 35
		}
	}
}

GER_popular_front_category = {
	GER_raise_black_crowds_in_rhineland = {
		icon = POL_looming_peasants_strike
		highlight_states = { highlight_state_targets = { state = 829 } }
		fire_only_once = yes
		
		available = {
			communism > 0.02
		}
		
		cost = 40
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision GER_raise_black_crowds_in_rhineland"
			add_popularity = { ideology = communism popularity = -0.02 }
			add_popularity = { ideology = anarchism popularity = 0.04 }
			var:global.province_controllers^9482 = {
				if = {
					limit = { NOT = { tag = ROOT } }
					add_popularity = { ideology = anarchism popularity = 0.02 }
				}
			}
			var:global.province_controllers^6570 = {
				if = {
					limit = { NOT = { tag = ROOT } }
					add_popularity = { ideology = anarchism popularity = 0.02 }
				}
			}
			effect_tooltip = {
				829 = {
					create_unit = {
						division = "name = \"Rote Miliz\" division_template = \"Rote Miliz\" start_experience_factor = 0.3"
						owner = ROOT
						count = 2
						allow_spawning_on_enemy_provs = yes
					}
				}
				custom_effect_tooltip = SPR_remove_after_civil_war_tt
			}
			hidden_effect = {
				set_province_controller = 9482
				set_province_controller = 6570
				if = {
					limit = { NOT = { has_template = "Schwarze Scharen" } }
					division_template = {
						name = "Schwarze Scharen"
						is_locked = yes

						division_names_group = GER_Inf_01

						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
						}
					}
				}
				load_oob = GER_black_crowds_in_rhineland
			}
		}
		ai_will_do = {
			factor = 50
		}
	}
	GER_raise_black_crowds_in_saxony = {
		icon = POL_looming_peasants_strike
		highlight_states = { highlight_state_targets = { state = 65 } }
		fire_only_once = yes
		
		available = {
			communism > 0.02
		}
		
		cost = 40
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision GER_raise_black_crowds_in_saxony"
			add_popularity = { ideology = communism popularity = -0.02 }
			add_popularity = { ideology = anarchism popularity = 0.04 }
			var:global.province_controllers^9471 = {
				if = {
					limit = { NOT = { tag = ROOT } }
					add_popularity = { ideology = anarchism popularity = 0.02 }
				}
			}
			var:global.province_controllers^13779 = {
				if = {
					limit = { NOT = { tag = ROOT } }
					add_popularity = { ideology = anarchism popularity = 0.02 }
				}
			}
			effect_tooltip = {
				65 = {
					create_unit = {
						division = "name = \"Rote Miliz\" division_template = \"Rote Miliz\" start_experience_factor = 0.3"
						owner = ROOT
						count = 2
						allow_spawning_on_enemy_provs = yes
					}
				}
				custom_effect_tooltip = SPR_remove_after_civil_war_tt
			}
			hidden_effect = {
				set_province_controller = 9471
				set_province_controller = 13779
				if = {
					limit = { NOT = { has_template = "Schwarze Scharen" } }
					division_template = {
						name = "Schwarze Scharen"
						is_locked = yes

						division_names_group = GER_Inf_01

						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
						}
					}
				}
				load_oob = GER_black_crowds_in_saxony
			}
		}
		ai_will_do = {
			factor = 30
		}
	}
	GER_raise_black_crowds_in_berlin = {
		icon = POL_looming_peasants_strike
		highlight_states = { highlight_state_targets = { state = 64 } }
		fire_only_once = yes
		
		available = {
			communism > 0.01
		}
		
		cost = 25
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision GER_raise_black_crowds_in_berlin"
			add_popularity = { ideology = communism popularity = -0.01 }
			add_popularity = { ideology = anarchism popularity = 0.02 }
			var:global.province_controllers^13790 = {
				if = {
					limit = { NOT = { tag = ROOT } }
					add_popularity = { ideology = anarchism popularity = 0.02 }
				}
			}
			effect_tooltip = {
				64 = {
					create_unit = {
						division = "name = \"Rote Miliz\" division_template = \"Rote Miliz\" start_experience_factor = 0.3"
						owner = ROOT
						count = 1
						allow_spawning_on_enemy_provs = yes
					}
				}
				custom_effect_tooltip = SPR_remove_after_civil_war_tt
			}
			hidden_effect = {
				set_province_controller = 13790
				if = {
					limit = { NOT = { has_template = "Schwarze Scharen" } }
					division_template = {
						name = "Schwarze Scharen"
						is_locked = yes

						division_names_group = GER_Inf_01

						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
						}
					}
				}
				load_oob = GER_black_crowds_in_berlin
			}
		}
		ai_will_do = {
			factor = 75
		}
	}
	GER_contact_social_democratic_underground_of_berlin = {
		icon = generic_political_discourse
		highlight_states = { highlight_state_targets = { state = 64 } }
		fire_only_once = yes
		
		available = {
			communism > 0.01
		}
		
		cost = 25
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision GER_contact_social_democratic_underground_of_berlin"
			add_popularity = { ideology = communism popularity = -0.01 }
			add_popularity = { ideology = democratic popularity = 0.02 }
			var:global.province_controllers^13788 = {
				if = {
					limit = { NOT = { tag = ROOT } }
					add_popularity = { ideology = democratic popularity = 0.02 }
				}
			}
			effect_tooltip = {
				64 = {
					create_unit = {
						division = "name = \"Rote Miliz\" division_template = \"Rote Miliz\" start_experience_factor = 0.3"
						owner = ROOT
						count = 1
						allow_spawning_on_enemy_provs = yes
					}
				}
				custom_effect_tooltip = SPR_remove_after_civil_war_tt
			}
			hidden_effect = {
				set_province_controller = 13788
				if = {
					limit = { NOT = { has_template = "Sozialdemokratische Miliz" } }
					division_template = {
						name = "Sozialdemokratische Miliz"
						is_locked = yes

						division_names_group = GER_Inf_01

						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
						}
					}
				}
				load_oob = GER_social_democratic_underground_of_berlin
			}
		}
		ai_will_do = {
			factor = 75
		}
	}
	GER_contact_social_democratic_underground_of_rhineland = {
		icon = generic_political_discourse
		highlight_states = { highlight_state_targets = { state = 809 } }
		fire_only_once = yes
		
		available = {
			communism > 0.02
		}
		
		cost = 40
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision GER_contact_social_democratic_underground_of_rhineland"
			add_popularity = { ideology = communism popularity = -0.02 }
			add_popularity = { ideology = democratic popularity = 0.04 }
			var:global.province_controllers^11531 = {
				if = {
					limit = { NOT = { tag = ROOT } }
					add_popularity = { ideology = democratic popularity = 0.04 }
				}
			}
			effect_tooltip = {
				809 = {
					create_unit = {
						division = "name = \"Rote Miliz\" division_template = \"Rote Miliz\" start_experience_factor = 0.3"
						owner = ROOT
						count = 2
						allow_spawning_on_enemy_provs = yes
					}
				}
				custom_effect_tooltip = SPR_remove_after_civil_war_tt
			}
			hidden_effect = {
				set_province_controller = 11531
				if = {
					limit = { NOT = { has_template = "Sozialdemokratische Miliz" } }
					division_template = {
						name = "Sozialdemokratische Miliz"
						is_locked = yes

						division_names_group = GER_Inf_01

						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
						}
					}
				}
				load_oob = GER_social_democratic_underground_of_rhineland
			}
		}
		ai_will_do = {
			factor = 150
		}
	}
	GER_form_social_democratic_militia = {
		icon = generic_political_discourse
		highlight_states = { highlight_state_targets = { state = 59 } }
		fire_only_once = yes
		
		available = {
			communism > 0.01
		}
		
		cost = 25
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision GER_form_social_democratic_militia"
			add_popularity = { ideology = communism popularity = -0.01 }
			add_popularity = { ideology = democratic popularity = 0.02 }
			var:global.province_controllers^6349 = {
				if = {
					limit = { NOT = { tag = ROOT } }
					add_popularity = { ideology = democratic popularity = 0.02 }
				}
			}
			effect_tooltip = {
				59 = {
					create_unit = {
						division = "name = \"Rote Miliz\" division_template = \"Rote Miliz\" start_experience_factor = 0.3"
						owner = ROOT
						count = 1
						allow_spawning_on_enemy_provs = yes
					}
				}
				custom_effect_tooltip = SPR_remove_after_civil_war_tt
			}
			hidden_effect = {
				set_province_controller = 6349
				if = {
					limit = { NOT = { has_template = "Sozialdemokratische Miliz" } }
					division_template = {
						name = "Sozialdemokratische Miliz"
						is_locked = yes

						division_names_group = GER_Inf_01

						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
						}
					}
				}
				load_oob = GER_social_democratic_militia
			}
		}
		ai_will_do = {
			factor = 300
		}
	}
}

GER_guerrilla_tactics_category = {
	GER_form_headquarters_of_partisan_movement = {
		icon = generic_army_support
		fire_only_once = yes
		
		days_remove = 20
		
		custom_cost_trigger = {
			set_temp_variable = { command_power_temp_cost = 25 }
			command_power > command_power_temp_cost
		}
		custom_cost_text = command_power_cost
		
		complete_effect = {
			hidden_effect = {
				add_command_power = -25
			}
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): remove decision GER_form_headquarters_of_partisan_movement"
			swap_ideas = {
				remove_idea = GER_guerrilla_tactics
				add_idea = GER_guerrilla_tactics2
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	GER_coordinate_actions_of_militia_with_headquarters = {
		icon = POL_looming_peasants_strike
		fire_only_once = yes
		
		days_remove = 25
		
		available = {
			NOT = { has_idea = GER_absence_of_staff_command }
			has_idea = GER_guerrilla_tactics2
		}
		
		custom_cost_trigger = {
			set_temp_variable = { command_power_temp_cost = 25 }
			command_power > command_power_temp_cost
		}
		custom_cost_text = command_power_cost
		
		complete_effect = {
			hidden_effect = {
				add_command_power = -25
			}
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): remove decision GER_coordinate_actions_of_militia_with_headquarters"
			swap_ideas = {
				remove_idea = GER_guerrilla_tactics2
				add_idea = GER_guerrilla_tactics3
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	GER_improve_our_tactics = {
		icon = generic_operation
		fire_only_once = yes
		
		days_remove = 30
		
		available = {
			has_idea = GER_guerrilla_tactics3
		}
		
		custom_cost_trigger = {
			set_temp_variable = { army_experience_temp_cost = 30 }
			has_army_experience > army_experience_temp_cost
		}
		custom_cost_text = army_experience_cost
		
		complete_effect = {
			hidden_effect = {
				army_experience = -30
			}
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): remove decision GER_improve_our_tactics"
			swap_ideas = {
				remove_idea = GER_guerrilla_tactics3
				add_idea = GER_guerrilla_tactics4
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
}

GER_unification_of_germans_category = {
	GER_subjugate_austria = {
		icon = speech
		fire_only_once = yes
		
		cost = 25
		available = {
			is_subject = no
			AUS = {
				exists = yes
				OR = {
					is_subject = no
					is_subject_of = ROOT
				}
				NOT = { has_war_with = ROOT }
				NOT = {
					any_controlled_state = {
						NOT = {
							state = 4
							state = 152
							state = 153
							state = 845
							state = 839
							state = 841
							state = 840
							state = 810
						}
					}
				}
			}
		}
		visible = {
			has_country_flag = GER_unification_of_germans_category_war_flag
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision GER_subjugate_austria"
			set_temp_variable = { GER_aggressiveness_of_strasserism_temp = 1 }
			add_to_variable = { GER_aggressiveness_of_strasserism = GER_aggressiveness_of_strasserism_temp }
			custom_effect_tooltip = GER_aggressiveness_of_strasserism_tt
			hidden_effect = {
				set_variable = { GER_aggressiveness_of_strasserism_var = GER_aggressiveness_of_strasserism }
				divide_variable = { GER_aggressiveness_of_strasserism_var = 50 }
				set_variable = { GER_aggressiveness_of_strasserism_minus_var = GER_aggressiveness_of_strasserism }
				divide_variable = { GER_aggressiveness_of_strasserism_minus_var = -50 }
				force_update_dynamic_modifier = yes
			}
			
			### GER_anschluss
			
			if = {
				limit = {
					country_exists = AUS
					AUS = {
						has_civil_war = no
						OR = {
							owns_state = 4
							owns_state = 152
							owns_state = 153
							owns_state = 845
							owns_state = 839
							owns_state = 841
							owns_state = 840
							owns_state = 810
						}
					}
				}

				AUS = {
					country_event = germany.28
				}				
				custom_effect_tooltip = anschluss_mefo_bills_tt
			}
			else_if = {
				limit = {
					any_country_with_original_tag = {
						original_tag_to_check = AUS
						has_civil_war = yes
						OR = {
							owns_state = 4
							owns_state = 152
							owns_state = 153
							owns_state = 845
							owns_state = 839
							owns_state = 841
							owns_state = 840
							owns_state = 810
						}
					}
				}
				custom_effect_tooltip = germany.126.warning
				random_other_country = {
					limit = {
						original_tag = AUS
						OR = {
							has_government = fascism
							AND = {
								has_government = neutrality
								NOT = {
									any_country_with_original_tag = {
										original_tag_to_check = AUS
										NOT = { tag = PREV }
										has_government = fascism
									}
								}
							}
							NOT = {
								any_country_with_original_tag = {
									original_tag_to_check = AUS
									NOT = { tag = PREV }
									OR = {
										has_government = fascism
										has_government = neutrality
									}
								}
							}							
						}
					}
					country_event = { id = germany.126 days = 1 }
				}
			}

			if = {
				limit = {
					4 = {
						owner = {
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				add_state_core = 4
			}
			if = {
				limit = {
					152 = {
						owner = {
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				add_state_core = 152
			}
			if = {
				limit = {
					153 = {
						owner = {
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				add_state_core = 153
			}
			if = {
				limit = {
					845 = {
						owner = {
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				add_state_core = 845
			}
			if = {
				limit = {
					839 = {
						owner = {
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				add_state_core = 839
			}
			if = {
				limit = {
					840 = {
						owner = {
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				add_state_core = 840
			}
			if = {
				limit = {
					841 = {
						owner = {
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				add_state_core = 841
			}
			if = {
				limit = {
					810 = {
						owner = {
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				add_state_core = 810
			}
		}
		
		ai_will_do = {
			factor = 25
		}
	}
	
	GER_demand_sudetenland = {
		icon = infiltrate_state
		fire_only_once = yes
		
		cost = 25
		available = {
			is_subject = no
			CZE = {
				exists = yes
				OR = {
					is_subject = no
					is_subject_of = ROOT
				}
				NOT = { has_war_with = ROOT }
			}
		}
		visible = {
			has_country_flag = GER_unification_of_germans_category_war_flag
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision GER_demand_sudetenland"
			set_temp_variable = { GER_aggressiveness_of_strasserism_temp = 1 }
			add_to_variable = { GER_aggressiveness_of_strasserism = GER_aggressiveness_of_strasserism_temp }
			custom_effect_tooltip = GER_aggressiveness_of_strasserism_tt
			hidden_effect = {
				set_variable = { GER_aggressiveness_of_strasserism_var = GER_aggressiveness_of_strasserism }
				divide_variable = { GER_aggressiveness_of_strasserism_var = 50 }
				set_variable = { GER_aggressiveness_of_strasserism_minus_var = GER_aggressiveness_of_strasserism }
				divide_variable = { GER_aggressiveness_of_strasserism_minus_var = -50 }
				force_update_dynamic_modifier = yes
			}
			
			### GER_demand_sudetenland
			
# ПОЧИНИТЬ ПОТОМ			
			if = {
				limit = {
					OR = {
						ENG = { exists = no }
						ENG = {
							is_subject = yes
						}
#						ENG = { has_completed_focus = ENG_a_change_in_course }
						has_war_with = ENG
						has_war_with = event_target:NW_france_scope
						AND = {
							CZE = { is_subject = yes }
							OR = {
								CZE = { 
									NOT = {
										is_subject_of = HUN
									}
								}
								NOT = { has_dlc = "Death or Dishonor" }
							}
						}
						CZE = { has_war_with = ENG }
						CZE = { has_war_with = event_target:NW_france_scope }
						CZE = { is_in_faction_with = ROOT }
					}
					CZE = { controls_state = 69 }
				}
				if = {
					limit = {
						CZE = { is_subject = no }
					}
					CZE = {
						country_event = { id = germany.122 }
					}
					else = {
						CZE = {
							OVERLORD = { country_event = { id = germany.122 } }
						}
					}
				}
			}
			if = {
				limit = {
					has_dlc = "Death or Dishonor"
					CZE = { NOT = { is_in_faction_with = ROOT } } #in case AH is in faction with GER and dragged a subject CZE along.
					OR = {
						69 = { is_owned_by = HUN } #AH restored
						AND = {
							CZE = { is_subject_of = HUN }
							69 = { is_owned_by = CZE }
						}
					}
				}
				HUN = {
					country_event = germany.122
				}
			}
# ПОЧИНИТЬ ПОТОМ			
			if = {
				limit = {
					ENG = { exists = yes }
					ENG = { is_subject = no }
#					NOT = { ENG = { has_completed_focus = ENG_a_change_in_course } }
					NOT = { has_war_with = ENG }
					NOT = { has_war_with = event_target:NW_france_scope }
					CZE = { is_subject = no }
					NOT = {
						AND = {
							CZE = { is_in_faction_with = HOL }
							HOL = { is_faction_leader = yes }
#							HOL = { has_completed_focus = HOL_foundations_for_a_european_union }
						}
					}
					CZE = { NOT = { is_in_faction_with = ROOT } }
					CZE = { NOT = { has_war_with = ENG } }
					CZE = { controls_state = 69 }
					#OR = {
					#	HUN = {
					#		NOT = {
					#			has_completed_focus = HUN_protect_czechoslovakia #DOD only
					#		}
					#	}
					#	CZE = {
					#		has_country_flag = HUN_AH_CZE_refused
					#	}
					#}
				}
				ENG = {
					country_event = germany.40
				}
				add_named_threat = { threat = 3 name = GER_demand_sudetenland_threat }
			}
			if = {
				limit = {
					HOL = { exists = yes }
					HOL = { is_subject = no }
#					HOL = { has_completed_focus = HOL_foundations_for_a_european_union }
					HOL = { is_faction_leader = yes }
					NOT = { has_war_with = HOL }
					NOT = { has_war_with = event_target:NW_france_scope }
					CZE = { is_subject = no }
					CZE = { is_in_faction_with = HOL }
					CZE = { controls_state = 69 }
					#OR = {
					#	HUN = {
					#		NOT = {
					#			has_completed_focus = HUN_protect_czechoslovakia #DOD only
					#		}
					#	}
					#	CZE = {
					#		has_country_flag = HUN_AH_CZE_refused
					#	}
					#}
				}
				HOL = {
					country_event = germany.40
				}
				add_named_threat = { threat = 3 name = GER_demand_sudetenland_threat }
			}
			69 = {
				add_claim_by = ROOT
			}
			if = {
				limit = { 4 = { is_owned_by = ROOT } }
				847 = { add_core_of = ROOT }
				847 = { add_claim_by = ROOT }
			}
			if = {
				limit = { 152 = { is_owned_by = ROOT } }
				848 = { add_core_of = ROOT }
				848 = { add_claim_by = ROOT }
			}
			if = { 
				limit = {
					NOT = { CZE = { controls_state = 69 } }
					NOT = {
						69 = { is_controlled_by = HUN }
						#HUN = { has_completed_focus = HUN_protect_czechoslovakia }
					}
					69 = {
						controller = {
							NOT = { is_in_faction_with = ROOT }
						}
					}
				}
				69 = { #This technically allows nations who are in a war with CZE to give away their land... diplomacy never looked so real.
					controller = {
						country_event = { id = germany.1041 days = 2 random_days = 10 }
					}
				}
				add_named_threat = { threat = 3 name = GER_demand_sudetenland_threat }
			}
		}
	}
	
	GER_raise_austrian_question_in_league_of_nations = {
		icon = speech
		fire_only_once = yes
		
		cost = 25
		available = {
			is_subject = no
			AUS = {
				exists = yes
				OR = {
					is_subject = no
					is_subject_of = ROOT
				}
				NOT = { has_war_with = ROOT }
				NOT = {
					any_controlled_state = {
						NOT = {
							state = 4
							state = 152
							state = 153
							state = 845
							state = 839
							state = 841
							state = 840
							state = 810
						}
					}
				}
			}
		}
		visible = {
			has_country_flag = GER_unification_of_germans_category_peace_flag
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision GER_raise_austrian_question_in_league_of_nations"
			set_temp_variable = { GER_aggressiveness_of_strasserism_temp = -1 }
			add_to_variable = { GER_aggressiveness_of_strasserism = GER_aggressiveness_of_strasserism_temp }
			custom_effect_tooltip = GER_aggressiveness_of_strasserism_tt
			hidden_effect = {
				set_variable = { GER_aggressiveness_of_strasserism_var = GER_aggressiveness_of_strasserism }
				divide_variable = { GER_aggressiveness_of_strasserism_var = 50 }
				set_variable = { GER_aggressiveness_of_strasserism_minus_var = GER_aggressiveness_of_strasserism }
				divide_variable = { GER_aggressiveness_of_strasserism_minus_var = -50 }
				force_update_dynamic_modifier = yes
			}
			every_other_country = {
				limit = {
					OR = {
						original_tag = AUS
						original_tag = ENG
						original_tag = event_target:NW_france_scope
					}
					has_civil_war = no
					NOT = {
						has_war_with = FRC
						has_war_with = FRF
					}
				}
				if = {
					limit = { NOT = { original_tag = AUS } }
					add_to_variable = { NWgermany_57_max = 1 }
				}
				country_event = { id = NWgermany.57 hours = 6 }
			}
		}
	}
	
	GER_raise_sudeten_question_in_league_of_nations = {
		icon = political_rally
		fire_only_once = yes
		
		cost = 25
		available = {
			is_subject = no
			CZE = {
				exists = yes
				OR = {
					is_subject = no
					is_subject_of = ROOT
				}
				NOT = { has_war_with = ROOT }
			}
		}
		visible = {
			has_country_flag = GER_unification_of_germans_category_peace_flag
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision GER_raise_sudeten_question_in_league_of_nations"
			set_temp_variable = { GER_aggressiveness_of_strasserism_temp = -1 }
			add_to_variable = { GER_aggressiveness_of_strasserism = GER_aggressiveness_of_strasserism_temp }
			custom_effect_tooltip = GER_aggressiveness_of_strasserism_tt
			hidden_effect = {
				set_variable = { GER_aggressiveness_of_strasserism_var = GER_aggressiveness_of_strasserism }
				divide_variable = { GER_aggressiveness_of_strasserism_var = 50 }
				set_variable = { GER_aggressiveness_of_strasserism_minus_var = GER_aggressiveness_of_strasserism }
				divide_variable = { GER_aggressiveness_of_strasserism_minus_var = -50 }
				force_update_dynamic_modifier = yes
			}
			every_other_country = {
				limit = {
					OR = {
						original_tag = CZE
						original_tag = ENG
						original_tag = event_target:NW_france_scope
					}
					has_civil_war = no
					NOT = {
						has_war_with = FRC
						has_war_with = FRF
					}
				}
				if = {
					limit = { NOT = { original_tag = CZE } }
					add_to_variable = { NWgermany_64_max = 1 }
				}
				country_event = { id = NWgermany.64 hours = 6 }
			}
		}
	}
}

GER_austrian_referendum_category = {
	GER_days_before_referendum = {
		activation = {
			has_country_flag = GER_austrian_referendum_category_flag
		}
		available = {
			always = no
		}
		is_good = no
		days_mission_timeout = 30
		icon = SOV_place_hq
		timeout_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): timeout_effect decision GER_days_before_referendum"
			set_global_flag = GER_aus_referendum_end
			if = {
				limit = { check_variable = { global.agitation_of_germany > global.agitation_of_austria } }
				country_event = { id = NWgermany.61 hours = 6 }
			}
			else = {
				country_event = { id = NWgermany.63 hours = 6 }
			}
		}
	}
	
	GER_agitation = {

		icon = generic_political_rally
		
		cost = 25
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision GER_agitation"
			if = {
				limit = { original_tag = GER }
				add_to_variable = { global.agitation_temp = 25 }
				
				set_temp_variable = { agitation_temp = 25 }
				add_to_variable = { global.agitation_of_germany = agitation_temp }
				custom_effect_tooltip = GER_agitation_tt
			}
			if = {
				limit = { original_tag = AUS }
				set_temp_variable = { agitation_temp = 25 }
				add_to_variable = { global.agitation_of_austria = agitation_temp }
				custom_effect_tooltip = GER_agitation_tt
			}
		}
		
		ai_will_do = {
			factor = 50
		}
	}
}

GER_cze_referendum_category = {
	GER_cze_days_before_referendum = {
		name = GER_days_before_referendum
		activation = {
			has_country_flag = GER_cze_referendum_category_flag
		}
		available = {
			always = no
		}
		is_good = no
		days_mission_timeout = 30
		icon = SOV_place_hq
		timeout_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): timeout_effect decision GER_cze_days_before_referendum"
			set_global_flag = GER_cze_referendum_end
			if = {
				limit = { check_variable = { global.agitation_of_cze_germany > global.agitation_of_cze } }
				country_event = { id = NWgermany.68 hours = 6 }
			}
			else = {
				country_event = { id = NWgermany.69 hours = 6 }
			}
		}
	}
	
	GER_cze_agitation = {
		name = GER_agitation
		icon = generic_political_rally
		
		cost = 25
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision GER_cze_agitation"
			if = {
				limit = { original_tag = GER }
				add_to_variable = { global.agitation_temp = 25 }
				
				set_temp_variable = { agitation_temp = 25 }
				add_to_variable = { global.agitation_of_cze_germany = agitation_temp }
				custom_effect_tooltip = GER_agitation_tt
			}
			if = {
				limit = { original_tag = CZE }
				set_temp_variable = { agitation_temp = 25 }
				add_to_variable = { global.agitation_of_cze = agitation_temp }
				custom_effect_tooltip = GER_agitation_tt
			}
		}
		
		ai_will_do = {
			factor = 50
		}
	}
}

GER_reconstruction_of_berlin_category = {

	GER_north_south_highway = {
		icon = generic_operation
		fire_only_once = yes
		
		days_remove = 150
		cost = 20
		
		available = {
			num_of_civilian_factories_available_for_projects > 2
        }
		
		modifier = {
			civilian_factory_use = 2
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): remove decision GER_north_south_highway"
			64 = {
				add_extra_state_shared_building_slots = 1
			}
			build_railway = {
				level = 1
				start_state = 64
				target_state = 64
			}
		}

		ai_will_do = {
			factor = 50
		}
	}
	
	GER_east_west_highway = {
		icon = generic_operation
		fire_only_once = yes
		
		days_remove = 150
		cost = 20
		
		available = {
			num_of_civilian_factories_available_for_projects > 2
        }
		
		modifier = {
			civilian_factory_use = 2
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): remove decision GER_east_west_highway"
			64 = {
				add_extra_state_shared_building_slots = 1
			}
			build_railway = {
				level = 1
				start_state = 64
				target_state = 64
			}
		}

		ai_will_do = {
			factor = 50
		}
	}
	
	GER_new_central_station = {
		icon = eng_install_government
		fire_only_once = yes
		
		days_remove = 150
		cost = 20
		
		available = {
			num_of_civilian_factories_available_for_projects > 2
        }
		
		modifier = {
			civilian_factory_use = 2
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): remove decision GER_new_central_station"
			64 = {
				add_building_construction = {
					type = hospital
					level = 2
					instant_build = yes
				}
			}
			build_railway = {
				level = 1
				start_state = 64
				target_state = 64
			}
		}

		ai_will_do = {
			factor = 50
		}
	}
	
	GER_ministerial_buildings = {
		icon = SOV_place_hq
		fire_only_once = yes
		
		days_remove = 150
		cost = 20
		
		available = {
			num_of_civilian_factories_available_for_projects > 2
        }
		
		modifier = {
			civilian_factory_use = 2
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): remove decision GER_ministerial_buildings"
			64 = {
				add_extra_state_shared_building_slots = 2
			}
		}

		ai_will_do = {
			factor = 50
		}
	}
}

GER_reconstruction_of_regensburg_category = {

	GER_north_south_highway_regensburg = {
		name = GER_north_south_highway
		icon = generic_operation
		fire_only_once = yes
		
		days_remove = 150
		cost = 20
		
		available = {
			num_of_civilian_factories_available_for_projects > 2
        }
		
		modifier = {
			civilian_factory_use = 2
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): remove decision GER_north_south_highway_regensburg"
			53 = {
				add_extra_state_shared_building_slots = 1
			}
			build_railway = {
				level = 1
				start_state = 53
				target_state = 53
			}
		}

		ai_will_do = {
			factor = 50
		}
	}
	
	GER_east_west_highway_regensburg = {
		name = GER_east_west_highway
		icon = generic_operation
		fire_only_once = yes
		
		days_remove = 150
		cost = 20
		
		available = {
			num_of_civilian_factories_available_for_projects > 2
        }
		
		modifier = {
			civilian_factory_use = 2
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): remove decision GER_east_west_highway_regensburg"
			53 = {
				add_extra_state_shared_building_slots = 1
			}
			build_railway = {
				level = 1
				start_state = 53
				target_state = 53
			}
		}

		ai_will_do = {
			factor = 50
		}
	}
	
	GER_new_central_station_regensburg = {
		name = GER_new_central_station
		icon = eng_install_government
		fire_only_once = yes
		
		days_remove = 150
		cost = 20
		
		available = {
			num_of_civilian_factories_available_for_projects > 2
        }
		
		modifier = {
			civilian_factory_use = 2
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): remove decision GER_new_central_station_regensburg"
			53 = {
				add_building_construction = {
					type = hospital
					level = 2
					instant_build = yes
				}
			}
			build_railway = {
				level = 1
				start_state = 53
				target_state = 53
			}
		}

		ai_will_do = {
			factor = 50
		}
	}
	
	GER_ministerial_buildings_regensburg = {
		name = GER_ministerial_buildings
		icon = SOV_place_hq
		fire_only_once = yes
		
		days_remove = 150
		cost = 20
		
		available = {
			num_of_civilian_factories_available_for_projects > 2
        }
		
		modifier = {
			civilian_factory_use = 2
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): remove decision GER_ministerial_buildings_regensburg"
			53 = {
				add_extra_state_shared_building_slots = 2
			}
			add_victory_points = { province = 3299 value = 20 }
			add_victory_points = { province = 6521 value = -15 }
		}

		ai_will_do = {
			factor = 50
		}
	}
}

GER_civil_war_category = {

	GER_concentrate_on_enemy = {

		icon = generic_prepare_civil_war
		on_map_mode = map_and_decisions_view
		
		highlight_states = {
			highlight_states_trigger = {
				is_controlled_by = FROM
				is_capital = yes
			}
		}
		
		available = {
			FROM = {
				has_war_with = ROOT
			}
			NOT = { has_country_flag = { flag = GER_concentrate_on_enemy_flag value > 0 } }
		}
		
		visible = {
			FROM = {
				exists = yes
				has_war_with = ROOT
				has_capitulated = no
				original_tag = GER
			}
			has_capitulated = no
		}
		
		cancel_trigger = {
			OR = {
				FROM = {
					NOT = { has_war_with = ROOT }
				}
				has_capitulated = yes
			}
		}
		
		target_array = enemies
		targets = { GER }
		targets_dynamic = yes
		
		target_root_trigger = {
			OR = {
				has_completed_focus = GER_final_consolidation_of_power
				has_completed_focus = GER_united_anti_hitler_front
				has_completed_focus = GER_secure_the_new_state
				has_completed_focus = GER_german_red_army
			}
			has_capitulated = no
		}
		
		target_trigger = {
			FROM = {
				has_war_with = ROOT
				has_capitulated = no
				original_tag = GER
			}
		}
		
		cost = 20
		days_remove = 90
		
		targeted_modifier = {
			tag = FROM
			attack_bonus_against = 0.05
			defense_bonus_against = 0.05
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision GER_concentrate_on_enemy (From [From.GetName] [From.GetTag])"
			set_country_flag = { flag = GER_concentrate_on_enemy_flag days = 90 value = 1 }
		}
		
		cancel_effect = {
			clr_country_flag = GER_concentrate_on_enemy_flag
		}
		
		ai_will_do = {
			factor = 30
			modifier = {
				factor = 0
				FROM = { has_capitulated = yes }
			}
			modifier = {
				factor = 0
				NOT = { is_neighbor_of = FROM }
			}
			modifier = {
				factor = 3
				tag = GBF
				FROM = { tag = GFA }
				is_neighbor_of = GFA
			}
			modifier = {
				factor = 3
				tag = GRF
				FROM = { tag = GER }
				is_neighbor_of = GER
			}
			modifier = {
				factor = 3
				FROM = { surrender_progress > 0.5 }
			}
			modifier = {
				factor = 4
				FROM = { surrender_progress > 0.6 }
			}
			modifier = {
				factor = 4
				FROM = { surrender_progress > 0.7 }
			}
			modifier = {
				factor = 5
				FROM = { surrender_progress > 0.8 }
			}
			modifier = {
				factor = 6
				FROM = { surrender_progress > 0.9 }
			}
		}
	}
}

GER_reorganization_of_germany_category = {

	GER_stimulate_change = {
		icon = eng_trade_unions_support

		cost = 25
		
		available = {
			communism > 0.05
			custom_trigger_tooltip = {
				set_temp_variable = { temp1 = 10 }
				check_variable = { reorganization_of_state < temp1 }
				tooltip = has_less_reorganization_of_state_tt
			}
        }
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision GER_stimulate_change"
			add_popularity = { ideology = communism popularity = -0.05 }
			add_popularity = { ideology = democratic popularity = 0.05 }
			set_temp_variable = { temp1 = 1 }
			add_to_variable = { reorganization_of_state = temp1 }
			clamp_variable = { var = reorganization_of_state min = 0 max = 10 }
			custom_effect_tooltip = reorganization_of_state_tt
			check_reorganization_of_state = yes
		}

		ai_will_do = {
			factor = 0
		}
	}
	
	GER_rethink_changes = {
		icon = oppression

		cost = 25
		
		available = {
			democratic > 0.05
			custom_trigger_tooltip = {
				set_temp_variable = { temp1 = 0 }
				check_variable = { reorganization_of_state > temp1 }
				tooltip = has_more_reorganization_of_state_tt
			}
        }
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision GER_rethink_changes"
			add_popularity = { ideology = democratic popularity = -0.05 }
			add_popularity = { ideology = communism popularity = 0.05 }
			set_temp_variable = { temp1 = -1 }
			add_to_variable = { reorganization_of_state = temp1 }
			clamp_variable = { var = reorganization_of_state min = 0 max = 10 }
			custom_effect_tooltip = reorganization_of_state_tt
			check_reorganization_of_state = yes
		}

		ai_will_do = {
			factor = 0
		}
	}
}